{"version":3,"sources":["context/app/invites-received-number/InvitesReceivedContext.js","context/app/unvisualized-comments-number/UnvisualizedCommentsContext.js","context/app/unvisualized-likes-number/UnvisualizedLikesContext.js","context/app/unread-messages-number/UnreadMessagesContext.js","context/app/algorithm-weights/AlgorithmWeightsContext.js","context/app/AppContext.js","config/settings.js","config/utils.js","assets/icons/Logo.js","pages/auth/reset-password/components/ResetPasswordForm.js","pages/auth/reset-password/components/EmailSent.js","pages/PageLoader.js","pages/auth/reset-password/ResetPassword.js","components/fixed/SidebarLeft.js","components/fixed/sidebar-right/components/SidebarSlider.js","components/fixed/sidebar-right/components/home-sidebar/components/algorithm-settings/components/InfoModal.js","components/fixed/sidebar-right/components/InfoIcon.js","components/fixed/sidebar-right/components/home-sidebar/components/algorithm-settings/AlgorithmSettings.js","components/fixed/sidebar-right/components/home-sidebar/components/GlobalChat.js","components/fixed/sidebar-right/components/home-sidebar/HomeSidebar.js","components/ProfileListItem.js","components/fixed/sidebar-right/components/profile-sidebar/components/recomended-profiles/components/InfoModal.js","components/fixed/sidebar-right/components/profile-sidebar/components/recomended-profiles/RecomendedProfiles.js","components/fixed/sidebar-right/components/profile-sidebar/ProfileSidebar.js","components/fixed/sidebar-right/SidebarRight.js","components/fixed/Header.js","components/LikesModal.js","pages/main-app/home/components/posts_/components/PostForm.js","components/PostListItem.js","pages/main-app/home/components/posts_/Posts.js","pages/main-app/home/components/profiles/components/ProfilesSearchInput.js","pages/main-app/home/components/profiles/Profiles.js","pages/main-app/home/components/explore/Explore.js","pages/main-app/home/components/trending/Trending.js","components/fixed/bottom-menu/components/PostIcon.js","components/fixed/bottom-menu/BottomMenu.js","pages/main-app/home/components/HomePageMenu.js","pages/main-app/home/Home.js","pages/main-app/notifications/components/InviteNotification.js","pages/main-app/notifications/components/NotificationContent.js","pages/main-app/notifications/components/NewLabel.js","pages/main-app/notifications/Notifications.js","pages/main-app/messages_/components/ModalContactSearch.js","pages/main-app/messages_/websocket.js","pages/main-app/messages_/components/chat_/components/SendMessageForm.js","pages/main-app/messages_/components/chat_/components/MessageListItem.js","pages/main-app/messages_/components/chat_/Chat.js","pages/main-app/messages_/components/ContactListItem.js","pages/main-app/messages_/components/ContactFilterInput.js","pages/main-app/messages_/Messages.js","context/edit-profile/profile-image/ProfileImageContext.js","context/edit-profile/EditProfileContext.js","pages/main-app/profile/components/edit-profile/components/CroppieModal.js","pages/main-app/profile/components/edit-profile/components/EditProfileModal.js","pages/main-app/profile/components/edit-profile/EditProfile.js","pages/main-app/profile/components/Posts.js","pages/main-app/profile/components/interests/Interests.js","pages/main-app/profile/components/ProfileData.js","pages/main-app/profile/MyProfile.js","pages/main-app/settings_/components/SettingsMenu.js","pages/main-app/settings_/components/BlockedProfiles.js","pages/main-app/settings_/components/security_/SecurityMenu.js","pages/main-app/settings_/components/Faq.js","pages/main-app/settings_/components/security_/components/ChangePassword.js","pages/main-app/settings_/components/security_/components/DeleteAccount.js","pages/main-app/settings_/components/Feedback.js","pages/main-app/settings_/Settings.js","pages/main-app/profile/Profile.js","pages/main-app/profile/pages/Friends.js","pages/main-app/profile/components/interests/pages/InterestProfiles.js","pages/main-app/profile/pages/edit_interests/components/InterestsInput.js","pages/main-app/profile/pages/edit_interests/components/PublicInterests.js","pages/main-app/profile/pages/edit_interests/components/PrivateInterests.js","pages/main-app/profile/pages/edit_interests/EditInterests.js","components/CommentModal.js","pages/main-app/home/components/posts_/pages/post_/components/CommentListItem.js","components/fixed/bottom-menu/components/CommentIcon.js","pages/main-app/home/components/posts_/pages/post_/Post.js","pages/main-app/mobile-post-form/PostFormPage.js","pages/main-app/Router.js","pages/auth/login/Login.js","pages/auth/signup/components/SignupForm.js","pages/auth/signup/components/InterestsForm.js","pages/auth/signup/components/ActivationLinkSent.js","pages/auth/signup/Signup.js","pages/auth/Router.js","App.js","index.js"],"names":["InvitesReceivedContext","createContext","InvitesReceivedProvider","props","useState","invitesReceivedNumber","setInvitesReceived","Provider","value","children","UnvisualizedCommentsContext","UnvisualizedCommentsProvider","unvisualizedCommentsNumber","setUnvisulaizedComments","UnvisualizedLikesContext","UnvisualizedLikesProvider","unvisualizedLikesNumber","setUnvisulaizedLikes","UnreadMessagesContext","UnreadMessagesProvider","unreadMessagesNumber","setUnreadMessagesNumber","AlgorithmWeightsContext","AlgorithmWeightsProvider","weights","setWeights","AppContextProvider","SERVER_URL","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","handleLogout","window","confirm","location","replace","openCloseEmojiList","closing","el","querySelector","style","display","classList","remove","add","onExpandableTextareaInput","elm","target","contains","nodeName","rows","minRows","getAttribute","_baseScrollHeight","savedValue","scrollHeight","getScrollHeight","Math","ceil","setTheme","theme","cssVariables","documentElement","setProperty","Logo","size","color","version","xmlns","width","height","viewBox","preserveAspectRatio","transform","fill","stroke","d","ResetPasswordForm","emailRef","useRef","submitButtonRef","background","className","maxWidth","margin","onSubmit","e","preventDefault","setResetPasswordPage","fetch","method","headers","body","JSON","stringify","current","then","response","json","data","fontSize","errMessage","ref","type","placeholder","onChange","disabled","listStyle","onClick","history","back","class","EmailSent","top","left","alert","PageLoader","ResetPassword","currentPage","setCurrentPage","title","Sidebar","useContext","notificationsNumber","localStorage","getItem","useEffect","getElementById","checked","to","textDecoration","activeClassName","id","setItem","for","marginLeft","SidebarSlider","handlePageChange","querySelectorAll","forEach","opacity","bottom","FeedAlgorithmInfoModal","Modal","show","isOpen","onHide","hideModal","Header","closeButton","Title","Body","InfoIcon","right","FeedAlgorithm","interestsValue","setInterestsValue","ageValue","setAgeValue","friendsValue","setFriendsValue","isFriendValue","setIsFriendValue","infoModalIsOpen","setInfoModalIsOpen","interest_weight","age_weight","friends_weight","is_friend_weight","handleMouseUp","marginTop","padding","min","max","onInput","onMouseUp","GlobalChat","message","setMessage","borderTop","FeedSidebar","pageIndex","setPageIndex","pages","ProfileListItem","profile","myProfile","imgSize","bioLength","bool","undefined","console","log","bioWasRendered","slug","key","src","photo","marginRight","textAlign","first_name","last_name","user","username","bio","slice","RecomendedProfilesInfoModal","profileSlug","RecomendedProfiles","recomendedProfiles","setRecomendedProfiles","map","ProfileSidebar","setPages","setMyProfile","urlArr","href","parentProps","SidebarRight","page","setPage","useParams","justifyContent","backArrow","LikesModal","overflow","overflowY","likes","like","borderLeft","borderRight","PostForm","isMobile","visualViewport","hashtags","taggedUsers","postContent","setPostContent","postFormImagePreview","setPostFormImagePreview","action","encType","data-min-rows","maxLength","autoFocus","htmlFor","accept","reader","FileReader","onload","readyState","result","readAsDataURL","files","onEmojiClick","event","emojiObject","emoji","PostListItem","post","likeUnlikePost","stopPropagation","likeBtn","dataset","postid","renderParent","onanimationend","author","created","reverse","join","borderRadius","postId","openCloseExtraOptions","animationPlayState","addEventListener","fetchPosts","deletePost","content","image","outline","comments","includes","data-postid","openLikesModal","Posts","posts","setPosts","likesModal","setLikesModal","scrollCount","onscroll","innerHeight","scrollY","offsetHeight","ProfilesSearchInput","setFilteredProfiles","search","setSearch","searchType","setSearchType","openCloseSearchTypeSelector","Profiles","profiles","setProfiles","filteredProfiles","setScrollCount","handleRelationshipUpdate","pk","btn","innerHTML","cancelFriendRequest","data-pk","Explore","selectedInterest","switchPage","element","innerText","interests","interest","Trending","BottomMenu","HomePageMenu","feedPageTitle","profilesPageTitle","explorePageTitle","trendsPageTitle","handleMouseIn","text","handleMouseOut","icon","onMouseEnter","onMouseOut","Home","elements","toLowerCase","newsPageTitle","PostIcon","InviteListItem","invite","replyRequest","backgroundColor","sender","data-senderid","data-reply","NotificationContent","notification","paddingTop","NewLabel","Notifications","notificationsFetchInterval","invites","setInvites","unvisualizedPostLikes","setUnvisualizedPostLikes","visualizedPostLikes","setVisualizedPostLikes","unvisualizedComments","setUnvisualizedComments","visualizedComments","setVisualizedComments","fetchNotifications","setInterval","clearInterval","updateNotificationsNumber","requestBody","senderid","reply","comment","ModalContactSearch","modalProfiles","setParentState","addingNewChat","query","WebSocketService","callbacks","this","socketRef","instance","chatUrl","path","WebSocket","onopen","socketNewMessage","command","onmessage","onerror","onclose","close","parsedData","parse","Object","keys","messages","chatId","sendMessage","from","messagesCallback","newMessageCallback","state","send","err","WebSocketInstance","getInstance","SendMessageForm","otherProfile","updateMessagesComponent","messageObject","blocked_users","u","newChatMessage","MessageListItem","currentUser","timestamp","ts","Date","day","getDate","month","getMonth","hour","getHours","minute","getMinutes","getFullYear","renderTimestamp","read","Chat","handleComponentChange","otherUsername","setState","scrolledToBottom","scrollToBottom","readMessages","chat_id","chatLog","scrollTop","initialiseChat","waitForSocketConnection","addCallbacks","getMessages","bind","addMessage","fetchMessages","connect","activeElement","focus","disconnect","newProps","updateUnreadMessagesNumber","callback","component","setTimeout","openModal","React","Component","ContactListItem","unreadMessagesCounter","lastChatMessage","activeChats","activeChatsProfiles","whiteSpace","maxHeight","indexOf","setLastChatMessage","contact","ContactFilterInput","setHasFilteredProfiles","fetchActiveChatProfiles","filter","p","renderedActiveChatsProfiles","setContactSearch","Messages","handleReceiveProps","match","params","participants","other_username","hasFilteredProfiles","chats","rerenderingInterval","ProfileImageContext","ProfileImageProvider","profileImage","setProfileImage","EditProfileContext","EditProfileProvider","CroppieModal","imageElement","cropper","Cropper","viewMode","scalable","aspectRatio","crop","canvas","getCroppedCanvas","toDataURL","stopCropping","alt","crossorigin","EditProfileModal","editingBioContent","setEditingBioContent","marginBottom","handleProfileImageChange","email","defaultValue","birth_date","Footer","closeModal","submit","EditProfile","isCroppingImage","setIsCropping","isCropping","fetchProfile","Interests","public","minHeight","toUpperCase","ProfileData","friends","MyProfile","setProfile","currentPageIsPosts","setCurrentPageIsPosts","isEditing","setIsEditing","SettingsMenu","activeStyle","BlockUser","blockedProfiles","setBlockedProfiles","SecurityMenu","Faq","borderBottom","open","ChangePassword","errorMessage","setErrorMessage","successMessage","setSuccessMessage","role","passwordEl","newPasswordEl","newPasswordcEl","password","newPassword","newPasswordc","new_password","new_passwordc","DeleteAccount","displayErrorMessage","setDisplayErrorMessage","fontWeight","Feedback","setName","selectedRating","handleFaceMouseEnter","img","handleFaceMouseLeave","selected","selectFace","data-selected","onMouseLeave","Settings","Profile","fetchRelationship","label","relationship","relationshipButtonLabel","sendFriendRequest","removeFromFriends","acceptFriendRequest","blockUnblockUser","alertMessage","baseState","onmouseenter","onmouseout","Friends","setFriends","friend","InterestProfiles","InterestsInput","setInterests","tagContainer","input","interestsInput","tags","addTags","tag","parentElement","removeChild","sort","prepend","div","createElement","span","closeIcon","setAttribute","appendChild","createTag","push","tagLabel","index","PublicInterests","PrivateInterests","EditInterests","publicInterests","setPublicInterests","privateInterests","setPrivateInterests","public_interests","private_interests","CommentModal","commentContent","setCommentContent","CommentListItem","fetchPost","setPostLikesModal","likeUnlikeComment","commentid","commentId","deleteComment","data-commentid","Post","setPost","commentModalIsOpen","setCommentModalIsOpen","postLikesModal","commentLikesModal","setCommentLikesModal","CommentIcon","MainAppRouter","exact","render","ProfileFriends","PostFormPage","Login","setErrMessage","usernameRef","passwordRef","handleInputChange","SignupForm","firstNameRef","lastNameRef","birthDateRef","passwordcRef","setSignupPage","setMyUserId","userId","InterestsForm","myUserId","ActivationLinkSent","Signup","AuthRouter","App","isLogged","setIsLogged","ReactDOM"],"mappings":"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","file":"static/js/main.e2538709.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react'\r\n\r\nexport const InvitesReceivedContext = createContext()\r\n\r\nexport const InvitesReceivedProvider = props => {\r\n    const [invitesReceivedNumber, setInvitesReceived] = useState(0)\r\n\r\n    return (\r\n        <InvitesReceivedContext.Provider value={[invitesReceivedNumber, setInvitesReceived]}>\r\n            {props.children}\r\n        </InvitesReceivedContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const UnvisualizedCommentsContext = createContext()\r\n\r\nexport const UnvisualizedCommentsProvider = props => {\r\n    const [unvisualizedCommentsNumber, setUnvisulaizedComments] = useState(0)\r\n\r\n    return (\r\n        <UnvisualizedCommentsContext.Provider value={[unvisualizedCommentsNumber, setUnvisulaizedComments]}>\r\n            {props.children}\r\n        </UnvisualizedCommentsContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const UnvisualizedLikesContext = createContext()\r\n\r\nexport const UnvisualizedLikesProvider = props => {\r\n    const [unvisualizedLikesNumber, setUnvisulaizedLikes] = useState(0)\r\n\r\n    return (\r\n        <UnvisualizedLikesContext.Provider value={[unvisualizedLikesNumber, setUnvisulaizedLikes]}>\r\n            {props.children}\r\n        </UnvisualizedLikesContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const UnreadMessagesContext = createContext()\r\n\r\nexport const UnreadMessagesProvider = props => {\r\n    const [unreadMessagesNumber, setUnreadMessagesNumber] = useState(0)\r\n    \r\n    return (\r\n        <UnreadMessagesContext.Provider value={[unreadMessagesNumber, setUnreadMessagesNumber]}>\r\n            {props.children}\r\n        </UnreadMessagesContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const AlgorithmWeightsContext = createContext()\r\n\r\nexport const AlgorithmWeightsProvider = props => {\r\n    const [weights, setWeights] = useState(null)\r\n\r\n    return (\r\n        <AlgorithmWeightsContext.Provider value={[weights, setWeights]}>\r\n            {props.children}\r\n        </AlgorithmWeightsContext.Provider>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { InvitesReceivedContext, InvitesReceivedProvider } from './invites-received-number/InvitesReceivedContext'\r\nimport { UnvisualizedCommentsContext, UnvisualizedCommentsProvider } from './unvisualized-comments-number/UnvisualizedCommentsContext'\r\nimport { UnvisualizedLikesContext, UnvisualizedLikesProvider } from './unvisualized-likes-number/UnvisualizedLikesContext'\r\nimport { UnreadMessagesContext, UnreadMessagesProvider } from './unread-messages-number/UnreadMessagesContext'\r\nimport { AlgorithmWeightsContext, AlgorithmWeightsProvider } from './algorithm-weights/AlgorithmWeightsContext'\r\nexport { InvitesReceivedContext, UnvisualizedCommentsContext, UnvisualizedLikesContext, UnreadMessagesContext, AlgorithmWeightsContext }\r\n\r\nexport default function AppContextProvider(props) {\r\n    return (\r\n        <InvitesReceivedProvider>\r\n            <UnvisualizedCommentsProvider>\r\n                <UnvisualizedLikesProvider>\r\n                    <UnreadMessagesProvider>\r\n                        <AlgorithmWeightsProvider>\r\n                            {props.children}\r\n                        </AlgorithmWeightsProvider>\r\n                    </UnreadMessagesProvider>\r\n                </UnvisualizedLikesProvider>\r\n            </UnvisualizedCommentsProvider>\r\n        </InvitesReceivedProvider>\r\n    )\r\n}","//const SERVER_URL = 'https://napker.herokuapp.com'\r\n//const SOCKET_URL = 'wss://napker.herokuapp.com'\r\nconst SERVER_URL = 'http://127.0.0.1:8000'\r\nconst SOCKET_URL = 'ws://127.0.0.1:8000'\r\n\r\nexport { SERVER_URL, SOCKET_URL }\r\n","import { SERVER_URL } from './settings'\r\n\r\nexport const csrftoken = getCookie('csrftoken')\r\n\r\nfunction getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== '') {\r\n    const cookies = document.cookie.split(';');\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      // Does this cookie string begin with the name we want?\r\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nexport const handleLogout = () => {\r\n  const bool = window.confirm('Sair do Napker?\\nVocê poderá entrar novamente quando quiser.')\r\n  if (bool) {\r\n    window.location.replace(`${SERVER_URL}/logout`)\r\n  }\r\n}\r\n\r\nexport const openCloseEmojiList = (closing = false) => {\r\n  const el = document.querySelector('#emoji-list-container')\r\n  const style = el.style\r\n  if (closing) {\r\n    style.display = 'none'\r\n    document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n  } else {\r\n    if (!style.display || style.display === 'none') {\r\n      style.display = 'initial'\r\n      document.querySelector('#emoji-button').classList.add('emoji-button-active')\r\n    } else {\r\n      style.display = 'none'\r\n      document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n    }\r\n  }\r\n}\r\n\r\n// EXPANDABLE TEXTAREA\r\n\r\nfunction getScrollHeight(elm) {\r\n  var savedValue = elm.value\r\n  elm.value = ''\r\n  elm._baseScrollHeight = elm.scrollHeight\r\n  elm.value = savedValue\r\n}\r\n\r\nexport function onExpandableTextareaInput({ target: elm }) {\r\n  // make sure the input event originated from a textarea and it's desired to be auto-expandable\r\n  if (!elm.classList.contains('autoExpand') || !elm.nodeName == 'TEXTAREA') return\r\n\r\n  var minRows = elm.getAttribute('data-min-rows') | 0, rows;\r\n  !elm._baseScrollHeight && getScrollHeight(elm)\r\n\r\n  elm.rows = minRows\r\n  rows = Math.ceil((elm.scrollHeight - elm._baseScrollHeight) / 16)\r\n  elm.rows = minRows + rows\r\n}\r\n\r\n// THEME\r\n\r\nexport const setTheme = theme => {\r\n  const cssVariables = document.documentElement.style\r\n\r\n  if (theme === 'light') {\r\n      cssVariables.setProperty('--border-color', '#f3f3f3')\r\n      cssVariables.setProperty('--background', '#f3f3f3')\r\n      cssVariables.setProperty('--fixed-components-background', '#fcfdfc')\r\n      cssVariables.setProperty('--heart-color', '#E0245E')\r\n      cssVariables.setProperty('--heart-background-hover', 'rgba(224, 36, 94, .1)')\r\n      cssVariables.setProperty('--primary-color', '#48D1AF')\r\n      cssVariables.setProperty('--secondary-color', 'rgba(119, 147, 125, .1)')\r\n      cssVariables.setProperty('--primary-color-hover', '#3FB597')\r\n      cssVariables.setProperty('--primary-grey', '#363636')\r\n      cssVariables.setProperty('--loader-background', 'rgba(119, 147, 125, .3)')\r\n      cssVariables.setProperty('--theme-base-color', '#fff')\r\n      cssVariables.setProperty('--theme-base-color-hover', 'rgba(250, 250, 250, 0.7)')\r\n      cssVariables.setProperty('--view-more-select-border', 'rgba(0, 0, 0, .2)')\r\n\r\n  } else if (theme === 'dark') {\r\n      cssVariables.setProperty('--border-color', '#000')\r\n      cssVariables.setProperty('--background', '#000')\r\n      cssVariables.setProperty('--fixed-components-background', '#131313')\r\n      cssVariables.setProperty('--heart-color', '#E0245E')\r\n      cssVariables.setProperty('--heart-background-hover', 'rgba(224, 36, 94, .1)')\r\n      cssVariables.setProperty('--primary-color', '#48D1AF')\r\n      cssVariables.setProperty('--secondary-color', 'rgba(119, 147, 125, .1)')\r\n      cssVariables.setProperty('--primary-color-hover', '#3FB597')\r\n      cssVariables.setProperty('--primary-grey', '#D9D9D9')\r\n      cssVariables.setProperty('--loader-background', 'rgba(119, 147, 125, .3)')\r\n      cssVariables.setProperty('--theme-base-color', '#131313')\r\n      cssVariables.setProperty('--theme-base-color-hover', 'rgba(255, 255, 255, 0.1)')\r\n      cssVariables.setProperty('--view-more-select-border', 'rgba(255, 255, 255, .2)')\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Logo(props) {\r\n    const size = props.size ? props.size : '25pt'\r\n    const color = props.color ? props.color : 'var(--primary-color)'\r\n\r\n    return (\r\n        <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\r\n            width={size} height={size} viewBox=\"0 0 452.000000 452.000000\"\r\n            preserveAspectRatio=\"xMidYMid meet\">\r\n\r\n            <g transform=\"translate(0.000000,452.000000) scale(0.100000,-0.100000)\"\r\n                fill={color} stroke=\"none\">\r\n                <path d=\"M674 4491 c-120 -19 -280 -86 -372 -156 -130 -98 -242 -272 -277\r\n                -431 -34 -151 -8 -312 63 -388 63 -67 170 -85 264 -43 149 66 210 257 133 420\r\n                -35 75 -31 91 22 95 85 6 227 -98 282 -206 53 -105 51 -46 51 -1698 1 -841 5\r\n                -1559 9 -1596 5 -38 22 -96 38 -130 68 -145 205 -228 377 -228 128 0 238 43\r\n                312 122 52 55 71 87 95 156 18 53 19 108 19 1796 0 1711 -1 1742 -20 1784\r\n                l-20 44 23 19 c79 67 190 125 282 148 75 19 211 15 305 -8 263 -66 469 -298\r\n                544 -616 33 -143 36 -247 36 -1502 0 -836 4 -1278 11 -1330 13 -96 48 -200 97\r\n                -290 49 -91 177 -220 257 -260 112 -56 152 -63 388 -63 196 0 223 2 313 25\r\n                155 39 266 99 373 200 77 74 97 100 139 183 27 53 56 120 65 147 47 155 17\r\n                358 -65 431 -120 107 -338 45 -398 -114 -33 -86 -30 -159 10 -260 31 -77 32\r\n                -84 17 -99 -14 -14 -23 -15 -67 -5 -97 23 -194 115 -238 227 -38 98 -42 195\r\n                -42 1155 0 740 -3 952 -15 1060 -45 423 -187 746 -434 990 -201 199 -409 312\r\n                -736 400 -102 28 -366 38 -512 21 -192 -24 -421 -98 -523 -171 -36 -26 -46\r\n                -25 -83 6 -58 49 -219 121 -336 151 -66 16 -314 25 -387 14z\"/>\r\n            </g>\r\n        </svg>\r\n    )\r\n}","import React, { useRef } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\nimport Logo from '../../../../assets/icons/Logo'\r\n\r\n\r\nexport default function ResetPasswordForm(props) {\r\n    const emailRef = useRef()\r\n    const submitButtonRef = useRef()\r\n\r\n    const handleInputChange = () => {\r\n        submitButtonRef.current.disabled = emailRef.current.value === ''\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        props.setResetPasswordPage('page-loader')\r\n        fetch(`${SERVER_URL}/post-reset-password`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'email': emailRef.current.value,\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data == 'email sent') {\r\n                    props.setResetPasswordPage('email-sent')\r\n                } else {\r\n                    props.setResetPasswordPage('email-does-not-exists')\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '98vw', height: '90vh', background: 'var(--theme-base-color)' }}>\r\n            <form\r\n                className=\"d-flex flex-column align-items-center primary-form\"\r\n                style={{ width: '90%', maxWidth: '600px', margin: '50px auto' }}\r\n                onSubmit={handleSubmit}\r\n            >\r\n                <Logo size=\"30pt\" />\r\n                <h1 className=\"mt-3\" style={{ fontSize: '30px' }}>Esqueceu sua senha?</h1>\r\n\r\n                <p>Por favor confirme o email ligado a sua conta.</p>\r\n\r\n                {props.errMessage !== null &&\r\n                    <div className=\"w-75 d-flex justify-content-center\">\r\n                        <span className=\"word-break\" style={{ color: '#f00' }}>{props.errMessage}</span>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"w-75 mt-3 d-flex justify-content-center\">\r\n                    <input ref={emailRef} className=\"form-control w-100\" type=\"email\" placeholder=\"Email\" onChange={handleInputChange} />\r\n                </div>\r\n\r\n                <button\r\n                    ref={submitButtonRef}\r\n                    className=\"btn btn-primary w-75 mt-2 py-2\"\r\n                    disabled\r\n                >Confirmar\r\n            </button>\r\n\r\n                <ul className=\"w-100 d-flex justify-content-center text-center mt-3\" style={{ listStyle: 'none' }}>\r\n                    <li className=\"hover-underline hover-pointer\" style={{ color: 'var(--primary-color)' }} onClick={() => window.history.back()}>\r\n                        <i class=\"fas fa-arrow-left\"></i>\r\n                        <span className=\"ml-1\">Voltar</span>\r\n                    </li>\r\n                </ul>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport Logo from '../../../../assets/icons/Logo'\r\n\r\n\r\nexport default function EmailSent() {\r\n\r\n    return (\r\n        <div\r\n            class=\"position-absolute d-flex flex-column align-items-start\"\r\n            style={{ top: '15%', left: '10%' }}\r\n        >\r\n            <Logo size=\"35pt\" />\r\n            <h3 className=\"my-3\">Tudo certinho!</h3>\r\n            <p className=\"pb-3\" style={{ fontSize: 'large' }}>Enviamos um email para você com um link para você criar uma nova senha...</p>\r\n            <p\r\n                className=\"pt-3 hover-underline hover-pointer\"\r\n                style={{ color: 'var(--primary-color)', fontSize: 'large' }}\r\n                onClick={() => window.alert('Verifique se o email está na caixa de spam.')}\r\n            >\r\n                Não recebi o email\r\n            </p>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport Logo from '../assets/icons/Logo'\r\n\r\n\r\nexport default function PageLoader() {\r\n\r\n    return (\r\n        <div className=\"d-flex align-items-center\" style={{ height: '85vh' }}>\r\n            <div className=\"spinner\">\r\n                <Logo size=\"50pt\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport ResetPasswordForm from './components/ResetPasswordForm'\r\nimport EmailSent from './components/EmailSent'\r\nimport PageLoader from '../../PageLoader'\r\n\r\n\r\nexport default function ResetPassword() {\r\n    const [currentPage, setCurrentPage] = useState('reset-password')\r\n\r\n    document.title = 'Recuperar senha / Napker'\r\n\r\n    return (\r\n        <>\r\n            {currentPage === 'reset-password' &&\r\n                <ResetPasswordForm setResetPasswordPage={setCurrentPage} />\r\n            }\r\n            {currentPage === 'email-does-not-exists' &&\r\n                <ResetPasswordForm setResetPasswordPage={setCurrentPage} errMessage='Não existe nenhuma conta ligada a esse email!' />\r\n            }\r\n            {currentPage === 'email-sent' &&\r\n                <EmailSent />\r\n            }\r\n            {currentPage === 'page-loader' &&\r\n                <PageLoader />\r\n            }\r\n        </>\r\n    )\r\n}","import React, { useEffect, useContext } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\nimport { setTheme } from '../../config/utils'\r\nimport {\r\n    InvitesReceivedContext, UnvisualizedCommentsContext,\r\n    UnvisualizedLikesContext, UnreadMessagesContext\r\n} from '../../context/app/AppContext'\r\nimport Logo from '../../assets/icons/Logo'\r\n\r\nexport default function Sidebar() {\r\n    const [invitesReceivedNumber,] = useContext(InvitesReceivedContext)\r\n    const [unvisualizedCommentsNumber,] = useContext(UnvisualizedCommentsContext)\r\n    const [unvisualizedLikesNumber,] = useContext(UnvisualizedLikesContext)\r\n\r\n    const [unreadMessagesNumber,] = useContext(UnreadMessagesContext)\r\n\r\n    let notificationsNumber = invitesReceivedNumber + unvisualizedLikesNumber + unvisualizedCommentsNumber\r\n\r\n    let theme = window.localStorage.getItem('theme') || 'light'\r\n\r\n\r\n    useEffect(() => {\r\n        document.getElementById('chk').checked = theme === 'dark'\r\n    }, [])\r\n\r\n    const switchTheme = () => {\r\n        theme = theme === 'light' ? 'dark' : 'light'\r\n        setTheme(theme)\r\n        window.localStorage.setItem('theme', theme)\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\" style={{ left: '0' }}>\r\n            <div>\r\n                <div className=\"logo-container\">\r\n                    <Link to=\"/home\" style={{ textDecoration: 'none' }}>\r\n                        <Logo />\r\n                    </Link>\r\n                </div>\r\n                <ul>\r\n                    <NavLink to=\"/home\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                            <span>Home</span>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/notificações\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                            <span>Notificações</span>\r\n                            {!notificationsNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {notificationsNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/mensagens\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-envelope sidebar-menu-icon\" />\r\n                            <span>Mensagens</span>\r\n                            {!unreadMessagesNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {unreadMessagesNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/perfil\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                            <span>Perfil</span>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/configurações\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                            <span>Configurações</span>\r\n                        </li>\r\n                    </NavLink>\r\n                </ul>\r\n            </div>\r\n            <div class=\"d-flex justify-content-start sidebar-menu-item\">\r\n                <div class=\"one-quarter\" id=\"switch\">\r\n                    <input type=\"checkbox\" class=\"checkbox\" id=\"chk\" onChange={switchTheme} />\r\n                    <label class=\"label m-0\" for=\"chk\">\r\n                        <i class=\"fas fa-sun\"></i>\r\n                        <i class=\"fas fa-moon\"></i>\r\n                        <div class=\"ball\"></div>\r\n                    </label>\r\n                </div>\r\n                <span style={{ marginLeft: '10px' }}>Tema</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function SidebarSlider(props) {\r\n\r\n    const handlePageChange = e => {\r\n        document.querySelectorAll('.slider-navigation-item').forEach(el => {\r\n            el.style.opacity = .5\r\n        })\r\n        e.target.style.opacity = 1\r\n\r\n        props.handlePageChange(e)\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex w-100 justify-content-center position-absolute py-3\" style={{ bottom: '0' }}>\r\n            <div\r\n                className=\"w-25 p-1 m-2 primary-hover slider-navigation-item\"\r\n                id=\"0\"\r\n                style={{ background: 'var(--primary-color)', opacity: '1' }}\r\n                onClick={handlePageChange}\r\n            />\r\n            <div\r\n                className=\"w-25 p-1 m-2 primary-hover slider-navigation-item\"\r\n                id=\"1\"\r\n                style={{ background: 'var(--primary-color)', opacity: '.5' }}\r\n                onClick={handlePageChange}\r\n            />\r\n            <div\r\n                className=\"w-25 p-1 m-2 primary-hover slider-navigation-item\"\r\n                id=\"2\"\r\n                style={{ background: 'var(--primary-color)', opacity: '.5' }}\r\n                onClick={handlePageChange}\r\n            />\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\n\r\nexport default function FeedAlgorithmInfoModal(props) {\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Configurações do Algoritmo</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <h3>Como o nosso algoritmo deve funcionar?</h3>\r\n                <p>\r\n                    Os critérios presentes na barra lateral (Interesses em comum, Semelhança de idade...) são utilizados para calcularmos a\r\n                    relevância de um perfil em relação a outro. Sabendo disso, você pode escolher o peso de cada critério e assim, personalizar o\r\n                    algoritmo que calculará a relevância dos outros perfis.\r\n                    <br />\r\n                    <br />\r\n                    Exemplo: Caso você mude o peso do critério \"Interesses em comum\" para 100 e todos os outros para 0, os perfis da página \"Encontrar perfis\" \r\n                    serão ordenados levando em consideração apenas a quantidade de interesses em comum que o usuário tem com você.\r\n                    <br />\r\n                    <br />\r\n                    A relevância de um post é calculada baseada na relevância do autor do mesmo e dos perfis que curtiram a publicação. Ou seja,\r\n                    ao decidir como a relevância de um perfil será calculada, você está personalizando o algoritmo que decidirá quais posts devem aparecer para você\r\n                    e em que ordem.\r\n                </p>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function InfoIcon(props) {\r\n\r\n    return (\r\n        <i\r\n            class=\"fas fa-info-circle position-absolute hover-pointer py-3\"\r\n            style={{ top: '0', right: '0', color: 'var(--text-secondary)' }}\r\n            onClick={props.onClick}\r\n        />\r\n    )\r\n}","import React, { useEffect, useState, useContext } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../../../config/settings'\r\nimport { csrftoken } from '../../../../../../../config/utils'\r\nimport { AlgorithmWeightsContext } from '../../../../../../../context/app/AppContext'\r\nimport InfoModal from './components/InfoModal'\r\nimport InfoIcon from '../../../InfoIcon'\r\n\r\n\r\nexport default function FeedAlgorithm() {\r\n    const [weights, setWeights] = useContext(AlgorithmWeightsContext)\r\n\r\n    const [interestsValue, setInterestsValue] = useState(null)\r\n    const [ageValue, setAgeValue] = useState(null)\r\n    const [friendsValue, setFriendsValue] = useState(null)\r\n    const [isFriendValue, setIsFriendValue] = useState(null)\r\n\r\n    const [infoModalIsOpen, setInfoModalIsOpen] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (weights) {\r\n            setInterestsValue(weights.interest_weight)\r\n            setAgeValue(weights.age_weight)\r\n            setFriendsValue(weights.friends_weight)\r\n            setIsFriendValue(weights.is_friend_weight)\r\n        }\r\n    }, [weights])\r\n\r\n    const handleMouseUp = () => {\r\n        fetch(`${SERVER_URL}/profile-api/set-post-weights`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'interest-weight': interestsValue,\r\n                'age-weight': ageValue,\r\n                'friends-weight': friendsValue,\r\n                'is_friend-weight': isFriendValue\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'weights updated') {\r\n                    setWeights({\r\n                        interest_weight: interestsValue,\r\n                        age_weight: ageValue,\r\n                        friends_weight: friendsValue,\r\n                        is_friend_weight: isFriendValue,\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {interestsValue !== null  && ageValue !== null  && friendsValue !== null  && isFriendValue !== null  ?\r\n                <>\r\n                    <InfoModal isOpen={infoModalIsOpen} hideModal={() => setInfoModalIsOpen(false)} />\r\n                    <InfoIcon onClick={() => setInfoModalIsOpen(true)} />\r\n                    <div className=\"d-flex flex-column justify-content-start align-items-center\" style={{ marginLeft: '10%' }}>\r\n                        <div className=\"b-bottom\" style={{ marginTop: 'var(--header-heigth)', width: '100%' }}>\r\n                            <h6>Personalize o algoritmo que calcula o quão relevante um perfil é para você.</h6>\r\n                        </div>\r\n                        <div className=\"b-bottom py-3\" style={{ width: '100%' }}>\r\n                            <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                                <h6>Interesses em comum</h6>\r\n                                <div>{interestsValue}</div>\r\n                            </div>\r\n                            <div class=\"range\">\r\n                                <input type=\"range\" min=\"0\" max=\"100\" value={interestsValue} onInput={e => setInterestsValue(e.target.value)} onMouseUp={handleMouseUp} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"b-bottom py-3\" style={{ width: '100%' }}>\r\n                            <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                                <h6>Semelhança de idade</h6>\r\n                                <div>{ageValue}</div>\r\n                            </div>\r\n                            <div class=\"range\">\r\n                                <input type=\"range\" min=\"0\" max=\"100\" value={ageValue} onInput={e => setAgeValue(e.target.value)} onMouseUp={handleMouseUp} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"b-bottom py-3\" style={{ width: '100%' }}>\r\n                            <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                                <h6>Amigos em comum</h6>\r\n                                <div>{friendsValue}</div>\r\n                            </div>\r\n                            <div class=\"range\">\r\n                                <input type=\"range\" min=\"0\" max=\"100\" value={friendsValue} onInput={e => setFriendsValue(e.target.value)} onMouseUp={handleMouseUp} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"py-3\" style={{ width: '100%' }}>\r\n                            <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                                <h6>Ser meu amigo</h6>\r\n                                <div>{isFriendValue}</div>\r\n                            </div>\r\n                            <div class=\"range\">\r\n                                <input type=\"range\" min=\"0\" max=\"100\" value={isFriendValue} onInput={e => setIsFriendValue(e.target.value)} onMouseUp={handleMouseUp} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\n\r\nexport default function GlobalChat() {\r\n    const [message, setMessage] = useState('')\r\n\r\n    const messageChangeHandler = e => {\r\n        setMessage(e.target.value)\r\n        const el = document.querySelector('#chat-message-submit')\r\n        el.disabled = e.target.value.trim() === ''\r\n    }\r\n\r\n    return (\r\n        <div className=\"position-relative d-flex flex-column justify-content-between align-items-center w-100 h-100\">\r\n            <div className=\"d-flex justify-content-center align-items-center w-100 b-bottom\" style={{ height: 'var(--header-heigth)' }}>\r\n                <h4>Chat global</h4>\r\n            </div>\r\n            <div className=\"d-flex flex-column justify-content-center align-items-center w-100 py-2 b-bottom\">\r\n                <h6>Hashtag em alta:</h6>\r\n                <h4 style={{ color: 'var(--primary-color)' }} >#napker</h4>\r\n            </div>\r\n            <div className=\"chat-log\">\r\n                <li className=\"received\">\r\n                    <p>\r\n                        <h6 className=\"fw-bold mb-1\">Devs Napker</h6>\r\n                        Olá tester! Ficamos felizes de ter você aqui.\r\n                    </p>\r\n                </li>\r\n                <li className=\"received\">\r\n                    <p>\r\n                        <h6 className=\"fw-bold mb-1\">Devs Napker</h6>\r\n                        O chat global ainda está em desenvolvimento...\r\n                        <br />\r\n                        <br />\r\n                        Nosso objetivo com ele é que os usuários conversem entre si sobre a hashtag mais usada no dia.\r\n                        Dessa forma, criaremos mais uma forma de engajamento e interação do usuário com a plataforma.\r\n                    </p>\r\n                </li>\r\n                <li className=\"received\">\r\n                    <p>\r\n                        <h6 className=\"fw-bold mb-1\">Devs Napker</h6>\r\n                        Depois passa no grupo pra nos dizer o que achou dessa ideia. ;)\r\n                    </p>\r\n                </li>\r\n            </div>\r\n            <div\r\n                className=\"d-flex justify-content-center align-items-center w-100 px-1 pt-2 pb-4 my-3 border-bottom\"\r\n                style={{ borderTop: '2px solid var(--border-color)', background: '#fff' }}\r\n            >\r\n                <input\r\n                    placeholder=\"Mensagem\"\r\n                    className=\"message-input w-80\"\r\n                    id=\"chat-message-input\"\r\n                    value={message}\r\n                    onChange={messageChangeHandler}\r\n                />\r\n\r\n                <button\r\n                    className=\"btn btn-primary d-flex justify-content-center align-items-center\"\r\n                    id=\"chat-message-submit\"\r\n                    style={{ height: '35px' }}\r\n                    disabled\r\n                >\r\n                    <i class=\"fas fa-chevron-right\" style={{ fontSize: 'large' }} />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport SidebarSlider from '../SidebarSlider'\r\n\r\nimport FeedAlgorithm from './components/algorithm-settings/AlgorithmSettings'\r\nimport GlobalChat from './components/GlobalChat'\r\n\r\n\r\nexport default function FeedSidebar() {\r\n    const [pageIndex, setPageIndex] = useState(0)\r\n\r\n    const pages = [<FeedAlgorithm />, <GlobalChat />, 'Em breve...']\r\n\r\n    return (\r\n        <>\r\n            {pages[pageIndex]}\r\n            <SidebarSlider handlePageChange={e => setPageIndex(e.target.id)} />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\n\r\nexport default function ProfileListItem(props) {\r\n    const profile = props.profile\r\n    const myProfile = props.myProfile\r\n\r\n    const imgSize = props.imgSize || 'med'\r\n    const bioLength = props.bioLength\r\n    const bool = props.bool == undefined ? true : props.bool\r\n    console.log(bool)\r\n    let bioWasRendered = false\r\n\r\n    return (\r\n        <Link to={profile.id === myProfile.id ?\r\n            '/perfil' : `/user/${profile.slug}`}\r\n            style={{ color: 'var(--primary-grey)', textDecoration: 'none' }}\r\n        >\r\n            <li\r\n                className=\"position-relative d-flex flex-column border-0 b-bottom base-hover\"\r\n                key={profile.id}\r\n                style={{ ...props.style, padding: '.75rem 1.25rem', background: 'var(--theme-base-color)' }}\r\n                onClick={props.onClick}\r\n            >\r\n                <div className=\"d-flex\">\r\n                    <div className=\"profile-img-container\">\r\n                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                            className={`profile-img-${imgSize}`}\r\n                            style={{ marginRight: '10px' }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"d-flex flex-column w-100\">\r\n                        <div className=\"d-flex justify-content-between align-items-center\">\r\n                            <div className=\"main-profile-data\">\r\n                                <strong style={{ textAlign: 'start' }}>\r\n                                    {profile.first_name} {profile.last_name}\r\n                                </strong>\r\n                                <p className=\"text-secondary m-0 mb-1\">@{profile.user.username}</p>\r\n                            </div>\r\n                            {props.children}\r\n                        </div>\r\n\r\n                        {bioLength ?\r\n                            <>\r\n                                {(profile.bio.split('').slice(0, bioLength).length < 60 || bool) &&\r\n                                    <div className=\"d-flex word-break\">\r\n                                        {bioWasRendered = true}\r\n                                        {profile.bio.split('').slice(0, bioLength)}\r\n                                        {profile.bio.split('').slice(0, bioLength).length < profile.bio.length && '...'}\r\n                                    </div>\r\n                                }\r\n                            </>\r\n                            :\r\n                            <>\r\n                                {(profile.bio.length < 60 || bool) &&\r\n                                    <div className=\"d-flex word-break\">\r\n                                        {bioWasRendered = true}\r\n                                        {profile.bio}\r\n                                    </div>\r\n                                }\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                {bioLength ?\r\n                    <>\r\n                        {(!bioWasRendered && (profile.bio.split('').slice(0, bioLength).length >= 60 || !bool)) &&\r\n                            <div className=\"w-100 pt-2 word-break\">\r\n                                {profile.bio.split('').slice(0, bioLength)}\r\n                                {profile.bio.split('').slice(0, bioLength).length < profile.bio.length && '...'}\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <>\r\n                        {(!bioWasRendered && (profile.bio.length >= 60 || !bool)) &&\r\n                            <div className=\"w-100 pt-2 word-break\">\r\n                                {profile.bio}\r\n                            </div>\r\n                        }\r\n                    </>\r\n                }\r\n            </li>\r\n        </Link>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\n\r\nexport default function RecomendedProfilesInfoModal(props) {\r\n    const profileSlug = props.profileSlug\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Perfis recomendados</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <h3>Como decidimos quais perfis aparecem na barra lateral?</h3>\r\n                <p>\r\n                    Os perfis que estão na barra lateral são considerados os perfis que mais \"batem\" com @{profileSlug}.\r\n                    Ou seja, são perfis que possuem bastante afinidade com o usuário.\r\n                </p>\r\n\r\n                <br />\r\n                <br />\r\n\r\n                <h3>Como é calculada a relevância de um perfil para @{profileSlug}?</h3>\r\n                <p>\r\n                    Os critérios presentes nas configurações do algoritmo (Interesses em comum, Semelhança de idade...) são utilizados para calcularmos a\r\n                    relevância de um perfil em relação a outro. Sabendo disso, você pode escolher o peso de cada critério e assim, personalizar o\r\n                    algoritmo que calculará a relevância dos perfis.\r\n                </p>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../../../config/settings'\r\nimport ProfileListItem from '../../../../../../ProfileListItem'\r\n\r\nimport InfoModal from './components/InfoModal'\r\nimport InfoIcon from '../../../InfoIcon'\r\n\r\n\r\nexport default function RecomendedProfiles(props) {\r\n    const [recomendedProfiles, setRecomendedProfiles] = useState(null)\r\n    const myProfile = props.myProfile\r\n    const profileSlug = props.profileSlug\r\n\r\n    const [infoModalIsOpen, setInfoModalIsOpen] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (profileSlug) {\r\n            fetch(`${SERVER_URL}/profile-api/profile-list/${profileSlug}`)\r\n                .then(response => response.json())\r\n                .then(data => setRecomendedProfiles(data))\r\n        }\r\n    }, [props])\r\n\r\n    return (\r\n        <>\r\n            <InfoModal isOpen={infoModalIsOpen} hideModal={() => setInfoModalIsOpen(false)} profileSlug={profileSlug} />\r\n            <InfoIcon onClick={() => setInfoModalIsOpen(true)} />\r\n            <div className=\"d-flex flex-column justify-content-start align-items-start\">\r\n                <div className=\"b-bottom\" style={{ marginTop: 'var(--header-heigth)', width: '100%' }}>\r\n                    <h6 className=\"ml-2\">Você pode gostar</h6>\r\n                </div>\r\n                {recomendedProfiles !== null ?\r\n                    <>\r\n                        {recomendedProfiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem profile={profile} myProfile={myProfile} imgSize=\"sm\" bioLength={90} bool={false} />\r\n                            )\r\n                        })}\r\n                    </>\r\n                    :\r\n                    <div className=\"loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport RecomendedProfiles from './components/recomended-profiles/RecomendedProfiles'\r\nimport SidebarSlider from '../SidebarSlider'\r\n\r\n\r\nexport default function ProfileSidebar(props) {\r\n    const [pages, setPages] = useState(null)\r\n    const [pageIndex, setPageIndex] = useState(0)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        console.log('iside useeffect')\r\n        const urlArr = window.location.href.split('/')\r\n        if (myProfile) {\r\n            const profileSlug = urlArr[urlArr.length - 2] === 'user' ? urlArr[urlArr.length - 1] : urlArr[urlArr.length - 1] === 'perfil' ? myProfile.slug : false\r\n            setPages([\r\n                <RecomendedProfiles myProfile={myProfile} profileSlug={profileSlug} />,\r\n                'Em breve...',\r\n                'Em breve...'\r\n            ])\r\n        } else {\r\n            fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setMyProfile(data)\r\n                    const profileSlug = urlArr[urlArr.length - 2] === 'user' ? urlArr[urlArr.length - 1] : urlArr[urlArr.length - 1] === 'perfil' ? data.slug : false\r\n                    setPages([\r\n                        <RecomendedProfiles myProfile={data} profileSlug={profileSlug} />,\r\n                        'Em breve...',\r\n                        'Em breve...'\r\n                    ])\r\n                })\r\n        }\r\n    }, [props.parentProps])\r\n\r\n    return (\r\n        <>\r\n            {myProfile !== null && pages !== null ?\r\n                <>\r\n                    {pages[pageIndex]}\r\n                    <SidebarSlider handlePageChange={e => setPageIndex(e.target.id)} />\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport HomeSidebar from './components/home-sidebar/HomeSidebar'\r\nimport ProfileSidebar from './components/profile-sidebar/ProfileSidebar'\r\n\r\n\r\nexport default function SidebarRight(props) {\r\n    const [page, setPage] = useState(null)\r\n\r\n    const { slug } = useParams()\r\n\r\n    useEffect(() => {\r\n        setPage(props.page)\r\n    }, [props])\r\n\r\n    const pages = {\r\n        'home': <HomeSidebar />,\r\n        'profile': <ProfileSidebar parentProps={[props, slug]} />, // passing parent props to rerender the profile sidebar on props change... otherwise it wouldn't update\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\" style={{ right: '0', justifyContent: 'start' }}>\r\n            {pages[page]}\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <div className=\"header fixed-top b-bottom\">\r\n            {!props.backArrow ? '' :\r\n                <i class=\"fas fa-arrow-left left-arrow-icon\" onClick={() => window.history.back()} />\r\n            }\r\n            <strong>{props.page}</strong>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport ProfileListItem from './ProfileListItem'\r\n\r\nexport default function LikesModal(props) {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Curtidas</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {props.likes &&\r\n                        props.likes.map(like => like.profile).map(profile => {\r\n                            return (\r\n                                <ProfileListItem\r\n                                    profile={profile}\r\n                                    myProfile={myProfile}\r\n                                    style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    onClick={props.hideModal}\r\n                                />\r\n                            )\r\n                        })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Picker from 'emoji-picker-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport { csrftoken, openCloseEmojiList } from '../../../../../../config/utils'\r\n\r\nexport default function PostForm(props) {\r\n    const myProfile = props.myProfile\r\n    const isMobile = visualViewport.width <= 980\r\n\r\n    const [hashtags, setHashtags] = useState([])\r\n    const [taggedUsers, setTaggedUsers] = useState([])\r\n    const [postContent, setPostContent] = useState('')\r\n    const [postFormImagePreview, setPostFormImagePreview] = useState(null)\r\n\r\n    const handlePostContentChange = e => {\r\n        setPostContent(e.target.value)\r\n        const el = document.querySelector('#post-form-submit-btn')\r\n        el.disabled = e.target.value.trim() === '' && !postFormImagePreview\r\n    }\r\n\r\n    const handlePostImageChange = e => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                setPostFormImagePreview(reader.result)\r\n                document.querySelector('#post-img-container').style.display = 'initial'\r\n                document.querySelector('#post-form-submit-btn').disabled = false\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    const handleCloseImage = () => {\r\n        document.querySelector('#post-img-container').style.display = 'none'\r\n        document.querySelector('#post-image').value = ''\r\n        if (postContent.trim() === '') document.querySelector('#post-form-submit-btn').disabled = true\r\n        setPostFormImagePreview(null)\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setPostContent(postContent + emojiObject.emoji)\r\n        document.querySelector('#post-form-submit-btn').disabled = false\r\n    }\r\n\r\n    return (\r\n        <form\r\n            action={`${SERVER_URL}/post-api/create-post`}\r\n            method=\"POST\"\r\n            className=\"create-post-form\"\r\n            encType=\"multipart/form-data\"\r\n        >\r\n            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n            <input type=\"hidden\" name=\"hashtags\" value={hashtags} />\r\n            <input type=\"hidden\" name=\"tagged-usernames\" value={taggedUsers} />\r\n\r\n            <div className=\"d-flex\">\r\n                <Link to=\"/perfil\">\r\n                    <img\r\n                        src={`${SERVER_URL}${myProfile.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n                <textarea\r\n                    className='autoExpand'\r\n                    rows='3'\r\n                    data-min-rows='3'\r\n                    name=\"post-content\"\r\n                    value={postContent}\r\n                    placeholder=\"O que passa pela sua cabeça?\"\r\n                    maxLength={300}\r\n                    autoFocus\r\n                    style={{ color: 'var(--primary-grey)', background: 'var(--theme-base-color)' }}\r\n                    onChange={handlePostContentChange}\r\n                />\r\n            </div>\r\n            <div className=\"w-100 d-flex justify-content-center\">\r\n                <div\r\n                    className=\"post-img-container\"\r\n                    id=\"post-img-container\">\r\n                    <div\r\n                        className=\"post-img-options\"\r\n                    >\r\n                        <i\r\n                            className=\"far fa-times-circle\"\r\n                            onClick={handleCloseImage}\r\n                        />\r\n                    </div>\r\n                    <img\r\n                        src={postFormImagePreview}\r\n                        className=\"post-img mt-0\"\r\n                        id=\"post-form-img-preview\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            <div className=\"d-flex justify-content-between\" style={{ margin: '0px 70px 0 70px' }}>\r\n                <div className=\"post-extra-options\">\r\n                    <label htmlFor=\"post-image\" class=\"far fa-image\" />\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\"image/png, image/jpg, image/jpeg\"\r\n                        name=\"post-image\"\r\n                        id=\"post-image\"\r\n                        style={{ display: 'none' }}\r\n                        onChange={handlePostImageChange}\r\n                    />\r\n                    {!isMobile &&\r\n                        <>\r\n                            <label\r\n                                className=\"far fa-smile\"\r\n                                id=\"emoji-button\"\r\n                                onClick={() => openCloseEmojiList(false)}\r\n                            />\r\n                            <div className=\"emoji-list-container\" id=\"emoji-list-container\">\r\n                                <Picker onEmojiClick={onEmojiSelect} />\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </div>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary\"\r\n                    id=\"post-form-submit-btn\"\r\n                    style={{ height: '40px' }}\r\n                    disabled\r\n                >\r\n                    Postar\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport { csrftoken } from '../config/utils'\r\n\r\nexport default function PostListItem(props) {\r\n    const post = props.post\r\n    const myProfile = props.myProfile\r\n\r\n    const likeUnlikePost = e => {\r\n        e.stopPropagation()\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.renderParent()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            likeBtn.classList.add('animated')\r\n            likeBtn.onanimationend = () => {\r\n                likeBtn.classList.remove('animated')\r\n            }\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.renderParent()\r\n                })\r\n        }\r\n    }\r\n\r\n    const openCloseExtraOptions = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-view-more-select-${postId}`)\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            style.display = 'flex'\r\n        } else {\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ação é irreversível.')) {\r\n            el.style.animationPlayState = 'running'\r\n            el.addEventListener('animationend', () => {\r\n                this.fetchPosts()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"d-flex w-100 base-hover hide-animation b-bottom\"\r\n            id={`profile-post-${post.id}`}\r\n            key={post.id}\r\n            style={{ padding: '5px 15px', background: 'var(--theme-base-color)' }}\r\n            onClick={() => window.location.href = `/post/${post.id}`}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <Link\r\n                    to={post.author.id === myProfile.id ?\r\n                        '/perfil' : `/user/${post.author.slug}`}\r\n                    onClick={e => e.stopPropagation()}\r\n                >\r\n                    <img src={`${SERVER_URL}${post.author.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n            </div>\r\n            <div className=\"d-flex flex-column h-100 w-100\" style={{ marginRight: '10px' }}>\r\n                <div className=\"d-flex justify-content-between w-100\">\r\n                    <div>\r\n                        <Link\r\n                            to={post.author.id === myProfile.id ? '/perfil' : `/user/${post.author.slug}`}\r\n                            className=\"d-flex justify-content-start align-items-start post-author-data-wrapper\"\r\n                            style={{ color: '#000' }}\r\n                            onClick={e => e.stopPropagation()}\r\n                        >\r\n                            <strong className=\"mr-2\" style={{ color: 'var(--primary-grey)' }}>\r\n                                {post.author.first_name} {post.author.last_name}\r\n                            </strong>\r\n                            <p className=\"text-secondary\">\r\n                                @{post.author.user.username} • {post.created.split('-').reverse().join('/')}\r\n                            </p>\r\n                        </Link>\r\n                    </div>\r\n                    <i\r\n                        className=\"fas fa-ellipsis-h d-flex justify-content-center align-items-center text-secondary secondary-hover view-more-icon\"\r\n                        id={`post-view-more-icon-${post.id}`}\r\n                        style={{ textDecoration: 'none', width: '30px', height: '30px', borderRadius: '30px' }}\r\n                        onClick={e => openCloseExtraOptions(e, post.id)}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column position-relative\">\r\n                    <div className=\"view-more-select\" id={`post-view-more-select-${post.id}`} style={{ right: '0%' }}>\r\n                        {myProfile.id === post.author.id ?\r\n                            <li\r\n                                style={{ color: '#f00' }}\r\n                                onClick={e => deletePost(e, post.id)}\r\n                            >\r\n                                <i class=\"fas fa-trash\" />\r\n                                Excluir\r\n                            </li>\r\n                            :\r\n                            <>\r\n                                <li>\r\n                                    <i class=\"fas fa-exclamation-triangle text-secondary\" />\r\n                                    Denunciar fake news\r\n                                </li>\r\n                                <li>\r\n                                    <i class=\"fas fa-exclamation-circle text-secondary\" />\r\n                                    Denunciar conteúdo impróprio\r\n                                </li>\r\n                            </>\r\n                        }\r\n                        <div className=\"popover-arrow\" style={{ top: '-9px', right: '8%' }} />\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-start word-break\">\r\n                        {post.content}\r\n                    </div>\r\n                    {post.image &&\r\n                        <div className=\"d-flex justify-content-start w-100\">\r\n                            <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                        </div>\r\n                    }\r\n                    <div className=\"d-flex justify-content-start align-items-start text-secondary mt-2 mb-1\">\r\n                        <Link\r\n                            to={`/post/${post.id}/comentar`}\r\n                            className=\"d-flex align-items-center text-secondary\"\r\n                            style={{ outline: 'none', textDecoration: 'none' }}\r\n                            onClick={e => e.stopPropagation()}\r\n                        >\r\n                            <i\r\n                                class=\"far fa-comment mr-1\"\r\n                            />\r\n                            <p style={{ margin: '0' }}>\r\n                                {post.comments.length}\r\n                            </p>\r\n                        </Link>\r\n                        <div className=\"d-flex align-items-center\">\r\n                            {post.likes.map(like => like.profile.id).includes(myProfile.id) ?\r\n                                <i class=\"fas fa-heart expand-animation mr-1  ml-2\"\r\n                                    data-postid={post.id}\r\n                                    onClick={likeUnlikePost}\r\n                                />\r\n                                :\r\n                                <i class=\"far fa-heart mr-1 ml-2\"\r\n                                    data-postid={post.id}\r\n                                    onClick={likeUnlikePost}\r\n                                />\r\n                            }\r\n                            <p className=\"m-0 likes-number\"\r\n                                onClick={e => {\r\n                                    e.stopPropagation()\r\n                                    props.openLikesModal(post.likes)\r\n                                }\r\n                                }\r\n                            >\r\n                                {post.likes.length}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li >\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport { AlgorithmWeightsContext } from '../../../../../context/app/AppContext'\r\nimport LikesModal from '../../../../../components/LikesModal'\r\nimport PostForm from './components/PostForm'\r\nimport PostListItem from '../../../../../components/PostListItem'\r\n\r\nexport default function Posts() {\r\n    const [weights,] = useContext(AlgorithmWeightsContext)\r\n\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [posts, setPosts] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    let scrollCount = 1\r\n\r\n    window.onscroll = () => {\r\n        if (Math.ceil(window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\r\n            scrollCount++\r\n            fetchPosts()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetchPosts()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetchPosts()\r\n    }, [weights])\r\n\r\n    const fetchPosts = () => {\r\n        fetch(`${SERVER_URL}/post-api/post-list/${scrollCount}`)\r\n            .then(response => response.json())\r\n            .then(data => setPosts(data))\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={() => setLikesModal({ isOpen: false, likes: null })}\r\n            />\r\n            {myProfile &&\r\n                <div className=\"feed-create-post-form\">\r\n                    <PostForm myProfile={myProfile} />\r\n                </div>\r\n            }\r\n            <div className=\"d-flex flex-column justify-content-center align-items-center w-100 h-100\">\r\n                {posts && myProfile &&\r\n                    posts.map(post => {\r\n                        return (\r\n                            <PostListItem\r\n                                post={post}\r\n                                myProfile={myProfile}\r\n                                renderParent={fetchPosts}\r\n                                openLikesModal={likes => setLikesModal({ isOpen: true, likes: likes })}\r\n                            />\r\n                        )\r\n                    })\r\n                }\r\n                <div className=\"loader-container\" >\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\n\r\n\r\nexport default function ProfilesSearchInput(props) {\r\n    const setFilteredProfiles = props.setFilteredProfiles\r\n    const [search, setSearch] = useState('')\r\n    const [searchType, setSearchType] = useState('byName')\r\n\r\n    useEffect(() => {\r\n        if (search.trim() === '') {\r\n            setFilteredProfiles(null)\r\n            return\r\n        }\r\n        if (searchType === 'byName') {\r\n            fetch(`${SERVER_URL}/profile-api/users/${search}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFilteredProfiles(data)\r\n                })\r\n        } else if (searchType === 'byInterest') {\r\n            fetch(`${SERVER_URL}/profile-api/users-by-interest/${search}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFilteredProfiles(data)\r\n                })\r\n        }\r\n    }, [search])\r\n\r\n    const openCloseSearchTypeSelector = () => {\r\n        const el = document.querySelector('#profiles-search-type-selector')\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            style.display = 'flex'\r\n        } else {\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const handleSearchTypeSelection = () => {\r\n        setSearchType(searchType === 'byName' ? 'byInterest' : 'byName')\r\n        openCloseSearchTypeSelector()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"profiles-filter-container\">\r\n                <div style={{ width: '89%' }}>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"profiles-filter-input\"\r\n                        placeholder={searchType === 'byName' ? 'Pesquisar perfil' : 'Digite um ou mais interesses'}\r\n                        value={search}\r\n                        onChange={e => setSearch(e.target.value)}\r\n                    />\r\n                </div>\r\n                <i\r\n                    className=\"fas fa-ellipsis-h btn profiles-search-extra-options-icon view-more-icon\"\r\n                    onClick={openCloseSearchTypeSelector}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"view-more-select\"\r\n                id=\"profiles-search-type-selector\"\r\n                style={{ right: '5%', top: '130px' }}\r\n                onClick={handleSearchTypeSelection}\r\n            >\r\n                {searchType === 'byName' ?\r\n                    <div className=\"position-relative\">\r\n                        <li className=\"d-flex align-items-center\">\r\n                            <i class=\"fas fa-grin-hearts text-secondary\" style={{ fontSize: 'large', marginRight: '5px' }} />\r\n                            Pesquisar por interesse\r\n                        </li>\r\n                        <div className=\"popover-arrow white-hover\" style={{ top: '-9px', left: '75%' }} />\r\n                    </div>\r\n                    :\r\n                    <div className=\"position-relative\">\r\n                        <li className=\"d-flex align-items-center\">\r\n                            <i class=\"fas fa-user text-secondary\" style={{ fontSize: 'large', marginRight: '5px' }} />\r\n                            Pesquisar por nome\r\n                        </li>\r\n                        <div className=\"popover-arrow white-hover\" style={{ top: '-9px', left: '75%' }} />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport { csrftoken } from '../../../../../config/utils'\r\nimport ProfileListItem from '../../../../../components/ProfileListItem'\r\nimport ProfilesSearchInput from './components/ProfilesSearchInput'\r\n\r\nexport default function Profiles() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [profiles, setProfiles] = useState(null)\r\n    const [filteredProfiles, setFilteredProfiles] = useState(null)\r\n    const [scrollCount, setScrollCount] = useState(1)\r\n\r\n    window.onscroll = () => {\r\n        if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\r\n            setScrollCount(scrollCount + 1)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile-list/${scrollCount}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setFilteredProfiles(null)\r\n                setProfiles(data)\r\n            })\r\n    }, [scrollCount])\r\n\r\n    const sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    const cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    const handleRelationshipUpdate = e => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else {\r\n            cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ProfilesSearchInput setFilteredProfiles={setFilteredProfiles} />\r\n            <div className=\"list-group\">\r\n                {myProfile && (profiles || filteredProfiles) &&\r\n                    <div className=\"w-100\" style={{ overflowY: 'hidden' }}>\r\n                        {filteredProfiles ? filteredProfiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem profile={profile} myProfile={myProfile} />\r\n                            )\r\n                        }\r\n                        ) : profiles && profiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem profile={profile} myProfile={myProfile}>\r\n                                    <button className=\"btn btn-secondary\" data-pk={profile.id} onClick={handleRelationshipUpdate}>\r\n                                        Solicitar\r\n                                    </button>\r\n                                </ProfileListItem>\r\n                            )\r\n                        })\r\n                        }\r\n                    </div>\r\n                }\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport PostListItem from '../../../../../components/PostListItem'\r\nimport LikesModal from '../../../../../components/LikesModal'\r\n\r\n\r\nexport default function Explore() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [posts, setPosts] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    let selectedInterest = null\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setMyProfile(data)\r\n            })\r\n        fetchPosts()\r\n    }, [])\r\n\r\n    const fetchPosts = () => {\r\n        if (selectedInterest) {\r\n            fetch(`${SERVER_URL}/post-api/interest-post-list/${selectedInterest}`)\r\n                .then(response => response.json())\r\n                .then(data => setPosts(data))\r\n        } else {\r\n            fetch(`${SERVER_URL}/post-api/explore-post-list`)\r\n                .then(response => response.json())\r\n                .then(data => setPosts(data))\r\n        }\r\n    }\r\n\r\n    const switchPage = e => {\r\n        const element = e.target\r\n        document.querySelectorAll('.hashtag-container').forEach(el => {\r\n            el.classList.remove('active')\r\n        })\r\n        element.classList.add('active')\r\n        selectedInterest = element.innerText !== 'Todos' ? element.innerText : null\r\n        fetchPosts()\r\n    }\r\n\r\n    return (\r\n        <div className=\"explore-page-container\">\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={() => setLikesModal({ isOpen: false, likes: null })}\r\n            />\r\n            {myProfile !== null && posts !== null ?\r\n                <>\r\n                    <div className=\"hashtags-header\">\r\n                        <div className=\"hashtag-container active base-hover\" onClick={switchPage}>\r\n                            Todos\r\n                        </div>\r\n                        {myProfile.interests.map(interest => {\r\n                            return (\r\n                                <div className=\"hashtag-container base-hover\" onClick={switchPage}>\r\n                                    {interest.title}\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    <div className=\"post-list\">\r\n                        {posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={myProfile}\r\n                                    renderParent={fetchPosts}\r\n                                    openLikesModal={likes => setLikesModal({ isOpen: true, likes: likes })}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function Trending() {\r\n\r\n    return (\r\n        <div className=\"w-100 d-flex justify-content-center align-items-center pt-3\">\r\n            <h4 style={{ color: 'var(--primary-grey)' }}>Em breve...</h4>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default () => (\r\n    <Link to=\"/postar\">\r\n        <i className=\"fas fa-pencil-alt bottom-menu-action-icon btn-primary\" />\r\n    </Link>\r\n)","import React, { useContext } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport {\r\n    InvitesReceivedContext, UnvisualizedCommentsContext,\r\n    UnvisualizedLikesContext, UnreadMessagesContext\r\n} from '../../../context/app/AppContext'\r\n\r\nexport default function BottomMenu(props) {\r\n    const [invitesReceivedNumber,] = useContext(InvitesReceivedContext)\r\n    const [unvisualizedCommentsNumber,] = useContext(UnvisualizedCommentsContext)\r\n    const [unvisualizedLikesNumber,] = useContext(UnvisualizedLikesContext)\r\n\r\n    const [unreadMessagesNumber,] = useContext(UnreadMessagesContext)\r\n\r\n    let notificationsNumber = invitesReceivedNumber + unvisualizedLikesNumber + unvisualizedCommentsNumber\r\n\r\n    return (\r\n        <>\r\n            <div className=\"bottom-menu-action-icon-container fixed-bottom\">\r\n                {props.children}\r\n            </div>\r\n            <div className=\"bottom-menu fixed-bottom\">\r\n                <ul>\r\n                    <li>\r\n                        <NavLink to=\"/home\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/notificações\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                            {!notificationsNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {notificationsNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/mensagens\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-envelope bottom-menu-icon\" />\r\n                            {!unreadMessagesNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {unreadMessagesNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/perfil\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/configurações\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                        </NavLink>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function HomePageMenu(props) {\r\n    const setPage = props.setPage\r\n\r\n    const feedPageTitle = props.feedPageTitle\r\n    const profilesPageTitle = props.profilesPageTitle\r\n    const explorePageTitle = props.explorePageTitle\r\n    const trendsPageTitle = props.trendsPageTitle;\r\n\r\n    const isMobile = visualViewport.width <= 980\r\n\r\n    function handleMouseIn(e, text) {\r\n        if (!isMobile) {\r\n            e.target.innerHTML = text\r\n        }\r\n    }\r\n\r\n    function handleMouseOut(e, icon) {\r\n        if (!isMobile) {\r\n            e.target.innerHTML = icon\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"home-page-menu\">\r\n            <div className=\"home-menu-btn-container b-bottom home-menu-btn-container-active b-right feed\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Feed')}\r\n                    onMouseEnter={e => handleMouseIn(e, feedPageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-home ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-home ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"home-menu-btn-container b-bottom b-right profiles\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Profiles')}\r\n                    onMouseEnter={e => handleMouseIn(e, profilesPageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-user-friends ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-user-friends ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"home-menu-btn-container b-bottom b-right explore\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Explore')}\r\n                    onMouseEnter={e => handleMouseIn(e, explorePageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-search ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-search ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"home-menu-btn-container b-bottom trending\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Trending')}\r\n                    onMouseEnter={e => handleMouseIn(e, trendsPageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-chart-line ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-chart-line ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport Header from '../../../components/fixed/Header'\r\nimport Posts from './components/posts_/Posts'\r\nimport Profiles from './components/profiles/Profiles'\r\nimport Explore from './components/explore/Explore'\r\nimport Trending from './components/trending/Trending'\r\nimport PostIcon from '../../../components/fixed/bottom-menu/components/PostIcon'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\nimport HomePageMenu from './components/HomePageMenu'\r\n\r\nexport default function Home(props) {\r\n    const [page, setPage] = useState('Feed')\r\n\r\n    const pages = {\r\n        'Feed': <Posts />,\r\n        'Profiles': <Profiles />,\r\n        'Explore': <Explore />,\r\n        'Trending': <Trending />,\r\n    }\r\n\r\n    document.title = 'Home / Napker'\r\n\r\n    useEffect(() => {\r\n        const elements = document.querySelectorAll('.' + page.toLowerCase())\r\n        document.querySelectorAll('.home-menu-btn-container-active').forEach(el => el.classList.remove('home-menu-btn-container-active'))\r\n        elements.forEach(el => el.classList.add('home-menu-btn-container-active'))\r\n    }, [page])\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Home\" />\r\n            <div className=\"sidebar-content\">\r\n                <div className=\"desktop-home-menu\">\r\n                    <HomePageMenu\r\n                        setPage={setPage}\r\n                        feedPageTitle='Feed'\r\n                        profilesPageTitle='Encontrar perfis'\r\n                        explorePageTitle='Descobrir'\r\n                        newsPageTitle='Notícias'\r\n                        trendsPageTitle='Tendências'\r\n                    />\r\n                </div>\r\n                <div className=\"mobile-home-menu\">\r\n                    <HomePageMenu setPage={setPage} />\r\n                </div>\r\n                {pages[page]}\r\n            </div>\r\n            <BottomMenu>\r\n                <PostIcon />\r\n            </BottomMenu>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function InviteListItem(props) {\r\n    const invite = props.invite\r\n    const replyRequest = props.replyRequest\r\n\r\n    return (\r\n        <li\r\n            className=\"d-flex justify-content-between w-100 b-bottom\"\r\n            style={{ padding: '30px', backgroundColor: 'var(--theme-base-color)' }}\r\n            id={`fr-${invite.sender.id}`}\r\n            key={invite.sender.id}\r\n            onClick={() => window.location.href = `/user/${invite.sender.slug}`}\r\n        >\r\n            <div className=\"d-flex\">\r\n                <div className=\"profile-img-container\">\r\n                    <img src={`${SERVER_URL}${invite.sender.photo}`}\r\n                        className=\"profile-img-med\"\r\n                        style={{ marginRight: '10px' }}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column w-100\">\r\n                    <div className=\"profile-row-top\">\r\n                        <div className=\"main-profile-data\">\r\n                            <strong style={{ textAlign: 'start' }}>\r\n                                {invite.sender.first_name} {invite.sender.last_name}\r\n                            </strong>\r\n                            <span className=\"text-secondary text-left\"> @{invite.sender.user.username}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"profile-row-bottom text-left\">\r\n                        {invite.sender.bio}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex align-items-center\">\r\n                <button className=\"btn btn-primary btn-reply-fr mr-1\" data-senderid={invite.sender.id} data-reply='accept' onClick={replyRequest}>\r\n                    Aceitar\r\n                </button>\r\n                <button className=\"btn btn-grey btn-reply-fr\" data-senderid={invite.sender.id} data-reply='decline' onClick={replyRequest}>\r\n                    Excluir\r\n                </button>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function NotificationContent(props) {\r\n    const notification = props.notification\r\n\r\n    if (props.type == \"like\") {\r\n        var author = notification.profile\r\n        var content = notification.post.content\r\n        var icon = \"fas fa-heart\"\r\n        var color = 'var(--heart-color)'\r\n    } else if (props.type === 'comment') {\r\n        var author = notification.author\r\n        var content = notification.content\r\n        var icon = \"fas fa-comment\"\r\n        var color = 'var(--primary-color)'\r\n    }\r\n\r\n    return (\r\n        <li className=\"d-flex w-100 white-hover b-bottom\" style={{ padding: '15px 15px', background: 'var(--theme-base-color)' }} \r\n            key={author.id}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <i class={icon} style={{ fontSize: '30px', color: color }}/>\r\n            </div>\r\n            <div className=\"d-flex flex-column justify-content-start align-items-start h-100 w-100\">\r\n                <div className=\"d-flex justify-content-center align-items-center\">\r\n                    <Link to={`/user/${author.slug}`}>\r\n                        <img src={`${SERVER_URL}${author.photo}`}\r\n                            className=\"profile-img-med\"\r\n                            style={{ marginRight: '10px' }}\r\n                        />\r\n                    </Link>\r\n                    <p className=\"text-secondary d-inline-block\" style={{ margin: '0' }}>\r\n                        {notification.created.split('-').reverse().join('/')}\r\n                        {\" • \"}\r\n                        {props.children}\r\n                        <Link to={`/user/${author.slug}`} style={{ color: \"#000\" }}>\r\n                            @{author.user.username}\r\n                        </Link> curtiu seu post.\r\n                    </p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-start word-break w-100\"\r\n                     style={{ paddingTop: '10px'}}\r\n                >\r\n                    {content}\r\n                </div>\r\n                <div className=\"d-flex justify-content-end w-100\">\r\n                    <Link to={`/post/${notification.post.id}`}>\r\n                        <button className=\"btn btn-primary\" style={{height: '37px', width: '100px' }}>\r\n                            Ver Post\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function NewLabel() {\r\n    return (\r\n        <div className=\"notification-text-container\">\r\n            <div className=\"notification-text\">\r\n                novo\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\nimport Header from '../../../components/fixed/Header'\r\nimport InviteNotification from './components/InviteNotification'\r\nimport NotificationContent from './components/NotificationContent'\r\nimport NewLabel from './components/NewLabel'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function Notifications(props) {\r\n    const [invites, setInvites] = useState(null)\r\n    const [unvisualizedPostLikes, setUnvisualizedPostLikes] = useState(null)\r\n    const [visualizedPostLikes, setVisualizedPostLikes] = useState(null)\r\n    const [unvisualizedComments, setUnvisualizedComments] = useState(null)\r\n    const [visualizedComments, setVisualizedComments] = useState(null)\r\n\r\n    let notificationsFetchInterval\r\n\r\n    document.title = 'Notificações / Napker'\r\n\r\n    const fetchNotifications = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvites(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedComments(data))\r\n        fetch(`${SERVER_URL}/post-api/post-likes-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/post-comments-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedComments(data))\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchNotifications()\r\n        notificationsFetchInterval = window.setInterval(fetchNotifications, 3000)\r\n        return () => window.clearInterval(notificationsFetchInterval)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedPostLikes && unvisualizedPostLikes.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-likes`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedPostLikes])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedComments && unvisualizedComments.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-comments`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedComments])\r\n\r\n    const replyRequest = e => {\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        const requestBody = {\r\n            'senderid': btn.dataset.senderid,\r\n            'reply': btn.dataset.reply\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(requestBody)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                props.updateNotificationsNumber()\r\n            })\r\n        document.getElementById(`fr-${btn.dataset.senderid}`).remove()\r\n        fetchNotifications()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Notificações\" />\r\n            <div className=\"content\">\r\n                <div>\r\n                    {invites !== null && unvisualizedPostLikes && visualizedPostLikes !== null && unvisualizedComments !== null && visualizedComments !== null ?\r\n                        <div>\r\n                            {invites.length || unvisualizedPostLikes.length || visualizedPostLikes.length || unvisualizedComments.length || !!visualizedComments.length ?\r\n                                <div className=\"notifications-container\">\r\n                                    {!!invites.length &&\r\n                                        <div>\r\n                                            {invites.map(invite => {\r\n                                                return (\r\n                                                    <InviteNotification\r\n                                                        invite={invite}\r\n                                                        replyRequest={replyRequest}\r\n                                                    />\r\n                                                )\r\n                                            })}\r\n                                        </div>\r\n                                    }\r\n\r\n                                    {(!!unvisualizedPostLikes.length || !!unvisualizedComments.length) &&\r\n                                        <>\r\n                                            {!!unvisualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {unvisualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={like} type={\"like\"}>\r\n                                                                <NewLabel />\r\n                                                            </NotificationContent>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!unvisualizedComments.length &&\r\n                                                <>\r\n                                                    {unvisualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={comment} type={\"comment\"}>\r\n                                                                <NewLabel />\r\n                                                            </NotificationContent>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                    {(!!visualizedPostLikes.length || !!visualizedComments.length) &&\r\n                                        <>\r\n                                            {!!visualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {visualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={like} type={\"like\"}/>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!visualizedComments.length &&\r\n                                                <>\r\n                                                    {visualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={comment} type={\"comment\"} />\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                </div> :\r\n                                <div className=\"d-flex justify-content-center mt-5\">\r\n                                    <h3>Você não tem nenhuma notificação</h3>\r\n                                </div>\r\n                            }\r\n\r\n                        </div> :\r\n                        <div className=\"d-flex justify-content-center mt-5\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function ModalContactSearch(props) {\r\n    const modalProfiles = props.modalProfiles\r\n    const setParentState = props.setParentState\r\n    const addingNewChat = props.addingNewChat\r\n\r\n    const setModalSearch = query => {\r\n        if (query === '') {\r\n            setParentState({\r\n                modalProfiles: []\r\n            })\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/users/${query}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setParentState({\r\n                    modalProfiles: data\r\n                })\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            show={addingNewChat}\r\n            onHide={() => setParentState({ addingNewChat: false })}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Nova conversa</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body style={{ padding: '0' }}>\r\n                <input\r\n                    className=\"modal-search-input\"\r\n                    placeholder=\"Pesquisar pessoas\"\r\n                    onChange={e => setModalSearch(e.target.value)}\r\n                />\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {modalProfiles && modalProfiles.map(profile => {\r\n                        return (\r\n                            <Link to={`/mensagens/${profile.slug}`}\r\n                                style={{ color: 'var(--primary-grey)', textDecoration: 'none' }}\r\n                                onClick={() => setParentState({ addingNewChat: false })}\r\n                            >\r\n                                <li\r\n                                    className=\"position-relative border-0 b-bottom base-hover\"\r\n                                    key={profile.id}\r\n                                    style={{ ...props.style, padding: '.75rem 1.25rem', background: 'var(--theme-base-color)' }}\r\n                                    onClick={props.onClick}\r\n                                >\r\n                                    <div className=\"d-flex\">\r\n                                        <div className=\"profile-img-container\">\r\n                                            <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                className=\"profile-img-med\"\r\n                                                style={{ marginRight: '10px' }}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"d-flex flex-column w-100\">\r\n                                            <div className=\"profile-row-top\">\r\n                                                <div className=\"main-profile-data\">\r\n                                                    <strong style={{ textAlign: 'start' }}>\r\n                                                        {profile.first_name} {profile.last_name}\r\n                                                    </strong>\r\n                                                    <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                </div>\r\n                                                {props.children}\r\n                                            </div>\r\n                                            <div className=\"profile-row-bottom\">\r\n                                                {profile.bio}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import { SOCKET_URL } from '../../../config/settings'\r\n\r\nclass WebSocketService {\r\n  static instance = null;\r\n  callbacks = {};\r\n\r\n  static getInstance() {\r\n    if (!WebSocketService.instance) {\r\n      WebSocketService.instance = new WebSocketService();\r\n    }\r\n    return WebSocketService.instance;\r\n  }\r\n\r\n  constructor() {\r\n    this.socketRef = null;\r\n  }\r\n\r\n  connect(chatUrl) {\r\n    const path = `${SOCKET_URL}/ws/chat/${chatUrl}/`;\r\n    this.socketRef = new WebSocket(path);\r\n    this.socketRef.onopen = () => {\r\n      console.log(\"WebSocket open\");\r\n    };\r\n    this.socketNewMessage(JSON.stringify({\r\n      command: 'fetch-messages'\r\n    }))\r\n    this.socketRef.onmessage = e => {\r\n      this.socketNewMessage(e.data);\r\n    };\r\n    this.socketRef.onerror = e => {\r\n      console.log(e.message);\r\n    };\r\n    this.socketRef.onclose = () => {\r\n      console.log(\"WebSocket closed\");\r\n    };\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socketRef) this.socketRef.close();\r\n  }\r\n\r\n  socketNewMessage(data) {\r\n    const parsedData = JSON.parse(data);\r\n    const command = parsedData.command;\r\n    if (Object.keys(this.callbacks).length === 0) {\r\n      return;\r\n    }\r\n    if (command === \"messages\") {\r\n      this.callbacks[command](parsedData.messages);\r\n    }\r\n    if (command === \"new_message\") {\r\n      this.callbacks[command](parsedData.message);\r\n    }\r\n  }\r\n\r\n  fetchMessages(username, chatId) {\r\n    this.sendMessage({\r\n      command: \"fetch_messages\",\r\n      username: username,\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  newChatMessage(message) {\r\n    this.sendMessage({\r\n      command: \"new_message\",\r\n      from: message.from,\r\n      content: message.content,\r\n      chatId: message.chatId\r\n    });\r\n  }\r\n\r\n  readMessages(chatId) {\r\n    this.sendMessage({\r\n      command: \"read_messages\",\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  addCallbacks(messagesCallback, newMessageCallback) {\r\n    this.callbacks[\"messages\"] = messagesCallback\r\n    this.callbacks[\"new_message\"] = newMessageCallback\r\n  }\r\n\r\n  sendMessage(data) {\r\n    try {\r\n      if (this.state() === 1) {\r\n        this.socketRef.send(JSON.stringify({ ...data }))\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message)\r\n    }\r\n  }\r\n\r\n  state() {\r\n    return this.socketRef ? this.socketRef.readyState : 0\r\n  }\r\n}\r\n\r\nconst WebSocketInstance = WebSocketService.getInstance();\r\n\r\nexport default WebSocketInstance;","import React, { useState } from 'react'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { openCloseEmojiList } from '../../../../../../config/utils'\r\n\r\nexport default function SendMessageForm(props) {\r\n    const WebSocketInstance = props.WebSocketInstance\r\n    const chatId = props.chatId\r\n    const username = props.username\r\n    const otherProfile = props.otherProfile\r\n    const myProfile = props.myProfile\r\n    const updateMessagesComponent = props.updateMessagesComponent\r\n\r\n    const [message, setMessage] = useState('')\r\n\r\n    const messageChangeHandler = e => {\r\n        setMessage(e.target.value)\r\n        const el = document.querySelector('#chat-message-submit')\r\n        el.disabled = e.target.value.trim() === ''\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setMessage(message + emojiObject.emoji)\r\n        document.querySelector('#chat-message-submit').disabled = false\r\n    }\r\n\r\n    const sendMessageHandler = e => {\r\n        e.preventDefault()\r\n        const messageObject = {\r\n            from: username,\r\n            content: message,\r\n            chatId: chatId\r\n        };\r\n        setMessage('')\r\n        if (otherProfile.blocked_users.map(u => u.id).includes(myProfile.user.id)) {\r\n            window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\r\n            ${otherProfile.first_name} te bloqueou.`)\r\n            return\r\n        }\r\n        if (myProfile.blocked_users.map(u => u.id).includes(otherProfile.user.id)) {\r\n            window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\r\n            Você bloqueou ${otherProfile.first_name}.`)\r\n            return\r\n        }\r\n        WebSocketInstance.newChatMessage(messageObject)\r\n        document.querySelector('#chat-message-submit').disabled = true\r\n        openCloseEmojiList(true)\r\n        updateMessagesComponent()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                <Picker onEmojiClick={onEmojiSelect} />\r\n            </div>\r\n            <form\r\n                className=\"d-flex justify-content-center align-items-center w-100 px-1 py-3\"\r\n                style={{ borderTop: '2px solid var(--border-color)' }}\r\n                onSubmit={sendMessageHandler}\r\n            >\r\n                <label\r\n                    className=\"far fa-smile mb-0\"\r\n                    id=\"emoji-button\"\r\n                    onClick={() => openCloseEmojiList(false)}\r\n                />\r\n                <input\r\n                    placeholder=\"Mensagem\"\r\n                    className=\"message-input\"\r\n                    id=\"chat-message-input\"\r\n                    value={message}\r\n                    autoFocus={document.querySelector('#contact-filter-input').value === ''}\r\n                    onChange={messageChangeHandler}\r\n                />\r\n                <button\r\n                    className=\"btn btn-primary d-flex justify-content-center align-items-center\"\r\n                    id=\"chat-message-submit\"\r\n                    style={{ height: '35px' }}\r\n                    disabled\r\n                >\r\n                    <i class=\"fas fa-chevron-right\" style={{ fontSize: 'large' }} />\r\n                </button>\r\n            </form>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function MessageListItem(props) {\r\n    const message = props.message\r\n    const currentUser = props.currentUser\r\n\r\n    const renderTimestamp = timestamp => {\r\n        const ts = new Date(timestamp)\r\n        const day = ts.getDate() >= 10 ? ts.getDate() : `0${ts.getDate()}`\r\n        const month = ts.getMonth() >= 10 ? ts.getMonth() : `0${ts.getMonth()}`\r\n        const hour = ts.getHours() >= 10 ? ts.getHours() : `0${ts.getHours()}`\r\n        const minute = ts.getMinutes() >= 10 ? ts.getMinutes() : `0${ts.getMinutes()}`\r\n        return `${day}/${month}/${ts.getFullYear()} - ${hour}:${minute}`\r\n    }\r\n\r\n    return (\r\n        <li\r\n            key={message.id}\r\n            className={message.author === currentUser ? \"sent\" : \"received\"}\r\n        >\r\n            <p>\r\n                {message.content}\r\n                <br />\r\n                <small>\r\n                    {renderTimestamp(message.timestamp)} {message.author === currentUser ?\r\n                        message.read ?\r\n                            <i class=\"fas fa-check-double\" />\r\n                            :\r\n                            <i class=\"fas fa-check\" />\r\n                        :\r\n                        ''\r\n                    }\r\n                </small>\r\n            </p>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { csrftoken } from '../../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport WebSocketInstance from '../../websocket'\r\nimport SendMessageForm from './components/SendMessageForm'\r\nimport MessageListItem from './components/MessageListItem'\r\n\r\nclass Chat extends React.Component {\r\n    initialiseChat() {\r\n        console.log('initializing chat...')\r\n        this.waitForSocketConnection(() => {\r\n            WebSocketInstance.addCallbacks(\r\n                this.getMessages.bind(this),\r\n                this.addMessage.bind(this),\r\n            )\r\n            WebSocketInstance.fetchMessages(\r\n                this.props.username,\r\n                this.props.chatId\r\n            );\r\n        });\r\n        if (this.props.chatId) WebSocketInstance.connect(this.props.chatId)\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            messages: [],\r\n            scrolledToBottom: false,\r\n            myProfile: null,\r\n            otherUsername: this.props.otherUsername,\r\n            otherProfile: null\r\n        }\r\n        this.initialiseChat();\r\n    }\r\n\r\n    handleComponentChange = () => {\r\n        if (this.state.otherUsername && (!this.state.otherProfile || this.state.otherProfile.user.username !== this.state.otherUsername)) {\r\n            fetch(`${SERVER_URL}/profile-api/user/${this.state.otherUsername}`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({\r\n                    otherProfile: data\r\n                }))\r\n        }\r\n        if (!this.state.myProfile) {\r\n            fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({ myProfile: data }))\r\n        }\r\n        if (this.state.messages.length && !this.state.scrolledToBottom && document.querySelectorAll('.sent, .received').length) {\r\n            this.scrollToBottom()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n        document.querySelector('#contact-filter-input') &&\r\n            document.activeElement !== document.querySelector('#contact-filter-input') &&\r\n            document.querySelector('#chat-message-input') &&\r\n            document.querySelector('#chat-message-input').focus()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        WebSocketInstance.disconnect()\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.chatId && newProps.chatId !== this.props.chatId && newProps.otherUsername && WebSocketInstance.state() !== 1) {\r\n            this.waitForSocketConnection(() => {\r\n                WebSocketInstance.fetchMessages(\r\n                    newProps.username,\r\n                    newProps.chatId\r\n                );\r\n            });\r\n            WebSocketInstance.connect(newProps.chatId)\r\n            this.readMessages(newProps)\r\n\r\n            this.props.updateMessagesComponent()\r\n            this.setState({\r\n                messages: [],\r\n                scrolledToBottom: false,\r\n            })\r\n        }\r\n        if (this.state.otherUsername !== newProps.otherUsername) {\r\n            this.setState({\r\n                otherUsername: newProps.otherUsername\r\n            })\r\n        }\r\n        if (this.props.updateUnreadMessagesNumber) {\r\n            this.props.updateUnreadMessagesNumber()\r\n        }\r\n        if (this.state.otherUsername && !newProps.otherUsername) {\r\n            WebSocketInstance.disconnect()\r\n            this.setState({\r\n                otherUsername: undefined,\r\n                otherProfile: undefined\r\n            })\r\n        }\r\n    }\r\n\r\n    readMessages = props => {\r\n        fetch(`${SERVER_URL}/chat-api/read-messages`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({ chat_id: props.chatId })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                WebSocketInstance.readMessages(this.props.chatId)\r\n            })\r\n    }\r\n\r\n    waitForSocketConnection(callback) {\r\n        const component = this;\r\n        setTimeout(function () {\r\n            if (WebSocketInstance.state() === 1) {\r\n                console.log(\"Connection is made\");\r\n                callback();\r\n                return;\r\n            } else {\r\n                console.log(\"wait for connection...\");\r\n                component.waitForSocketConnection(callback);\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    getMessages(messages) {\r\n        this.setState({ messages: messages.reverse() })\r\n    }\r\n\r\n    addMessage(message) {\r\n        this.setState({\r\n            messages: [...this.state.messages, message],\r\n            scrolledToBottom: false\r\n        })\r\n        this.readMessages(this.props)\r\n    }\r\n\r\n    scrollToBottom = () => {\r\n        if (document.querySelector('#chat-log')) {\r\n            const chatLog = document.querySelector('#chat-log')\r\n            chatLog.scrollTop = chatLog.scrollHeight\r\n            this.setState({\r\n                scrolledToBottom: true\r\n            })\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.state.otherProfile !== null || !this.props.otherUsername ?\r\n                    <>\r\n                        {this.state.otherProfile ?\r\n                            <div\r\n                                className=\"d-flex flex-column justify-content-between align-items-center h-100 b-theme-base-color current-chat\"\r\n                                style={{ width: '60%' }}\r\n                            >\r\n                                <div className=\"current-chat-header\">\r\n                                    <i class=\"fas fa-arrow-left left-arrow-icon d-none\" onClick={() => window.history.back()} />\r\n                                    <Link to={`/user/${this.state.otherProfile.slug}`}>\r\n                                        <img src={`${SERVER_URL}${this.state.otherProfile.photo}`}\r\n                                            className=\"profile-img-sm\"\r\n                                            style={{ marginRight: '5px' }}\r\n                                        />\r\n                                    </Link>\r\n                                    <div className=\"d-flex flex-column align-items-start\" style={{ height: '52px' }}>\r\n                                        <strong>{this.state.otherProfile.first_name} {this.state.otherProfile.last_name}</strong>\r\n                                        <p className=\"text-secondary\">@{this.state.otherProfile.user.username}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"chat-log\" className=\"chat-log\">\r\n                                    {this.state.messages.map(message => {\r\n                                        return (\r\n                                            <MessageListItem message={message} currentUser={this.props.username} />\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                </div>\r\n                                <SendMessageForm\r\n                                    WebSocketInstance={WebSocketInstance}\r\n                                    chatId={this.props.chatId}\r\n                                    username={this.props.username}\r\n                                    otherProfile={this.state.otherProfile}\r\n                                    myProfile={this.state.myProfile}\r\n                                    updateMessagesComponent={this.props.updateMessagesComponent}\r\n                                />\r\n                            </div>\r\n                            :\r\n                            <div\r\n                                className=\"d-flex flex-column justify-content-center align-items-center h-100 no-chat-selected\"\r\n                                style={{ width: '60%' }}\r\n                            >\r\n                                <div>\r\n                                    <strong style={{ fontSize: 'larger' }}>Você não tem uma conversa selecionada</strong>\r\n                                    <p className=\"text-secondary\">Selecione uma existente ou comece uma nova</p>\r\n                                    <button className=\"btn btn-primary\" onClick={() => this.props.openModal()}>Nova conversa</button>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"loader-container\" style={{ width: '60%' }}>\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Chat\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function ContactListItem(props) {\r\n    const profile = props.profile\r\n    const activeChats = props.activeChats\r\n    const activeChatsProfiles = props.activeChatsProfiles\r\n    let unreadMessagesCounter\r\n    let lastChatMessage\r\n\r\n    const resetUnreadMessagesCounter = () => {\r\n        unreadMessagesCounter = 0\r\n    }\r\n\r\n    const incrementUnreadMessagesCounter = () => {\r\n        unreadMessagesCounter++\r\n    }\r\n\r\n    const setLastChatMessage = message => {\r\n        lastChatMessage = message\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {profile !== undefined &&\r\n                <Link to={`/mensagens/${profile.slug}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                    {resetUnreadMessagesCounter()}\r\n                    <li className=\"list-item d-flex justify-content-start p-2 b-bottom b-theme-base-color c-primary-grey base-hover\" style={{ whiteSpace: 'nowrap' }}>\r\n                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                            className=\"profile-img-sm\"\r\n                            style={{ marginRight: '10px' }}\r\n                        />\r\n                        <div className=\"d-flex flex-column align-items-start\">\r\n                            <div className=\"d-flex\" style={{ maxHeight: '30px' }}>\r\n                                <strong style={{ height: 'fit-content' }}>{profile.first_name} {profile.last_name}</strong>\r\n                                {activeChats[activeChatsProfiles.indexOf(profile)].messages.map((message, i, messages) => {\r\n                                    if (messages[messages.length - 1] === message) setLastChatMessage(message.content)\r\n                                    if (message.read || message.contact.user.username !== profile.user.username) return\r\n                                    incrementUnreadMessagesCounter()\r\n                                })}\r\n                                {unreadMessagesCounter > 0 &&\r\n                                    <div className=\"notification-text-container\">\r\n                                        <div className=\"notification-text\">\r\n                                            {unreadMessagesCounter}\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                <p className=\"text-secondary\" style={{ marginLeft: '5px' }}>@{profile.user.username}</p>\r\n                            </div>\r\n                            <p className=\"text-secondary\">{lastChatMessage.slice(0, 40)}</p>\r\n                        </div>\r\n                    </li>\r\n                </Link>\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function ContactFilterInput(props) {\r\n    const activeChatsProfiles = props.activeChatsProfiles\r\n    const setHasFilteredProfiles = props.setHasFilteredProfiles\r\n    const fetchActiveChatProfiles = props.fetchActiveChatProfiles\r\n    const setParentState = props.setParentState\r\n    const openModal = props.openModal\r\n\r\n    const setContactSearch = query => {\r\n        if (query === '') {\r\n            setHasFilteredProfiles(false)\r\n            fetchActiveChatProfiles()\r\n            return\r\n        }\r\n        if (activeChatsProfiles) {\r\n            console.log(activeChatsProfiles)\r\n            const filteredProfiles = activeChatsProfiles.filter(p => p.user.username.includes(query))\r\n            setHasFilteredProfiles(true)\r\n            setParentState({\r\n                renderedActiveChatsProfiles: filteredProfiles\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"search-input-container\">\r\n            <input\r\n                className=\"search-input contact-filter-input\"\r\n                id=\"contact-filter-input\"\r\n                placeholder=\"Pesquisar pessoas\"\r\n                onChange={e => setContactSearch(e.target.value)}\r\n            />\r\n            <i className=\"fas fa-plus add-icon\" onClick={openModal}></i>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport Header from '../../../components/fixed/Header'\r\nimport ModalContactSearch from './components/ModalContactSearch'\r\nimport Chat from './components/chat_/Chat'\r\nimport ContactListItem from './components/ContactListItem'\r\nimport ContactFilterInput from './components/ContactFilterInput'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\nimport WebSocketInstance from './websocket'\r\n\r\nexport default class Messages extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            username: null,\r\n            chatId: null,\r\n            activeChats: null,\r\n            activeChatsProfiles: null,\r\n            renderedActiveChatsProfiles: null,\r\n            addingNewChat: false,\r\n            modalProfiles: [],\r\n        }\r\n        this.rerenderingInterval = null\r\n        this.hasFilteredProfiles = false\r\n    }\r\n\r\n    handleReceiveProps = props => {\r\n        if (props.match.params.slug) {\r\n            if (props.match.params.slug !== this.props.match.params.slug && WebSocketInstance.state() === 1) {\r\n                WebSocketInstance.disconnect()\r\n            }\r\n            const participants = { username: this.state.username, other_username: props.match.params.slug }\r\n            fetch(`${SERVER_URL}/chat-api/chat-id/${JSON.stringify(participants)}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({ chatId: data['chat_id'] })\r\n                })\r\n        } else if (this.state.chatId) {\r\n            this.setState({\r\n                chatId: null\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps === this.props) return\r\n        this.handleReceiveProps(newProps)\r\n    }\r\n\r\n    handleComponentChange() {\r\n        if (!this.state.username) {\r\n            fetch(`${SERVER_URL}/profile-api/logged-user`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({\r\n                        username: data.username\r\n                    })\r\n                    if (this.props.match.params.slug) {\r\n                        this.handleReceiveProps(this.props)\r\n                    }\r\n                })\r\n        }\r\n        if (!this.state.activeChatsProfiles && this.state.activeChatsProfiles !== []) {\r\n            this.fetchActiveChatProfiles()\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.title = 'Mensagens / Napker'\r\n        this.handleComponentChange()\r\n        this.rerenderingInterval = window.setInterval(this.fetchActiveChatProfiles, 4000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.clearInterval(this.rerenderingInterval)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n    fetchActiveChatProfiles = () => {\r\n        fetch(`${SERVER_URL}/chat-api/active-chats-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!this.state.username) return\r\n                if (!this.hasFilteredProfiles) {\r\n                    this.setState({\r\n                        activeChats: data.chats,\r\n                        activeChatsProfiles: data.profiles,\r\n                        renderedActiveChatsProfiles: data.profiles\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({\r\n            addingNewChat: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page=\"Mensagens\" />\r\n                <div className=\"content d-flex messages-wrapper\">\r\n                    <ModalContactSearch\r\n                        addingNewChat={this.state.addingNewChat}\r\n                        setParentState={this.setState.bind(this)}\r\n                        modalProfiles={this.state.modalProfiles}\r\n                    />\r\n                    <div className=\"chats-list h-100\">\r\n                        <ContactFilterInput\r\n                            activeChatsProfiles={this.state.activeChatsProfiles}\r\n                            setHasFilteredProfiles={bool => this.hasFilteredProfiles = bool}\r\n                            fetchActiveChatProfiles={this.fetchActiveChatProfiles}\r\n                            setParentState={this.setState.bind(this)}\r\n                            openModal={this.openModal}\r\n                        />\r\n                        {this.state.renderedActiveChatsProfiles !== null ?\r\n                            <div className=\"list-group chats-container\" style={{ background: 'var(--background)' }}>\r\n                                {this.state.renderedActiveChatsProfiles.map(profile => {\r\n                                    return (\r\n                                        <ContactListItem\r\n                                            profile={profile}\r\n                                            activeChats={this.state.activeChats}\r\n                                            activeChatsProfiles={this.state.activeChatsProfiles}\r\n                                        />\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            :\r\n                            <div className=\"loader-container\">\r\n                                <div className=\"loader\" />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    <Chat\r\n                        username={this.state.username}\r\n                        otherUsername={this.props.match.params.slug}\r\n                        chatId={this.state.chatId}\r\n                        openModal={this.openModal}\r\n                        updateUnreadMessagesNumber={this.props.updateUnreadMessagesNumber}\r\n                        updateMessagesComponent={this.fetchActiveChatProfiles}\r\n                    />\r\n                </div>\r\n                {!this.props.match.params.slug &&\r\n                    <BottomMenu />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const ProfileImageContext = createContext()\r\n\r\nexport const ProfileImageProvider = props => {\r\n    const [profileImage, setProfileImage] = useState(null)\r\n\r\n    return (\r\n        <ProfileImageContext.Provider value={[profileImage, setProfileImage]}>\r\n            {props.children}\r\n        </ProfileImageContext.Provider>\r\n    )\r\n}","import React, { createContext } from 'react'\r\n\r\nimport { ProfileImageContext, ProfileImageProvider } from './profile-image/ProfileImageContext'\r\nexport { ProfileImageContext }\r\n\r\nexport const EditProfileContext = createContext()\r\n\r\nexport default function EditProfileProvider(props) {\r\n    return (\r\n        <EditProfileContext.Provider>\r\n            <ProfileImageProvider>\r\n                {props.children}\r\n            </ProfileImageProvider>\r\n        </EditProfileContext.Provider>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useRef } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Cropper from \"cropperjs\";\r\n\r\nimport \"cropperjs/dist/cropper.min.css\";\r\n\r\nimport { ProfileImageContext } from '../../../../../../context/edit-profile/EditProfileContext'\r\n\r\n\r\nexport default function CroppieModal(props) {\r\n    const [profileImage, setProfileImage] = useContext(ProfileImageContext)\r\n\r\n    const imageElement = useRef()\r\n\r\n    useEffect(() => {\r\n        const cropper = new Cropper(imageElement.current, {\r\n            viewMode: 1,\r\n            scalable: false,\r\n            aspectRatio: 1,\r\n            crop: () => {\r\n                const canvas = cropper.getCroppedCanvas();\r\n                setProfileImage(canvas.toDataURL(\"image/png\"))\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton>\r\n                <div className=\"d-flex justify-content-between align-items-center w-100\">\r\n                    <div className=\"d-flex justify-content-center align-items-center\">\r\n                        <i class=\"fas fa-arrow-left left-arrow-icon\" onClick={props.stopCropping} />\r\n                        <Modal.Title>Editar perfil</Modal.Title>\r\n                    </div>\r\n                    <button className=\"btn btn-primary\" onClick={props.stopCropping}>\r\n                        Aplicar\r\n                    </button>\r\n                </div>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div>\r\n                    <div className=\"d-flex justify-content-center w-100\" style={{ maxHeight: '480px' }}>\r\n                        <img className=\"mw-100 mh-100\" ref={imageElement} src={profileImage} alt=\"Source\" crossorigin />\r\n                    </div>\r\n                </div>\r\n            </Modal.Body>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport { csrftoken, openCloseEmojiList } from '../../../../../../config/utils'\r\nimport { ProfileImageContext } from '../../../../../../context/edit-profile/EditProfileContext'\r\n\r\n\r\nexport default function EditProfileModal(props) {\r\n    const profile = props.profile\r\n    const [profileImage, setProfileImage] = useContext(ProfileImageContext)\r\n    const [editingBioContent, setEditingBioContent] = useState('')\r\n\r\n    const handleUsernameChange = e => {\r\n        if (e.target.value.trim() !== '') {\r\n            fetch(`${SERVER_URL}/profile-api/user/${e.target.value}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.bool !== 'false' && data.id !== profile.id) {\r\n                        document.querySelector('#username-taken').style.display = 'initial'\r\n                    } else {\r\n                        document.querySelector('#username-taken').style.display = 'none'\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setEditingBioContent(editingBioContent + emojiObject.emoji)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Editar perfil</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <form\r\n                    action={`${SERVER_URL}/update-profile`}\r\n                    className=\"d-flex flex-column justify-content-center\"\r\n                    id=\"update-profile-form\"\r\n                    method=\"POST\"\r\n                    encType=\"multipart/form-data\"\r\n                >\r\n                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                    <div className=\"d-flex flex-column justify-content-center align-items-center mb-2\">\r\n                        <img src={profileImage ? profileImage : `${SERVER_URL}${profile.photo}`}\r\n                            className=\"profile-img-big\"\r\n                            style={{ marginBottom: '25px' }}\r\n                        />\r\n                        <input\r\n                            type=\"file\"\r\n                            accept=\"image/png, image/jpg, image/jpeg\"\r\n                            className=\"profile-photo-input\"\r\n                            onChange={props.handleProfileImageChange}\r\n                        />\r\n                        <input\r\n                            type=\"hidden\"\r\n                            name=\"profile-photo\"\r\n                            value={profileImage}\r\n                        />\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        Email: {profile.email}\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"first-name\" className=\"profile-field-label\">Nome:</label>\r\n                        <input className=\"profile-field-input\" type=\"text\" name=\"first-name\" id=\"first-name\" placeholder={profile.first_name} />\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"last-name\" className=\"profile-field-label\">Sobrenome:</label>\r\n                        <input className=\"profile-field-input\" type=\"text\" name=\"last-name\" id=\"last-name\" placeholder={profile.last_name} />\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"username\" className=\"profile-field-label\">Nome de usuário:</label>\r\n                        <input\r\n                            className=\"profile-field-input\"\r\n                            type=\"text\"\r\n                            name=\"username\"\r\n                            id=\"username\"\r\n                            placeholder={`@${profile.user.username}`}\r\n                            onChange={handleUsernameChange}\r\n                        />\r\n                    </div>\r\n                    <div\r\n                        id=\"username-taken\"\r\n                        style={{ display: 'none', width: '100%', textAlign: 'center', padding: '3px' }}\r\n                    >\r\n                        <span>Nome de usuário já existe</span>\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"birth-date\" className=\"profile-field-label\">Data de nascimento:</label>\r\n                        <input className=\"profile-field-input\" type=\"date\" name=\"birth-date\" id=\"birth-date\" defaultValue={profile.birth_date} />\r\n                    </div>\r\n                    <div className=\"emoji-list-container bio-emoji-list\" id=\"emoji-list-container\">\r\n                        <Picker onEmojiClick={onEmojiSelect} />\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"bio\" className=\"profile-field-label\">Bio:</label>\r\n                        <div className=\"email-input-container\">\r\n                            <input\r\n                                className=\"profile-field-input-email\"\r\n                                type=\"text\"\r\n                                name=\"bio\"\r\n                                id=\"bio\"\r\n                                value={editingBioContent}\r\n                                placeholder={profile.bio}\r\n                                maxLength={240}\r\n                                onChange={e => setEditingBioContent(e.target.value)}\r\n                            />\r\n                            <label\r\n                                className=\"far fa-smile\"\r\n                                id=\"emoji-button\"\r\n                                onClick={() => openCloseEmojiList(false)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <button className=\"btn btn-grey\" onClick={props.closeModal}>Fechar</button>\r\n                <button className=\"btn btn-primary\" onClick={() => document.querySelector('form#update-profile-form').submit()}>Salvar</button>\r\n            </Modal.Footer>\r\n        </>\r\n    )\r\n}","import React, { useState, useContext } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nimport { ProfileImageContext } from '../../../../../context/edit-profile/EditProfileContext'\r\nimport CroppieModal from './components/CroppieModal'\r\nimport EditProfileModal from './components/EditProfileModal'\r\n\r\n\r\nexport default function EditProfile(props) {\r\n    const [profileImage, setProfileImage] = useContext(ProfileImageContext)\r\n    const [isCroppingImage, setIsCropping] = useState(false)\r\n\r\n    const handleProfileImageChange = (e, isCropping) => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                setProfileImage(reader.result)\r\n                setIsCropping(isCropping)\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.closeModal}\r\n            size=\"lg\"\r\n        >\r\n            {isCroppingImage ?\r\n                <CroppieModal\r\n                    image={profileImage}\r\n                    stopCropping={() => setIsCropping(false)}\r\n                />\r\n                :\r\n                <EditProfileModal\r\n                    profile={props.profile}\r\n                    handleProfileImageChange={e => handleProfileImageChange(e, true)}\r\n                    closeModal={props.closeModal}\r\n                />\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport LikesModal from '../../../../components/LikesModal'\r\nimport PostListItem from '../../../../components/PostListItem'\r\n\r\nexport default function Posts(props) {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n    const profile = props.profile\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const hideLikesModal = () => {\r\n        setLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={hideLikesModal}\r\n            />\r\n            <div className=\"d-flex flex-column justify-content-center align-items-center w-100 h-100\">\r\n                {profile && myProfile ?\r\n                    <>\r\n                        {profile.posts.length ? profile.posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={myProfile}\r\n                                    renderParent={props.fetchProfile}\r\n                                    openLikesModal={likes => setLikesModal({ isOpen: true, likes: likes })}\r\n                                />\r\n                            )\r\n                        }) :\r\n                            <div className=\"no-posts-container\">\r\n                                {profile.id === myProfile.id ?\r\n                                    <h3 style={{ marginTop: '50px' }}>Você não tem posts</h3>\r\n                                    :\r\n                                    <h3 style={{ marginTop: '50px' }}>{profile.first_name} não tem posts</h3>\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Interests(props) {\r\n    const profile = props.profile\r\n\r\n    return (\r\n        <div style={{ background: 'var(--theme-base-color)' }}>\r\n            <h3 className=\"p-3 b-bottom\">Interesses públicos de {profile.first_name}</h3>\r\n            <div className=\"interest-list-container\">\r\n                {profile && profile.interests.filter(i => i.public).map(interest => {\r\n                    return (\r\n                        <>\r\n                            {interest.title &&\r\n                                <>\r\n                                    <li\r\n                                        className=\"w-100 d-flex justify-content-between align-items-center p-3 b-bottom\"\r\n                                        style={{ minHeight: '50px', fontSize: 'large' }}\r\n                                    >\r\n                                        {interest.title[0].toUpperCase() + interest.title.slice(1)}\r\n                                        <Link to={`/interesses/${interest.title}`}>\r\n                                            <button className=\"btn btn-secondary\" style={{ padding: '5px' }}>Pesquisar usuários</button>\r\n                                        </Link>\r\n                                    </li>\r\n                                </>\r\n                            }\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function ProfileData(props) {\r\n    const profile = props.profile\r\n\r\n    return (\r\n        <div className=\"profile-data-container\">\r\n            <div className=\"d-flex flex-column align-items-start\" style={{ textAlign: 'start', maxWidth: '50%' }}>\r\n                <p>\r\n                    <img src={`${SERVER_URL}${profile.photo}`}\r\n                        className=\"profile-img-big\"\r\n                        style={{ marginBottom: '25px' }}\r\n                    />\r\n                </p>\r\n                <p style={{ marginBottom: 0 }}><strong>{profile.first_name} {profile.last_name}</strong></p>\r\n                <p className=\"text-secondary\" style={{ marginTop: 0 }}>@{profile.user.username}</p>\r\n                <p>{profile.bio}</p>\r\n                <p className=\"text-secondary\">\r\n                    <i className=\"far fa-calendar-alt\"></i> Entrou em {profile.created.split('-').reverse().join('/')}\r\n                </p>\r\n                <p>\r\n                    <Link to={`/user/${profile.slug}/amigos`} style={{ color: \"var(--primary-grey)\" }}>\r\n                        <strong>{profile.friends.length}</strong> <span className=\"text-secondary\">{profile.friends.length === 1 ? 'amigo' : 'amigos'}</span>\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport Header from '../../../components/fixed/Header'\r\nimport EditProfile from './components/edit-profile/EditProfile'\r\nimport Posts from './components/Posts'\r\nimport Interests from './components/interests/Interests'\r\nimport ProfileData from './components/ProfileData'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\n\r\nexport default function MyProfile() {\r\n    const [myProfile, setProfile] = useState(null)\r\n    const [currentPageIsPosts, setCurrentPageIsPosts] = useState(true)\r\n    const [isEditing, setIsEditing] = useState(false)\r\n\r\n    document.title = 'Perfil / Napker'\r\n\r\n    useEffect(() => {\r\n        fetchProfile()\r\n    }, [])\r\n\r\n    const fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }\r\n\r\n    const switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            setCurrentPageIsPosts(true)\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            setCurrentPageIsPosts(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Perfil\" />\r\n            <div className=\"sidebar-content\">\r\n                {myProfile ?\r\n                    <>\r\n                        <EditProfile\r\n                            profile={myProfile}\r\n                            isOpen={isEditing}\r\n                            closeModal={() => setIsEditing(false)}\r\n                        />\r\n\r\n                        <ProfileData profile={myProfile}>\r\n                            <div className=\"myprofile-btn-wrapper\">\r\n                                <button\r\n                                    className=\"btn btn-secondary\"\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditing(true)}\r\n                                    style={{ marginBottom: '10px' }}\r\n                                >\r\n                                    Editar perfil\r\n                                </button>\r\n                                <Link to='/perfil/meus-interesses'>\r\n                                    <button className=\"btn btn-secondary\">Editar interesses</button>\r\n                                </Link>\r\n                            </div>\r\n                        </ProfileData>\r\n                        <div className=\"profile-page-menu b-bottom\">\r\n                            <div\r\n                                className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                id=\"profile-posts-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Posts ({myProfile.posts.length})\r\n                            </div>\r\n                            <div\r\n                                className=\"profile-page-menu-item\"\r\n                                id=\"profile-interests-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Interesses ({myProfile.interests.filter(i => i.public).length})\r\n                            </div>\r\n                        </div>\r\n                        {currentPageIsPosts ?\r\n                            <Posts profile={myProfile} fetchProfile={fetchProfile} />\r\n                            :\r\n                            <Interests profile={myProfile} />\r\n                        }\r\n                    </> :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport { handleLogout } from '../../../../config/utils'\r\n\r\nexport default function SettingsMenu() {\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column align-items-center h-100 b-right settings-page-menu\" style={{ width: '40%', background: 'var(--background)' }}>\r\n            <NavLink\r\n                to=\"/configurações/perfis-bloqueados\"\r\n                style={{ textDecoration: 'none', width: '100%', background: 'var(--theme-base-color)' }}\r\n                activeStyle={{ background: 'var(--theme-base-color-hover)' }}\r\n            >\r\n                <li\r\n                    className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom c-primary-grey base-hover\"\r\n                    id=\"blocked-profiles\"\r\n                    style={{ fontSize: 'large' }}\r\n                >\r\n                    Perfis bloqueados\r\n                    <i className=\"fas fa-angle-right\" />\r\n                </li>\r\n            </NavLink>\r\n            <NavLink\r\n                to=\"/configurações/segurança\"\r\n                style={{ textDecoration: 'none', width: '100%', background: 'var(--theme-base-color)' }}\r\n                activeStyle={{ background: 'var(--theme-base-color-hover)' }}\r\n            >\r\n                <li\r\n                    className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom c-primary-grey base-hover\"\r\n                    id=\"security\"\r\n                    style={{ fontSize: 'large' }}\r\n                >\r\n                    Segurança\r\n                    <i className=\"fas fa-angle-right\" />\r\n                </li>\r\n            </NavLink>\r\n            <NavLink\r\n                to=\"/configurações/faq\"\r\n                style={{ textDecoration: 'none', width: '100%', background: 'var(--theme-base-color)' }}\r\n                activeStyle={{ background: 'var(--theme-base-color-hover)' }}\r\n            >\r\n                <li\r\n                    className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom c-primary-grey base-hover\"\r\n                    id=\"faq\"\r\n                    style={{ fontSize: 'large' }}\r\n                >\r\n                    FAQ\r\n                    <i className=\"fas fa-angle-right\" />\r\n                </li>\r\n            </NavLink>\r\n            <NavLink\r\n                to=\"/configurações/fale-conosco\"\r\n                style={{ textDecoration: 'none', width: '100%', background: 'var(--theme-base-color)' }}\r\n                activeStyle={{ background: 'var(--theme-base-color-hover)' }}\r\n            >\r\n                <li\r\n                    className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom c-primary-grey base-hover\"\r\n                    id=\"feedback\"\r\n                    style={{ fontSize: 'large' }}\r\n                >\r\n                    Fale conosco\r\n                    <i className=\"fas fa-angle-right\" />\r\n                </li>\r\n            </NavLink>\r\n            <li\r\n                className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 c-primary-grey b-theme-base-color base-hover\"\r\n                style={{ fontSize: 'large' }}\r\n                onClick={handleLogout}\r\n            >\r\n                Sair da conta\r\n            </li>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport ProfileListItem from '../../../../components/ProfileListItem'\r\n\r\nexport default function BlockUser() {\r\n    const [blockedProfiles, setBlockedProfiles] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/get-blocked-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => setBlockedProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            {blockedProfiles !== null && myProfile !== null ?\r\n                <>\r\n                    {!!blockedProfiles.length ?\r\n                        <div className=\"blocked-profiles-list\">\r\n                            <div className=\"blocked-profiles-title\">\r\n                                <h4>\r\n                                    Você possui {blockedProfiles.length} {blockedProfiles.length === 1 ? 'perfil bloqueado' : 'perfis bloqueados'}\r\n                                </h4>\r\n                            </div>\r\n                            {blockedProfiles.map(profile => {\r\n                                return (\r\n                                    <ProfileListItem\r\n                                        profile={profile}\r\n                                        myProfile={myProfile}\r\n                                        style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    />\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                        :\r\n                        <div className=\"mt-3 no-blocked-profiles\">\r\n                            <h3>Você não possui perfis bloqueados</h3>\r\n                        </div>\r\n                    }\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport default function SecurityMenu() {\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div className=\"d-flex flex-column justify-content-between align-items-center w-100 \">\r\n                <div className=\"d-flex flex-column w-100\">\r\n                    <li\r\n                        className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom b-theme-base-color c-primary-grey\"\r\n                        style={{ fontSize: 'large' }}\r\n                    >\r\n                        <strong>Segurança</strong>\r\n                    </li>\r\n                    <Link to=\"/configurações/alterar-senha\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                        <li\r\n                            className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom b-theme-base-color c-primary-grey base-hover\"\r\n                            id=\"change-password\"\r\n                            style={{ fontSize: 'large' }}\r\n                        >\r\n                            Alterar senha\r\n                            <i className=\"fas fa-angle-right\" />\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/configurações/deletar-conta\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                        <li\r\n                            className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom b-theme-base-color c-primary-grey base-hover\"\r\n                            id=\"delete-account\"\r\n                            style={{ fontSize: 'large' }}\r\n                        >\r\n                            Apagar conta\r\n                            <i className=\"fas fa-angle-right\" />\r\n                        </li>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function Faq() {\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div style={{ padding: '15px', borderBottom: '1px solid var(--border-color)' }}>\r\n                <h3>FAQ</h3>\r\n            </div>\r\n            <div className=\"faq-content\">\r\n                <div className=\"faq-center\">\r\n                    <details>\r\n                        <summary>\r\n                            <h2>Como alterar minha senha?</h2>\r\n                        </summary>\r\n                        <p>O usuário deverá entrar no menu configurações e abrir a sessão [Segurança], onde encontrará a possibilidade de [Alterar Senha], acompanhada de instruções.</p>\r\n                    </details>\r\n                    <details open>\r\n                        <summary>\r\n                            <h2>O que são interesses?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                    <details>\r\n                        <summary>\r\n                            <h2>Como alterar interesses?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                    <details>\r\n                        <summary>\r\n                            <h2>O que são interesses públicos/privados?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                    <details>\r\n                        <summary>\r\n                            <h2>Como denunciar usuários?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function ChangePassword() {\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [successMessage, setSuccessMessage] = useState(null)\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n        let passwordEl = document.querySelector('#password')\r\n        let newPasswordEl = document.querySelector('#new_password')\r\n        let newPasswordcEl = document.querySelector('#new_passwordc')\r\n        let password = passwordEl.value\r\n        let newPassword = newPasswordEl.value\r\n        let newPasswordc = newPasswordcEl.value\r\n        for (let input of document.querySelectorAll('form > input')) {\r\n            if (!input.value) {\r\n                alert('Todos os campos devem ser preenchidos!')\r\n                return\r\n            }\r\n        }\r\n        if (newPassword !== newPasswordc) {\r\n            setErrorMessage('Os campos \"Nova senha\" e \"Confirmar nova senha\" devem ter o mesmo valor!')\r\n            setSuccessMessage(null)\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/change-password`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                password: password,\r\n                new_password: newPassword,\r\n                new_passwordc: newPasswordc,\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'success') {\r\n                    setSuccessMessage('Senha alterada com successo!')\r\n                    setErrorMessage(null)\r\n                    passwordEl.value = newPasswordEl.value = newPasswordcEl.value = ''\r\n                } else {\r\n                    setErrorMessage(data)\r\n                    setSuccessMessage(null)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div\r\n                className=\"d-flex justify-content-start align-items-center\"\r\n                style={{ background: 'var(--theme-base-color)', padding: '15px', borderBottom: '1px solid var(--border-color)' }}>\r\n                <i\r\n                    class=\"fas fa-arrow-left left-arrow-icon mr-2\"\r\n                    onClick={() => window.history.back()}\r\n                />\r\n                <strong style={{ fontSize: '1.2rem' }}>Segurança</strong>\r\n            </div>\r\n            {errorMessage &&\r\n                <div class=\"alert alert-danger alert\" role=\"alert\">\r\n                    {errorMessage}\r\n                </div>\r\n            }\r\n            {successMessage &&\r\n                <div class=\"alert alert-success alert\" role=\"alert\">\r\n                    {successMessage}\r\n                </div>\r\n            }\r\n            <div className=\"settings-page-title-container\">\r\n                <h3>Alterar senha</h3>\r\n            </div>\r\n            <form className=\"change-password-form\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha atual\" autoFocus />\r\n                <br />\r\n                <Link to=\"/recuperar-senha\">\r\n                    Esqueceu sua senha?\r\n                </Link>\r\n                <hr />\r\n                <br />\r\n                <input id=\"new_password\" type=\"password\" placeholder=\"Nova senha\" />\r\n                <br />\r\n                <input id=\"new_passwordc\" type=\"password\" placeholder=\"Confirmar nova senha\" />\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-primary\"\r\n                    type=\"submit\"\r\n                    onClick={handleFormSubmit}\r\n                >Confirmar</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\n\r\nexport default function DeleteAccount() {\r\n    const [displayErrorMessage, setDisplayErrorMessage] = useState(null)\r\n\r\n    const deleteAccount = () => {\r\n        if (window.confirm('Tem certeza que deseja deletar a sua conta ?\\nEsta ação é irreversível?')) {\r\n            const password = document.querySelector('#password').value\r\n            if (!password) {\r\n                window.alert('A senha não pode ficar em branco!')\r\n            } else {\r\n                fetch(`${SERVER_URL}/delete-account`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify({\r\n                        password: password\r\n                    })\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data === 'Wrong password') {\r\n                            setDisplayErrorMessage(true)\r\n                        } else {\r\n                            window.alert('Conta deletada com sucesso.')\r\n                            window.location.href = SERVER_URL\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div\r\n                className=\"d-flex justify-content-start align-items-center\"\r\n                style={{ background: 'var(--theme-base-color)', padding: '15px', borderBottom: '1px solid var(--border-color)' }}\r\n            >\r\n                <i\r\n                    class=\"fas fa-arrow-left left-arrow-icon mr-2\"\r\n                    onClick={() => window.history.back()}\r\n                />\r\n                <strong style={{ fontSize: '1.2rem' }}>Segurança</strong>\r\n            </div>\r\n            {displayErrorMessage &&\r\n                <div className=\"alert\">\r\n                    <div className=\"alert alert-danger\" role=\"alert\">Senha incorreta!</div>\r\n                </div>\r\n            }\r\n            <div className=\"settings-page-title-container\">\r\n                <h3>Deletar conta</h3>\r\n            </div>\r\n            <div className=\"delete-account-confirmation\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha\" autoFocus />\r\n                <hr />\r\n                <br />\r\n                Tem certeza que deseja apagar a sua conta ?\r\n                <br />\r\n                Esta ação é irreversível\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={deleteAccount}\r\n                    style={{\r\n                        borderRadius : \"20px\",\r\n                        fontWeight: \"bold\"\r\n                    }}\r\n                >Deletar conta</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\n\r\n\r\nexport default function Feedback() {\r\n    const [name, setName] = useState(null)\r\n\r\n    let selectedRating = -1\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setName(data.first_name))\r\n    }, [])\r\n\r\n    const handleFaceMouseEnter = e => {\r\n        const img = e.target\r\n        img.src = `/static/media/feedback-faces/${img.id}.png`\r\n    }\r\n\r\n    const handleFaceMouseLeave = e => {\r\n        const img = e.target\r\n        if (img.dataset.selected === 'false') {\r\n            img.src = `/static/media/feedback-faces/${img.id}bw.png`\r\n        }\r\n    }\r\n\r\n    const selectFace = e => {\r\n        const img = e.target\r\n        document.querySelectorAll('.option-container > img').forEach(image => {\r\n            image.src = `/static/media/feedback-faces/${image.id}bw.png`\r\n            if (image !== img) image.dataset.selected = 'false'\r\n            image.classList.remove('animated')\r\n        })\r\n        if (img.dataset.selected === 'false') {\r\n            img.src = `/static/media/feedback-faces/${img.id}.png`\r\n            img.dataset.selected = 'true'\r\n            img.classList.add('animated')\r\n            img.onanimationend = () => img.classList.remove('animated')\r\n            selectedRating = img.id\r\n        } else {\r\n            img.dataset.selected = 'false'\r\n            selectedRating = -1\r\n        }\r\n    }\r\n\r\n    const thankYouPage = () => {\r\n        document.querySelector('.feedback-form > h3').innerHTML = `Muito obrigado${name !== null ? (`, ${name}`) : ''}!`\r\n        document.querySelector('.feedback-faces-container').innerHTML = 'A sua mensagem nos ajudará a tornar o Napker cada vez mais inclusivo e transparente.\\nCaso pense em mais alguma coisa, sinta-se à vontade para entrar em contato novamente.'\r\n        document.querySelector('.textarea-container').innerHTML = \"<img src='/static/media/feedback-faces/thankyou.png'/>\"\r\n    }\r\n\r\n\r\n    const handleFeedbackSubmit = e => {\r\n        const message = document.querySelector('.feedback-form > .textarea-container > textarea').value\r\n        if (message.trim() === '') {\r\n            alert('A mensagem não pode estar em branco')\r\n        } else {\r\n            fetch(`${SERVER_URL}/settings-api/feedback`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                },\r\n                body: JSON.stringify({\r\n                    'rating': selectedRating,\r\n                    'message': message\r\n                })\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => console.log(data))\r\n            thankYouPage()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div className=\"feedback-form\">\r\n                <h3>Nos ajude a melhorar</h3>\r\n                <hr />\r\n                <div className=\"feedback-faces-container\">\r\n                    <h6>Como está sendo a sua experiência no Napker até agora?</h6>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/5bw.png\"\r\n                                id=\"5\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/4bw.png\"\r\n                                id=\"4\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/3bw.png\"\r\n                                id=\"3\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/2bw.png\"\r\n                                id=\"2\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/1bw.png\"\r\n                                id=\"1\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"d-flex flex-column align-items-center textarea-container\">\r\n                    <textarea\r\n                        class='autoExpand'\r\n                        rows='3'\r\n                        data-min-rows='3'\r\n                        placeholder=\"Digite a sua mensagem aqui...\" />\r\n                    <button className=\"btn btn-primary w-100\" onClick={handleFeedbackSubmit}>Enviar</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\n\r\nimport Header from '../../../components/fixed/Header'\r\nimport SettingsMenu from './components/SettingsMenu'\r\nimport BlockedProfiles from './components/BlockedProfiles'\r\nimport SecurityMenu from './components/security_/SecurityMenu'\r\nimport Faq from './components/Faq'\r\nimport ChangePassword from './components/security_/components/ChangePassword'\r\nimport DeleteAccount from './components/security_/components/DeleteAccount'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\nimport Feedback from './components/Feedback'\r\n\r\n\r\nexport default function Settings(props) {\r\n    if (!props.page) props.page = 'default'\r\n\r\n    document.title = 'Configurações / Napker'\r\n\r\n    useEffect(() => {\r\n        if (props.page !== 'default') {\r\n            document.querySelector('.settings-description-container') &&\r\n                document.querySelector('.settings-description-container').classList.remove('mobile-d-none')\r\n        } else {\r\n            document.querySelector('.settings-description-container') &&\r\n                document.querySelector('.settings-description-container').classList.add('mobile-d-none')\r\n        }\r\n    }, [props.page])\r\n\r\n    return (\r\n        <>\r\n            {visualViewport.width < 635 ?\r\n                <>\r\n                    {props.page !== 'change-password' && props.page !== 'delete-account' ?\r\n                        < Header page=\"Configurações\" backArrow={props.page !== 'default'} />\r\n                        :\r\n                        <>\r\n                        </>\r\n                    }\r\n                </>\r\n                :\r\n                < Header page=\"Configurações\" />\r\n            }\r\n            <div className=\"content\">\r\n                <div className=\"settings-page-container\">\r\n\r\n                    <SettingsMenu />\r\n                    \r\n                    {(props.page === 'blocked-profiles' || props.page === 'default') &&\r\n                        <BlockedProfiles />\r\n                    }\r\n\r\n                    {props.page === 'security' &&\r\n                        <SecurityMenu />\r\n                    }\r\n\r\n                    {props.page === 'change-password' &&\r\n                        <ChangePassword />\r\n                    }\r\n\r\n                    {props.page === 'delete-account' &&\r\n                        <DeleteAccount />\r\n                    }\r\n\r\n                    {props.page === 'faq' &&\r\n                        <Faq />\r\n                    }\r\n\r\n                    {props.page === 'feedback' &&\r\n                        <Feedback />\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\nimport Header from '../../../components/fixed/Header'\r\nimport Posts from './components/Posts'\r\nimport Interests from './components/interests/Interests'\r\nimport ProfileData from './components/ProfileData'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            profile: null,\r\n            alertMessage: null,\r\n            relationshipButtonLabel: '',\r\n            currentPageIsPosts: true,\r\n        }\r\n        this.slug = this.props.match.params.slug\r\n        this.baseState = this.state\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.fetchProfile()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchRelationship()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let btn = document.querySelector('#profile-page-relationship-btn')\r\n        if (btn) {\r\n            switch (btn.innerHTML, this.state.relationshipButtonLabel) {\r\n                case 'Amigos':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.onmouseenter = () => {\r\n                        if (btn.innerHTML === 'Amigos') btn.innerHTML = 'Remover'\r\n                    }\r\n                    btn.onmouseout = () => {\r\n                        if (btn.innerHTML === 'Remover') btn.innerHTML = 'Amigos'\r\n                    }\r\n                    btn.classList.add('friend-btn')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitado':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Aceitar':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitar':\r\n                    btn.classList.add('btn-secondary')\r\n                    btn.classList.remove('d-none')\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps === this.props) return\r\n        this.setState(this.baseState) //resetting state\r\n        this.slug = newProps.match.params.slug\r\n        this.fetchProfile()\r\n        this.fetchRelationship()\r\n    }\r\n\r\n    fetchRelationship = () => {\r\n        fetch(`${SERVER_URL}/profile-api/relationship/${this.slug}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                let label\r\n                switch (data.relationship) {\r\n                    case 'friends':\r\n                        label = 'Amigos'\r\n                        break\r\n                    case 'invite-sent':\r\n                        label = 'Solicitado'\r\n                        break\r\n                    case 'invite-received':\r\n                        label = 'Aceitar'\r\n                        break\r\n                    case 'none':\r\n                        label = 'Solicitar'\r\n                }\r\n                this.setState({\r\n                    relationshipButtonLabel: label\r\n                })\r\n            })\r\n    }\r\n\r\n    fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${this.slug}`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                profile: data\r\n            }))\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ myProfile: data }))\r\n    }\r\n\r\n    sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    removeFromFriends = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/remove-from-friends`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    acceptFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'senderid': pk,\r\n                'reply': 'accept'\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                this.props.updateNotificationsNumber()\r\n            })\r\n    }\r\n\r\n    handleRelationshipUpdate = e => {\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            this.sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else if (btn.innerHTML === 'Solicitado') {\r\n            this.cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        } else if (btn.innerHTML === 'Amigos' || btn.innerHTML === 'Remover') {\r\n            if (window.confirm(`Remover @${this.state.profile.user.username} dos amigos?`)) {\r\n                this.removeFromFriends(btn.dataset.pk)\r\n                btn.innerHTML = 'Solicitar'\r\n                btn.className = 'btn btn-secondary'\r\n            }\r\n        } else if (btn.innerHTML === 'Aceitar') {\r\n            this.acceptFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Amigos'\r\n            btn.className = 'btn btn-primary'\r\n        }\r\n    }\r\n\r\n    blockUnblockUser = () => {\r\n        if (this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id)) {\r\n            if (window.confirm(`Tem certeza que deseja desbloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/unblock-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({ alertMessage: `Você desbloqueou @${this.state.profile.user.username}.` })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        } else {\r\n            if (window.confirm(`Tem certeza que deseja bloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/block-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({\r\n                            alertMessage: `Você bloqueou @${this.state.profile.user.username}.\r\n                         ${this.state.profile.first_name} não conseguirá mais ver o seu perfil ou te enviar mensagens.`\r\n                        })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        }\r\n        this.fetchProfile()\r\n        document.querySelector('#profile-view-more-select').style.display = 'none'\r\n    }\r\n\r\n    openCloseExtraOptions = () => {\r\n        const el = document.querySelector('#profile-view-more-select')\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            document.querySelector('#profile-view-more-icon').classList.add('view-more-icon-active')\r\n            style.display = 'flex'\r\n        } else {\r\n            document.querySelector('#profile-view-more-icon').classList.remove('view-more-icon-active')\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: true })\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page={this.state.profile ? `${this.state.profile.first_name} ${this.state.profile.last_name}` : 'Perfil'}\r\n                    backArrow={true}\r\n                />\r\n                {this.state.myProfile !== null && this.state.profile !== null ?\r\n                    <div className=\"sidebar-content\">\r\n                        {this.state.profile.blocked_users.map(u => u.id).includes(this.state.myProfile.user.id) ?\r\n                            <div className=\"user-blocked-me-container\">\r\n                                <h3>O usuário te bloqueou</h3>\r\n                            </div>\r\n                            :\r\n                            <>\r\n                                {this.state.alertMessage &&\r\n                                    <div class=\"alert alert-success profile-page-alert-success\" role=\"alert\">\r\n                                        {this.state.alertMessage}\r\n                                    </div>\r\n                                }\r\n                                <ProfileData profile={this.state.profile}>\r\n                                    <div className=\"profile-btn-wrapper\">\r\n                                        <i\r\n                                            className=\"fas fa-ellipsis-h btn btn-secondary mr-2 view-more-icon\"\r\n                                            id=\"profile-view-more-icon\"\r\n                                            onClick={this.openCloseExtraOptions}\r\n                                        />\r\n                                        <div className=\"view-more-select\" id=\"profile-view-more-select\" style={{ top: '60%', right: '10%' }}>\r\n                                            {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                                <li>\r\n                                                    <Link to={`/mensagens/${this.state.profile.slug}`} style={{ color: 'var(--primary-grey)', textDecoration: 'none' }}>\r\n                                                        <i class=\"fas fa-envelope text-secondary\" />\r\n                                                        Enviar mensagem\r\n                                                    </Link>\r\n                                                </li>\r\n                                            }\r\n                                            <li onClick={this.blockUnblockUser}>\r\n                                                <i class=\"fas fa-user-lock text-secondary\" />\r\n                                                {this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) ?\r\n                                                    'Desbloquear'\r\n                                                    :\r\n                                                    'Bloquear'\r\n                                                }\r\n                                            </li>\r\n                                            <div className=\"popover-arrow\" style={{ top: '-9px', left: '30%' }} />\r\n                                        </div>\r\n                                        {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                            <button className=\"btn d-none\"\r\n                                                id=\"profile-page-relationship-btn\"\r\n                                                data-pk={this.state.profile.id}\r\n                                                onClick={this.handleRelationshipUpdate}\r\n                                            >{this.state.relationshipButtonLabel}</button>\r\n                                        }\r\n                                    </div>\r\n                                </ProfileData>\r\n                                <div className=\"profile-page-menu b-bottom\">\r\n                                    <div\r\n                                        className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                        id=\"profile-posts-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Posts ({this.state.profile.posts.length})\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"profile-page-menu-item\"\r\n                                        id=\"profile-interests-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Interesses ({this.state.profile.interests.filter(i => i.public).length})\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.currentPageIsPosts ?\r\n                                    <Posts profile={this.state.profile} fetchProfile={this.fetchProfile} /> :\r\n                                    <Interests profile={this.state.profile} />\r\n                                }\r\n                            </>\r\n                        }\r\n                    </div>\r\n                    :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n                <BottomMenu />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport Header from '../../../../components/fixed/Header'\r\nimport ProfileListItem from '../../../../components/ProfileListItem'\r\nimport BottomMenu from '../../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function Friends() {\r\n    const [friends, setFriends] = useState(null)\r\n    const [profile, setProfile] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const { slug } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${slug}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (profile) {\r\n            fetch(`${SERVER_URL}/profile-api/get-friends-profiles/${profile.slug}`)\r\n                .then(response => response.json())\r\n                .then(data => setFriends(data))\r\n        }\r\n    }, [profile])\r\n\r\n    return (\r\n        <>\r\n            <Header page={profile !== null ? `${profile.first_name} ${profile.last_name} / Amigos` : 'Perfil / Amigos'}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"sidebar-content\">\r\n                <div className=\"list-group profile-friends-container\">\r\n                    {friends !== null && myProfile !== null ?\r\n                        <>\r\n                            {friends.length ? friends.map(friend => {\r\n                                return (\r\n                                    <ProfileListItem\r\n                                        profile={friend}\r\n                                        myProfile={myProfile}\r\n                                        style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    />\r\n                                )\r\n                            }) :\r\n                                <h3 style={{ marginTop: '30px' }}>\r\n                                    {profile ? `${profile.first_name} ainda não possui amigos` : 'Você ainda não possui amigos'}\r\n                                </h3>\r\n                            }\r\n                        </>\r\n                        :\r\n                        <div className=\"loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport Header from '../../../../../../components/fixed/Header'\r\nimport ProfileListItem from '../../../../../../components/ProfileListItem'\r\n\r\nexport default function InterestProfiles() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [profiles, setProfiles] = useState(null)\r\n\r\n    const { interest } = useParams()\r\n\r\n    document.title = `${interest[0].toUpperCase() + interest.slice(1)} / Napker`\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/interest-profile-list/${interest}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                page={`Interesse / ${interest[0].toUpperCase() + interest.slice(1)}`}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"w-100 b-bottom\" style={{ background: 'var(--theme-base-color)', padding: '15px' }}>\r\n                    <h3>Perfis interessados em \"{interest}\"</h3>\r\n                </div>\r\n                <div className=\"w-100 list-group\">\r\n                    {myProfile !== null && profiles !== null ?\r\n                        profiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem\r\n                                    profile={profile}\r\n                                    myProfile={myProfile}\r\n                                    style={{ borderLeft: 'none', borderTop: 'none', borderRight: 'none' }}\r\n                                />\r\n                            )\r\n                        }) :\r\n                        <div className=\"loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useRef } from 'react'\r\n\r\nexport default function InterestsInput(props) {\r\n\r\n    const type = props.type\r\n    const myProfile = props.myProfile\r\n    const setInterests = props.setInterests\r\n\r\n    const tagContainer = useRef()\r\n    const input = useRef()  //input where the interests are submitted\r\n    const interestsInput = useRef() //hidden input that stores the interests titles\r\n\r\n    useEffect(() => {\r\n        let tags = myProfile ? myProfile.interests.filter(i => type === 'public' ? i.public : !i.public).map(i => i.title) : []\r\n        addTags()\r\n\r\n        function createTag(label) {\r\n            const div = document.createElement('div');\r\n            div.classList.add('tag');\r\n            div.classList.add(`${type}-tag`);\r\n            const span = document.createElement('span');\r\n            span.innerHTML = label;\r\n            const closeIcon = document.createElement('i');\r\n            closeIcon.classList.add(`${type}-close-icon`)\r\n            closeIcon.innerHTML = '×';\r\n            closeIcon.classList.add('material-icons')\r\n            closeIcon.setAttribute('data-item', label);\r\n            div.appendChild(span);\r\n            div.appendChild(closeIcon);\r\n            if (!interestsInput.current.value.includes(label)) interestsInput.current.value += ` ${label}`;\r\n            return div;\r\n        }\r\n\r\n        function clearTags() {\r\n            document.querySelectorAll(`.${type}-tag`).forEach(tag => {\r\n                tag.parentElement.removeChild(tag);\r\n            });\r\n        }\r\n\r\n        function addTags() {\r\n            clearTags();\r\n            tags.sort()\r\n            tags.slice().reverse().forEach(tag => {\r\n                tagContainer.current.prepend(createTag(tag));\r\n            });\r\n            setInterests(tags)\r\n        }\r\n\r\n        input.current.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Enter') {\r\n                input.current.value.split(',').forEach(tag => {\r\n                    if (tag.length < 3) {\r\n                        window.alert('Os interesses devem ter no mínimo 3 caracteres!')\r\n                    } else {\r\n                        tags.push(tag)\r\n                    }\r\n                })\r\n\r\n                addTags()\r\n                input.current.value = ''\r\n            }\r\n        })\r\n        document.addEventListener('click', (e) => {\r\n            if (e.target.classList.contains(`${type}-close-icon`)) {\r\n                const tagLabel = e.target.getAttribute('data-item')\r\n                const index = tags.indexOf(tagLabel)\r\n                tags = [...tags.slice(0, index), ...tags.slice(index + 1)]\r\n                addTags()\r\n            }\r\n        })\r\n\r\n        input.current.focus()\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <div className={`${props.className} tag-container`}>\r\n                <div ref={tagContainer} className=\"w-100 d-flex flex-wrap\"></div>\r\n                <textarea\r\n                    ref={input}\r\n                    className=\"autoExpand m-0\"\r\n                    rows='3'\r\n                    data-min-rows='3'\r\n                    placeholder=\"Digite e pressione 'Enter'\"\r\n                />\r\n                <input ref={interestsInput} type=\"hidden\" />\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport InterestsInput from './InterestsInput'\r\n\r\nexport default function PublicInterests(props) {\r\n\r\n    return (\r\n        <div className=\"p-2\">\r\n            <h3>Interesses públicos</h3>\r\n            <p>\r\n                Os interesses públicos são visíveis para os outros usuários.\r\n                Coloque aqui interesses que sem eles seu perfil ficaria incompleto.\r\n            </p>\r\n            <InterestsInput type=\"public\" myProfile={props.myProfile} setInterests={props.setInterests} />\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport InterestsInput from './InterestsInput'\r\n\r\nexport default function PrivateInterests(props) {\r\n\r\n    return (\r\n        <div className=\"p-2\">\r\n            <h3>Interesses privados</h3>\r\n            <p>\r\n                Os interesses privados não são visíveis para os outros usuários.\r\n                Eles servem para aumentar a precisão das recomendações de perfis que\r\n                possuem o máximo de afinidade possível com você.\r\n            </p>\r\n            <InterestsInput type=\"private\" myProfile={props.myProfile} setInterests={props.setInterests} />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport { csrftoken } from '../../../../../config/utils'\r\nimport Header from '../../../../../components/fixed/Header'\r\nimport PublicInterests from './components/PublicInterests'\r\nimport PrivateInterests from './components/PrivateInterests'\r\nimport BottomMenu from '../../../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function EditInterests() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    let [publicInterests, setPublicInterests] = [null, value => publicInterests = value]\r\n    let [privateInterests, setPrivateInterests] = [null, value => privateInterests = value]\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const submitInterests = () => {\r\n        fetch(`${SERVER_URL}/profile-api/set-myinterests`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                public_interests: publicInterests.sort(),\r\n                private_interests: privateInterests.sort()\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                document.querySelector('#interests-updated-message').style.display = 'block'\r\n                document.documentElement.scrollTop = 0\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Meus interesses\" backArrow={true} />\r\n            <div className=\"sidebar-content\">\r\n                <p\r\n                    className=\"edit-interests-success-message b-bottom\"\r\n                    id=\"interests-updated-message\"\r\n                >\r\n                    Interesses atualizados com sucesso\r\n                </p>\r\n                {myProfile ?\r\n                    <div className=\"pb-3\" style={{ background: 'var(--theme-base-color)', textAlign: 'start' }}>\r\n                        <div className=\"w-100 p-3 b-bottom\">\r\n                            <button\r\n                                className=\"btn btn-primary\"\r\n                                onClick={submitInterests}\r\n                            >\r\n                                Salvar\r\n                            </button>\r\n                        </div>\r\n                        <PublicInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPublicInterests}\r\n                        />\r\n\r\n                        <div className=\"w-100 my-2 b-bottom\" />\r\n\r\n                        <PrivateInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPrivateInterests}\r\n                        />\r\n                    </div> :\r\n                    <div className=\"loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { csrftoken, openCloseEmojiList } from '../config/utils'\r\nimport { SERVER_URL } from '../config/settings'\r\n\r\nexport default function CommentModal(props) {\r\n    const [commentContent, setCommentContent] = useState('')\r\n\r\n    const post = props.post\r\n\r\n    const handleCommentChange = e => {\r\n        setCommentContent(e.target.value)\r\n        const el = document.querySelector('#comment-form-submit')\r\n        el.disabled = e.target.value === ''\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setCommentContent(commentContent + emojiObject.emoji)\r\n        document.querySelector('#comment-form-submit').disabled = false\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Comentar</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"post-container\">\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"post-row\">\r\n                            <div className=\"post-col\">\r\n                                <img src={`${SERVER_URL}${post.author.photo}`}\r\n                                    className=\"profile-img-med\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"post-col\">\r\n                                <div>\r\n                                    <strong>{post.author.first_name} {post.author.last_name} </strong>\r\n                                    <p className=\"text-secondary d-inline-block\">\r\n                                        @{post.author.user.username} • {post.created.split('-').reverse().join('/')}\r\n                                    </p>\r\n                                </div>\r\n                                <div style={{ textAlign: 'start' }}>\r\n                                    {post.content}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <form action={`${SERVER_URL}/post-api/comment-post/${post.id}`} method=\"POST\" className=\"comment-form\">\r\n                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                    <label\r\n                        className=\"far fa-smile\"\r\n                        id=\"emoji-button\"\r\n                        onClick={() => openCloseEmojiList(false)}\r\n                    />\r\n                    <textarea\r\n                        type=\"text\"\r\n                        class='autoExpand' \r\n                        rows='3' \r\n                        data-min-rows='3' \r\n                        className=\"form-control\"\r\n                        name=\"comment-content\"\r\n                        value={commentContent}\r\n                        placeholder=\"Comente alguma coisa\"\r\n                        style={{ marginRight: '5px', height: '40px' }}\r\n                        onChange={handleCommentChange}\r\n                    />\r\n                    <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                        <Picker onEmojiClick={onEmojiSelect} />\r\n                    </div>\r\n                    <button\r\n                        className=\"btn btn-primary\"\r\n                        id=\"comment-form-submit\"\r\n                        type=\"submit\"\r\n                        disabled\r\n                    >\r\n                        Enviar\r\n                    </button>\r\n                </form>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../../../config/settings'\r\nimport { csrftoken } from '../../../../../../../../config/utils'\r\n\r\nexport default function CommentListItem(props) {\r\n    const comment = props.comment\r\n    const myProfile = props.myProfile\r\n    const fetchPost = props.fetchPost\r\n    const setPostLikesModal = props.setPostLikesModal\r\n\r\n    const likeUnlikeComment = e => {\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        }\r\n    }\r\n\r\n    const deleteComment = (e, commentId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-comment-${commentId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o comentário?\\nEssa ação é irreversível.')) {\r\n            el.style.animationPlayState = 'running'\r\n            console.log(el, el.style.animationPlayState)\r\n            el.addEventListener('animationend', () => {\r\n                fetchPost()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-comment/${commentId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"d-flex w-100 white-hover hide-animation\"\r\n            id={`post-comment-${comment.id}`}\r\n            key={comment.id}\r\n            style={{ padding: '5px 15px', background: '#fff', borderBottom: '1px solid var(--border-color)' }}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <Link to={comment.author.id === myProfile.id ?\r\n                    '/perfil' : `/user/${comment.author.slug}`}\r\n                >\r\n                    <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n            </div>\r\n            <div className=\"d-flex flex-column h-100 w-100\" style={{ marginRight: '10px' }}>\r\n                <div className=\"d-flex justify-content-between w-100\">\r\n                    <div>\r\n                        <Link to={comment.author.id === myProfile.id ?\r\n                            '/perfil' : `/user/${comment.author.slug}`}\r\n                            style={{ color: '#000' }}\r\n                        >\r\n                            <strong style={{ marginRight: '5px' }}>\r\n                                {comment.author.first_name} {comment.author.last_name}\r\n                            </strong>\r\n                            <p className=\"text-secondary d-inline-block\">\r\n                                @{comment.author.user.username} • {comment.created.split('-').reverse().join('/')}\r\n                            </p>\r\n                        </Link>\r\n                    </div>\r\n                    <i\r\n                        className=\"fas fa-ellipsis-h d-flex justify-content-center align-items-center text-secondary secondary-hover\"\r\n                        style={{ textDecoration: 'none', width: '30px', height: '30px', borderRadius: '30px' }}\r\n                        onClick={e => deleteComment(e, comment.id)}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column\">\r\n                    <div className=\"d-flex justify-content-start word-break\">\r\n                        {comment.content}\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-start align-items-start text-secondary mt-2 mb-1\">\r\n                        <div className=\"d-flex align-items-center\">\r\n                            {comment.likes.map(like => like.profile.id).includes(myProfile.id) ?\r\n                                <i class=\"fas fa-heart\"\r\n                                    data-commentid={comment.id}\r\n                                    onClick={likeUnlikeComment}\r\n                                />\r\n                                :\r\n                                <i class=\"far fa-heart\"\r\n                                    data-commentid={comment.id}\r\n                                    onClick={likeUnlikeComment}\r\n                                />\r\n                            }\r\n                            <p\r\n                                className=\"post-likes-number m-0\"\r\n                                onClick={() => setPostLikesModal({ isOpen: true, likes: comment.likes })}\r\n                            >\r\n                                {comment.likes.length}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default props => (\r\n    <Link to={`/post/${props.postId}/comentar`}>\r\n        <i className=\"far fa-comment bottom-menu-action-icon btn-primary\" />\r\n    </Link>\r\n)","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../../config/settings'\r\nimport CommentModal from '../../../../../../../components/CommentModal'\r\nimport LikesModal from '../../../../../../../components/LikesModal'\r\nimport Header from '../../../../../../../components/fixed/Header'\r\nimport CommentListItem from './components/CommentListItem'\r\nimport BottomMenu from '../../../../../../../components/fixed/bottom-menu/BottomMenu'\r\nimport CommentIcon from '../../../../../../../components/fixed/bottom-menu/components/CommentIcon'\r\nimport PostListItem from '../../../../../../../components/PostListItem'\r\n\r\nexport default function Post(props) {\r\n    const [post, setPost] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [commentModalIsOpen, setCommentModalIsOpen] = useState(props.commentModalIsOpen)\r\n    const [postLikesModal, setPostLikesModal] = useState({ isOpen: false, likes: null })\r\n    const [commentLikesModal, setCommentLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    const { id } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        console.log('got here')\r\n        setCommentModalIsOpen(!!props.commentModalIsOpen)\r\n    }, [props.commentModalIsOpen])\r\n\r\n    const fetchPost = () => {\r\n        fetch(`${SERVER_URL}/post-api/post/${id}`)\r\n            .then(response => response.json())\r\n            .then(data => setPost(data))\r\n    }\r\n\r\n    const hideCommentModal = () => {\r\n        setCommentModalIsOpen(false)\r\n        window.history.back()\r\n    }\r\n\r\n    const hidePostLikesModal = () => {\r\n        setPostLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    const hideCommentLikesModal = () => {\r\n        setCommentLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-100\">\r\n            {post &&\r\n                <CommentModal\r\n                    isOpen={commentModalIsOpen}\r\n                    hideModal={hideCommentModal}\r\n                    post={post}\r\n                />\r\n            }\r\n            <LikesModal\r\n                isOpen={postLikesModal.isOpen}\r\n                likes={postLikesModal.likes}\r\n                hideModal={hidePostLikesModal}\r\n            />\r\n            <LikesModal\r\n                isOpen={commentLikesModal.isOpen}\r\n                likes={commentLikesModal.likes}\r\n                hideModal={hideCommentLikesModal}\r\n            />\r\n            <Header page=\"Post\" backArrow={true} />\r\n            <div className=\"content\">\r\n                {post && myProfile ?\r\n                    <>\r\n                        <PostListItem post={post} myProfile={myProfile} />\r\n                        <div className=\"comment-list\">\r\n                            {post.comments.map(comment => {\r\n                                return (\r\n                                    <CommentListItem\r\n                                        comment={comment}\r\n                                        myProfile={myProfile}\r\n                                        fetchPost={fetchPost}\r\n                                        setPostLikesModal={setPostLikesModal}\r\n                                    />\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                    </> :\r\n                    <div className=\"loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu>\r\n                <CommentIcon postId={id} />\r\n            </BottomMenu>\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport Header from '../../../components/fixed/Header'\r\nimport PostForm from '../home/components/posts_/components/PostForm'\r\n\r\nexport default function Posts() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <Header page=\"Novo post\" backArrow={true} />\r\n            <div className=\"post-form-page-container\">\r\n                {myProfile !== null ?\r\n                    <PostForm myProfile={myProfile} />\r\n                    :\r\n                    <div className=\"posts-loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useRef } from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../config/settings'\r\nimport {\r\n    InvitesReceivedContext, UnvisualizedCommentsContext,\r\n    UnvisualizedLikesContext, UnreadMessagesContext, AlgorithmWeightsContext\r\n} from '../../context/app/AppContext'\r\n\r\nimport SidebarLeft from '../../components/fixed/SidebarLeft'\r\nimport SidebarRight from '../../components/fixed/sidebar-right/SidebarRight'\r\n\r\nimport Home from './home/Home'\r\nimport Notifications from './notifications/Notifications'\r\nimport Messages from './messages_/Messages'\r\nimport MyProfile from './profile/MyProfile'\r\nimport Settings from './settings_/Settings'\r\nimport Profile from './profile/Profile'\r\nimport ProfileFriends from './profile/pages/Friends'\r\nimport InterestProfiles from './profile/components/interests/pages/InterestProfiles'\r\nimport EditInterests from './profile/pages/edit_interests/EditInterests'\r\nimport Post from './home/components/posts_/pages/post_/Post'\r\n\r\nimport PostFormPage from './mobile-post-form/PostFormPage'\r\nimport EditProfileProvider from '../../context/edit-profile/EditProfileContext'\r\n\r\nexport default function MainAppRouter() {\r\n    const [, setWeights] = useContext(AlgorithmWeightsContext)\r\n\r\n    const [, setInvitesReceived] = useContext(InvitesReceivedContext)\r\n    const [, setUnvisulaizedComments] = useContext(UnvisualizedCommentsContext)\r\n    const [, setUnvisulaizedLikes] = useContext(UnvisualizedLikesContext)\r\n\r\n    const [, setUnreadMessagesNumber] = useContext(UnreadMessagesContext)\r\n\r\n    useEffect(() => {\r\n        updateNotificationsNumber()\r\n        updateUnreadMessagesNumber()\r\n        window.setInterval(() => {\r\n            updateNotificationsNumber()\r\n            updateUnreadMessagesNumber()\r\n        }, 6000)\r\n\r\n        fetch(`${SERVER_URL}/profile-api/get-post-weights`)\r\n            .then(response => response.json())\r\n            .then(data => setWeights(data))\r\n    }, [])\r\n\r\n    const updateNotificationsNumber = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvitesReceived(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedLikes(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedComments(data.length))\r\n    }\r\n\r\n    const updateUnreadMessagesNumber = () => {\r\n        fetch(`${SERVER_URL}/chat-api/all-unread-messages-number`)\r\n            .then(response => response.json())\r\n            .then(data => setUnreadMessagesNumber(data['unread_messages_number']))\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <SidebarLeft />\r\n            <div className=\"main-content\">\r\n                <Switch>\r\n                    <Route path=\"/\" exact>\r\n                        <Redirect to=\"/home\" />\r\n                    </Route>\r\n                    <Route path=\"/login\" exact>\r\n                        <Redirect to=\"/home\" />\r\n                    </Route>\r\n                    <Route path=\"/signup\" exact>\r\n                        <Redirect to=\"/home\" />\r\n                    </Route>\r\n\r\n                    <Route path=\"/home\">\r\n                        <Home />\r\n                    </Route>\r\n\r\n                    <Route path=\"/notificações\" render={props => (\r\n                        <Notifications {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                    )} />\r\n                    <Route path=\"/mensagens\" exact component={Messages} />\r\n                    <Route path=\"/mensagens/:slug\" render={props => (\r\n                        <Messages {...props} updateUnreadMessagesNumber={updateUnreadMessagesNumber} />\r\n                    )} />\r\n                    <Route path=\"/perfil\" exact render={props => (\r\n                        <EditProfileProvider>\r\n                            <MyProfile />\r\n                        </EditProfileProvider>\r\n                    )} />\r\n                    <Route path=\"/perfil/meus-interesses\" component={EditInterests} />\r\n                    <Route path=\"/configurações\" exact component={Settings} />\r\n                    <Route path=\"/configurações/perfis-bloqueados\" exact render={props => (\r\n                        <Settings {...props} page={'blocked-profiles'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/segurança\" exact render={props => (\r\n                        <Settings {...props} page={'security'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/alterar-senha\" exact render={props => (\r\n                        <Settings {...props} page={'change-password'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/deletar-conta\" exact render={props => (\r\n                        <Settings {...props} page={'delete-account'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/faq\" exact render={props => (\r\n                        <Settings {...props} page={'faq'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/fale-conosco\" exact render={props => (\r\n                        <Settings {...props} page={'feedback'} />\r\n                    )} />\r\n                    <Route path=\"/user/:slug\" exact render={props => (\r\n                        <Profile {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                    )} />\r\n                    <Route path=\"/user/:slug/amigos\" component={ProfileFriends} />\r\n                    <Route path=\"/post/:id\" exact component={Post} />\r\n                    <Route path=\"/post/:id/comentar\" render={props => (\r\n                        <Post {...props} commentModalIsOpen={true} />\r\n                    )} />\r\n                    <Route path=\"/interesses/:interest\" component={InterestProfiles} />\r\n\r\n                    <Route path=\"/postar\" component={PostFormPage} />\r\n                </Switch>\r\n            </div>\r\n            <Switch>\r\n                <Route path=\"/home\">\r\n                    <SidebarRight page=\"home\" />\r\n                </Route>\r\n                <Route path=\"/perfil\">\r\n                    <SidebarRight page=\"profile\" />\r\n                </Route>\r\n                <Route path=\"/user/:slug\">\r\n                    <SidebarRight page=\"profile\" />\r\n                </Route>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}","import React, { useRef, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\nimport Logo from '../../../assets/icons/Logo'\r\n\r\n\r\nexport default function Login() {\r\n    const [errMessage, setErrMessage] = useState(null)\r\n    \r\n    const usernameRef = useRef()\r\n    const passwordRef = useRef()\r\n    const submitButtonRef = useRef()\r\n\r\n    document.title = 'Entrar / Napker'\r\n\r\n    const handleInputChange = () => {\r\n        submitButtonRef.current.disabled = usernameRef.current.value === ''  || passwordRef.current.value === ''\r\n    }\r\n\r\n    const handleLogin = e => {\r\n        e.preventDefault()\r\n        fetch(`${SERVER_URL}/post-login`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'username': usernameRef.current.value,\r\n                'password': passwordRef.current.value\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'logged in') window.location.href = '/home'\r\n                else {\r\n                    usernameRef.current.value = ''\r\n                    passwordRef.current.value = ''\r\n                    submitButtonRef.current.disabled = true\r\n                    setErrMessage(data)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <form\r\n            className=\"d-flex flex-column align-items-center primary-form\"\r\n            style={{ width: '90vw', maxWidth: '600px', margin: '50px auto' }}\r\n            onSubmit={handleLogin}\r\n        >\r\n            <Logo size=\"30pt\" />\r\n            <h1 className=\"mt-3\" style={{ fontSize: '30px' }}>Entrar no Napker</h1>\r\n\r\n            {errMessage !== null &&\r\n                <div className=\"w-75 mt-1\">\r\n                    <span className=\"word-break\" style={{ color: '#f00' }}>{errMessage}</span>\r\n                </div>\r\n            }\r\n\r\n            <div className=\"w-75 mt-3 d-flex justify-content-center\">\r\n                <input ref={usernameRef} className=\"form-control w-100\" type=\"text\" placeholder=\"Nome de usuário\" onChange={handleInputChange} />\r\n            </div>\r\n\r\n            <div className=\"w-75 mt-2 d-flex justify-content-center\">\r\n                <input ref={passwordRef} className=\"form-control w-100\" type=\"password\" placeholder=\"Senha\" onChange={handleInputChange} />\r\n            </div>\r\n\r\n            <button\r\n                ref={submitButtonRef}\r\n                className=\"btn btn-primary w-75 mt-2 py-2\"\r\n                disabled\r\n            >Entrar\r\n            </button>\r\n\r\n            <ul className=\"w-100 d-flex justify-content-center text-center mt-3\" style={{ listStyle: 'none' }}>\r\n                <li style={{ marginLeft: '12px' }}>\r\n                    <Link to=\"/recuperar-senha\">\r\n                        <span>Esqueceu sua senha?</span>\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n                    <span style={{ margin: '0 5px', color: 'var(--primary-color)' }}>•</span>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/signup\">\r\n                        <span>Inscrever-se no Napker</span>\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </form>\r\n    )\r\n}","import React, { useState, useRef, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\nimport Logo from '../../../../assets/icons/Logo'\r\n\r\n\r\nexport default function SignupForm(props) {\r\n    const [errMessage, setErrMessage] = useState(null)\r\n\r\n    const firstNameRef = useRef()\r\n    const lastNameRef = useRef()\r\n    const usernameRef = useRef()\r\n    const birthDateRef = useRef()\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordcRef = useRef()\r\n\r\n    const submitButtonRef = useRef()\r\n\r\n    useEffect(() => {\r\n        usernameRef.current.addEventListener('keyup', () => {\r\n            if (usernameRef.current.value !== '') {\r\n                fetch(`${SERVER_URL}/profile-api/user/${usernameRef.current.value}`)\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data.bool !== 'false') {\r\n                            document.querySelector('#username-taken').style.display = 'initial'\r\n                        } else if (document.querySelector('#username-taken').style.display === 'initial') {\r\n                            document.querySelector('#username-taken').style.display = 'none'\r\n                        }\r\n                    })\r\n            }\r\n        })\r\n\r\n        emailRef.current.addEventListener('keyup', () => {\r\n            if (emailRef.current.value !== '') {\r\n                fetch(`${SERVER_URL}/profile-api/profile-by-email/${emailRef.current.value}`)\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data.bool !== 'false') {\r\n                            document.querySelector('#email-taken').style.display = 'initial'\r\n                        } else if (document.querySelector('#email-taken').style.display === 'initial') {\r\n                            document.querySelector('#email-taken').style.display = 'none'\r\n                        }\r\n                    })\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const handleInputChange = () => {\r\n        submitButtonRef.current.disabled = (\r\n            firstNameRef.current.value === '' || lastNameRef.current.value === '' ||\r\n            usernameRef.current.value === '' || emailRef.current.value === '' || birthDateRef.current.value === '' ||\r\n            passwordRef.current.value === '' || passwordcRef.current.value === ''\r\n        )\r\n    }\r\n\r\n    const handleSignup = e => {\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !== passwordcRef.current.value) {\r\n            document.querySelector('#invalid-password-2').style.display = 'none'\r\n            document.querySelector('#invalid-password-1').style.display = 'initial'\r\n        } else if (passwordRef.current.value.length < 8) {\r\n            document.querySelector('#invalid-password-1').style.display = 'none'\r\n            document.querySelector('#invalid-password-2').style.display = 'initial'\r\n        } else {\r\n            fetch(`${SERVER_URL}/post-signup`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                },\r\n                body: JSON.stringify({\r\n                    'first-name': firstNameRef.current.value,\r\n                    'last-name': lastNameRef.current.value,\r\n                    'username': usernameRef.current.value,\r\n                    'email': emailRef.current.value,\r\n                    'birth-date': birthDateRef.current.value,\r\n                    'password': passwordcRef.current.value,\r\n                    'passwordc': passwordRef.current.value\r\n                })\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.message === 'account created') {\r\n                        props.setSignupPage('interests')\r\n                        props.setMyUserId(data.userId)\r\n                    } else {\r\n                        firstNameRef.current.value = ''\r\n                        lastNameRef.current.value = ''\r\n                        usernameRef.current.value = ''\r\n                        birthDateRef.current.value = ''\r\n                        emailRef.current.value = ''\r\n                        passwordRef.current.value = ''\r\n                        passwordcRef.current.value = ''\r\n                        submitButtonRef.current.disabled = true\r\n                        setErrMessage(data)\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form\r\n            class=\"d-flex flex-column align-items-center primary-form\"\r\n            style={{ width: '90vw', maxWidth: '600px', margin: '50px auto' }}\r\n            onSubmit={handleSignup}\r\n        >\r\n            <Logo size=\"30pt\" />\r\n            <h1 className=\"mt-3\" style={{ fontSize: '30px' }}>Criar conta</h1>\r\n\r\n            {errMessage !== null &&\r\n                <div className=\"d-flex justify-content-center w-75 mt-1\">\r\n                    <span className=\"word-break\" style={{ color: '#f00' }}>{errMessage}</span>\r\n                </div>\r\n            }\r\n\r\n            <div class=\"w-75 mt-3 d-flex justify-content-center\">\r\n                <input\r\n                    ref={firstNameRef}\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"Nome\"\r\n                    style={{ marginRight: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <input\r\n                    ref={lastNameRef}\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"Sobrenome\"\r\n                    style={{ marginLeft: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div class=\"w-75 mt-2 d-flex justify-content-center\" style={{ marginBottom: '20px' }}>\r\n                <div className=\"w-100 d-flex flex-column align-items-start\">\r\n                    <input\r\n                        ref={usernameRef}\r\n                        class=\"form-control mb-0\"\r\n                        type=\"text\"\r\n                        id=\"username\"\r\n                        placeholder=\"Nome de usuário\"\r\n                        style={{ marginRight: '4px' }}\r\n                        onChange={handleInputChange}\r\n\r\n                    />\r\n                    <span className=\"ml-1\" id=\"username-taken\" style={{ color: '#f00', display: 'none', fontWeight: 'bold' }}>Nome de usuário já existe</span>\r\n                </div>\r\n\r\n                <input\r\n                    ref={birthDateRef}\r\n                    class=\"form-control mb-0\"\r\n                    type=\"date\"\r\n                    placeholder=\"Data de nascimento\"\r\n                    style={{ marginLeft: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div class=\"w-75 mt-2 d-flex justify-content-center\" style={{ marginBottom: '20px' }}>\r\n                <div className=\"w-100 d-flex flex-column align-items-start\">\r\n                    <input\r\n                        ref={emailRef}\r\n                        class=\"form-control mb-0\"\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        placeholder=\"Email\"\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <span className=\"ml-1\" id=\"email-taken\" style={{ color: '#f00', display: 'none', fontWeight: 'bold' }}>Email já utilizado</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"w-75 mt-2 d-flex justify-content-center\">\r\n                <input\r\n                    ref={passwordRef}\r\n                    class=\"form-control mb-0\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    placeholder=\"Senha\"\r\n                    style={{ marginRight: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <input\r\n                    ref={passwordcRef}\r\n                    class=\"form-control mb-0\"\r\n                    type=\"password\"\r\n                    id=\"passwordc\"\r\n                    placeholder=\"Confirmar senha\"\r\n                    style={{ marginLeft: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div class=\"w-75 my-1 d-flex justify-content-center\">\r\n                <div>\r\n                    <span className=\"ml-1\" id=\"invalid-password-1\" style={{ color: '#f00', display: 'none', fontWeight: 'bold' }}>As senhas devem ser iguais</span>\r\n                    <span className=\"ml-1\" id=\"invalid-password-2\" style={{ color: '#f00', display: 'none', fontWeight: 'bold' }}>A senha deve ter no mínimo 8 caracteres</span>\r\n                </div>\r\n            </div>\r\n\r\n            <button ref={submitButtonRef} class=\"btn btn-primary w-75 mt-3 py-2\" id=\"submit-btn\" disabled>Continuar</button>\r\n\r\n            <ul class=\"w-100 d-flex justify-content-center mt-3\" style={{ listStyle: 'none' }}>\r\n                <li>\r\n                    <Link to=\"/login\">\r\n                        <span className=\"mr-1\">Já tem uma conta?</span>\r\n                        <i class=\"fas fa-arrow-right\"></i>\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </form>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\nimport Logo from '../../../../assets/icons/Logo'\r\nimport PageLoader from '../../../PageLoader'\r\nimport InterestsInput from '../../../main-app/profile/pages/edit_interests/components/InterestsInput'\r\n\r\n\r\nexport default function InterestsForm(props) {\r\n    const [errMessage, setErrMessage] = useState(null)\r\n\r\n    let [interests, setInterests] = [[], value => interests = value]\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        props.setSignupPage('page-loader')\r\n        fetch(`${SERVER_URL}/post-signup/interests`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'interests': interests,\r\n                'uid': props.myUserId\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'activation link sent') {\r\n                    props.setSignupPage('activation-link-sent')\r\n                } else {\r\n                    setErrMessage('Ocorreu um erro')\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {props.myUserId ?\r\n                <form\r\n                    class=\"d-flex flex-column align-items-center primary-form\"\r\n                    style={{ width: '90vw', maxWidth: '600px', margin: '50px auto' }}\r\n                    onSubmit={handleSubmit}\r\n                >\r\n\r\n                    {errMessage !== null &&\r\n                        <div className=\"w-75 mt-1\">\r\n                            <span className=\"word-break\" style={{ color: '#f00' }}>{errMessage}</span>\r\n                        </div>\r\n                    }\r\n\r\n                    <Logo size=\"30pt\" />\r\n                    <h1 className=\"my-3\" style={{ fontSize: '30px' }}>Quais os seus principais interesses?</h1>\r\n\r\n                    <div class=\"w-75 mt-3 d-flex justify-content-center\">\r\n                        <div class=\"interests-description\">\r\n                            É aqui que a mágica acontece. Quanto mais interesses você colocar mais precisamente\r\n                            vamos te\r\n                            conectar com outras pessoas que compartilhem das mesmas paixões.\r\n                            <br />\r\n                            <br />\r\n                            <strong>Obs:</strong> Os interesses enviados aqui não serão visíveis para os outros\r\n                        usuários\r\n                    </div>\r\n                    </div>\r\n\r\n                    <div class=\"w-75 my-3 d-flex justify-content-center\">\r\n                        <InterestsInput className=\"w-100\" type=\"private\" setInterests={setInterests} />\r\n                    </div>\r\n\r\n                    <button class=\"btn btn-primary w-75 mt-2 py-2\">Criar conta</button>\r\n                </form>\r\n                :\r\n                <PageLoader />\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport Logo from '../../../../assets/icons/Logo'\r\n\r\n\r\nexport default function ActivationLinkSent() {\r\n\r\n    return (\r\n        <div\r\n            class=\"position-absolute d-flex flex-column align-items-start\"\r\n            style={{ top: '15%', left: '10%' }}\r\n        >\r\n            <Logo size=\"35pt\" />\r\n            <h3 className=\"my-3\">Tudo certinho! Agora basta ativar a sua conta...</h3>\r\n            <p className=\"pb-3\" style={{ fontSize: 'large' }}>Enviamos um link de ativação para o seu email. Clique nele para ativar a sua conta.</p>\r\n            <p\r\n                className=\"pt-3 hover-underline hover-pointer\"\r\n                style={{ color: 'var(--primary-color)', fontSize: 'large' }}\r\n                onClick={() => window.alert('Verifique se o email está na caixa de spam.')}\r\n            >\r\n                Não recebi o email\r\n            </p>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport SignupForm from './components/SignupForm'\r\nimport InterestsForm from './components/InterestsForm'\r\nimport ActivationLinkSent from './components/ActivationLinkSent'\r\nimport PageLoader from '../../PageLoader'\r\n\r\n\r\nexport default function Signup() {\r\n    const [currentPage, setCurrentPage] = useState('signup')\r\n    const [myUserId, setMyUserId] = useState(null)\r\n\r\n    document.title = 'Criar conta / Napker'\r\n\r\n    return (\r\n        <>\r\n            {currentPage === 'signup' &&\r\n                <SignupForm setSignupPage={setCurrentPage} setMyUserId={setMyUserId} />\r\n            }\r\n            {currentPage === 'interests' &&\r\n                <InterestsForm setSignupPage={setCurrentPage} myUserId={myUserId} />\r\n            }\r\n            {currentPage === 'activation-link-sent' &&\r\n                <ActivationLinkSent />\r\n            }\r\n            {currentPage === 'page-loader' &&\r\n                <PageLoader />\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\r\n\r\nimport Login from './login/Login'\r\nimport Signup from './signup/Signup'\r\n\r\nexport default function AuthRouter() {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/login\">\r\n                <Login />\r\n            </Route>\r\n\r\n            <Route path=\"/signup\" exact>\r\n                <Signup />\r\n            </Route>\r\n\r\n            <Route path=\"/home\" exact>\r\n                <Redirect to=\"/login\" />\r\n            </Route>\r\n\r\n            <Route path=\"/notificações\">\r\n                <Redirect to=\"/login\" />\r\n            </Route>\r\n\r\n            <Route path=\"/mensagens\">\r\n                <Redirect to=\"/login\" />\r\n            </Route>\r\n\r\n            <Route path=\"/perfil\">\r\n                <Redirect to=\"/login\" />\r\n            </Route>\r\n\r\n            <Route path=\"/configurações\">\r\n                <Redirect to=\"/login\" />\r\n            </Route>\r\n\r\n            <Route path=\"/user\">\r\n                <Redirect to=\"/login\" />\r\n            </Route>\r\n        </Switch>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\r\n\r\nimport { onExpandableTextareaInput, setTheme } from './config/utils'\r\nimport { SERVER_URL } from './config/settings'\r\n\r\nimport ResetPassword from './pages/auth/reset-password/ResetPassword'\r\nimport PageLoader from './pages/PageLoader'\r\nimport MainAppRouter from './pages/main-app/Router'\r\nimport AuthRouter from './pages/auth/Router'\r\n\r\nexport default function App() {\r\n    // global event listeners\r\n    document.addEventListener('input', onExpandableTextareaInput)\r\n    document.addEventListener('click', e => {\r\n        if (!e.target.classList.contains('view-more-select') && !e.target.classList.contains('view-more-icon')) {\r\n            document.querySelectorAll('.view-more-select').forEach(el => {\r\n                el.style.display = 'none'\r\n            })\r\n        }\r\n    })\r\n\r\n    const [isLogged, setIsLogged] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/is-logged`)\r\n            .then(response => response.json())\r\n            .then(data => setIsLogged(data))\r\n        setTheme(window.localStorage.getItem('theme') || 'light')\r\n    }, [])\r\n\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route path=\"/recuperar-senha\">\r\n                    <ResetPassword />\r\n                </Route>\r\n                \r\n                {isLogged !== null ?\r\n                    <Route path=\"/\">\r\n                        {isLogged === 'True' ?\r\n                            <MainAppRouter />\r\n                            :\r\n                            <AuthRouter />\r\n                        }\r\n                    </Route>\r\n                    :\r\n                    <PageLoader />\r\n                }\r\n                \r\n            </Switch>\r\n        </Router>\r\n    )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './assets/style/utils/color.css'\r\nimport './assets/style/utils/hover.css'\r\nimport './assets/style/utils/border.css'\r\n\r\nimport './assets/style/pages/auth/auth.css'\r\n\r\nimport './assets/style/pages/global-components/loader.css'\r\nimport './assets/style/pages/global-components/modal.css'\r\nimport './assets/style/pages/global-components/buttons.css'\r\nimport './assets/style/pages/global-components/viewMoreSelect.css'\r\n\r\nimport './assets/style/pages/main-app/components/bottomMenu.css'\r\nimport './assets/style/pages/main-app/chat.css'\r\nimport './assets/style/pages/main-app/components/commentModal.css'\r\nimport './assets/style/pages/main-app/home/components/explore.css'\r\nimport './assets/style/pages/main-app/home/home.css'\r\nimport './assets/style/pages/main-app/home/components/posts.css'\r\nimport './assets/style/pages/main-app/profile.css'\r\nimport './assets/style/pages/main-app/home/components/profiles.css'\r\nimport './assets/style/pages/main-app/settings.css'\r\nimport './assets/style/pages/main-app/components/sidebar.css'\r\n\r\nimport './assets/style/main/animations.css'\r\nimport './assets/style/main/responsivity.css'\r\nimport './assets/style/main/style.css'\r\n\r\nimport AppContextProvider from './context/app/AppContext'\r\nimport App from './App'\r\n\r\nReactDOM.render((<AppContextProvider><App /></AppContextProvider>), document.querySelector('#react-root'))\r\n"],"sourceRoot":""}