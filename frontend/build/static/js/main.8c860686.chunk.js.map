{"version":3,"sources":["context/app/invites-received-number/InvitesReceivedContext.js","context/app/unvisualized-comments-number/UnvisualizedCommentsContext.js","context/app/unvisualized-likes-number/UnvisualizedLikesContext.js","context/app/unread-messages-number/UnreadMessagesContext.js","context/app/AppContext.js","config/settings.js","config/utils.js","assets/icons/Logo.js","pages/auth/reset-password/components/ResetPasswordForm.js","pages/auth/reset-password/components/EmailSent.js","pages/PageLoader.js","pages/auth/reset-password/ResetPassword.js","components/fixed/SidebarLeft.js","components/fixed/sidebar-right/components/SidebarSlider.js","components/fixed/sidebar-right/components/home-sidebar/components/algorithm-settings/components/InfoModal.js","components/fixed/sidebar-right/components/InfoIcon.js","components/fixed/sidebar-right/components/home-sidebar/components/algorithm-settings/AlgorithmSettings.js","components/fixed/sidebar-right/components/home-sidebar/components/GlobalChat.js","components/fixed/sidebar-right/components/home-sidebar/HomeSidebar.js","components/ProfileListItem.js","components/fixed/sidebar-right/components/profile-sidebar/components/recomended-profiles/components/InfoModal.js","components/fixed/sidebar-right/components/profile-sidebar/components/recomended-profiles/RecomendedProfiles.js","components/fixed/sidebar-right/components/profile-sidebar/ProfileSidebar.js","components/fixed/sidebar-right/SidebarRight.js","components/fixed/Header.js","components/likesmodal.js","pages/main-app/home/components/posts_/components/PostForm.js","components/PostListItem.js","pages/main-app/home/components/posts_/Posts.js","pages/main-app/home/components/profiles/components/ProfilesSearchInput.js","pages/main-app/home/components/profiles/Profiles.js","components/LikesModal.js","pages/main-app/home/components/explore/Explore.js","pages/main-app/home/components/trending/Trending.js","components/fixed/bottom-menu/components/PostIcon.js","components/fixed/bottom-menu/BottomMenu.js","pages/main-app/home/components/HomePageMenu.js","pages/main-app/home/Home.js","pages/main-app/notifications/components/InviteNotification.js","pages/main-app/notifications/components/NotificationContent.js","pages/main-app/notifications/components/NewLabel.js","pages/main-app/notifications/Notifications.js","pages/main-app/messages_/components/ModalContactSearch.js","pages/main-app/messages_/websocket.js","pages/main-app/messages_/components/chat_/components/SendMessageForm.js","pages/main-app/messages_/components/chat_/components/MessageListItem.js","pages/main-app/messages_/components/chat_/Chat.js","pages/main-app/messages_/components/ContactListItem.js","pages/main-app/messages_/components/ContactFilterInput.js","pages/main-app/messages_/Messages.js","context/edit-profile/profile-image/ProfileImageContext.js","context/edit-profile/EditProfileContext.js","pages/main-app/profile/components/edit-profile/components/CroppieModal.js","pages/main-app/profile/components/edit-profile/components/EditProfileModal.js","pages/main-app/profile/components/edit-profile/EditProfile.js","pages/main-app/profile/components/Posts.js","pages/main-app/profile/components/interests/Interests.js","pages/main-app/profile/components/ProfileData.js","pages/main-app/profile/MyProfile.js","pages/main-app/settings_/components/SettingsMenu.js","pages/main-app/settings_/components/BlockedProfiles.js","pages/main-app/settings_/components/security_/SecurityMenu.js","pages/main-app/settings_/components/Faq.js","pages/main-app/settings_/components/security_/components/ChangePassword.js","pages/main-app/settings_/components/security_/components/DeleteAccount.js","pages/main-app/settings_/components/Feedback.js","pages/main-app/settings_/Settings.js","pages/main-app/profile/Profile.js","pages/main-app/profile/pages/Friends.js","pages/main-app/profile/components/interests/pages/InterestProfiles.js","pages/main-app/profile/pages/edit_interests/components/InterestsInput.js","pages/main-app/profile/pages/edit_interests/components/PublicInterests.js","pages/main-app/profile/pages/edit_interests/components/PrivateInterests.js","pages/main-app/profile/pages/edit_interests/EditInterests.js","components/CommentModal.js","pages/main-app/home/components/posts_/pages/post_/components/CommentListItem.js","components/fixed/bottom-menu/components/CommentIcon.js","pages/main-app/home/components/posts_/pages/post_/Post.js","pages/main-app/mobile-post-form/PostFormPage.js","pages/main-app/Router.js","pages/auth/login/Login.js","pages/auth/signup/components/SignupForm.js","pages/auth/signup/components/InterestsForm.js","pages/auth/signup/components/ActivationLinkSent.js","pages/auth/signup/Signup.js","pages/auth/Router.js","App.js","index.js"],"names":["InvitesReceivedContext","createContext","InvitesReceivedProvider","props","useState","invitesReceivedNumber","setInvitesReceived","Provider","value","children","UnvisualizedCommentsContext","UnvisualizedCommentsProvider","unvisualizedCommentsNumber","setUnvisulaizedComments","UnvisualizedLikesContext","UnvisualizedLikesProvider","unvisualizedLikesNumber","setUnvisulaizedLikes","UnreadMessagesContext","UnreadMessagesProvider","unreadMessagesNumber","setUnreadMessagesNumber","AppContextProvider","SERVER_URL","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","handleLogout","window","confirm","location","replace","openCloseEmojiList","closing","el","querySelector","style","display","classList","remove","add","onExpandableTextareaInput","elm","target","contains","nodeName","rows","minRows","getAttribute","_baseScrollHeight","savedValue","scrollHeight","getScrollHeight","Math","ceil","setTheme","theme","cssVariables","documentElement","setProperty","Logo","size","color","version","xmlns","width","height","viewBox","preserveAspectRatio","transform","fill","stroke","d","ResetPasswordForm","emailRef","useRef","submitButtonRef","background","className","maxWidth","margin","onSubmit","e","preventDefault","setResetPasswordPage","fetch","method","headers","body","JSON","stringify","current","then","response","json","data","fontSize","errMessage","ref","type","placeholder","onChange","disabled","listStyle","onClick","history","back","class","EmailSent","top","left","alert","PageLoader","ResetPassword","currentPage","setCurrentPage","title","Sidebar","useContext","notificationsNumber","localStorage","getItem","useEffect","getElementById","checked","to","textDecoration","activeClassName","id","setItem","for","marginLeft","SidebarSlider","handlePageChange","querySelectorAll","forEach","opacity","bottom","FeedAlgorithmInfoModal","Modal","show","isOpen","onHide","hideModal","Header","closeButton","Title","Body","InfoIcon","right","FeedAlgorithm","interestsValue","setInterestsValue","ageValue","setAgeValue","friendsValue","setFriendsValue","isFriendValue","setIsFriendValue","infoModalIsOpen","setInfoModalIsOpen","marginTop","padding","min","max","onInput","defaultValue","GlobalChat","message","setMessage","borderTop","FeedSidebar","pageIndex","setPageIndex","pages","ProfileListItem","profile","myProfile","slug","key","src","photo","marginRight","textAlign","first_name","last_name","user","username","bio","RecomendedProfilesInfoModal","profileSlug","RecomendedProfiles","recomendedProfiles","setRecomendedProfiles","overflowY","map","ProfileSidebar","setPages","setMyProfile","console","log","urlArr","href","parentProps","SidebarRight","page","setPage","useParams","justifyContent","backArrow","LikesModal","overflow","likes","like","borderLeft","borderRight","PostForm","isMobile","visualViewport","hashtags","taggedUsers","postContent","setPostContent","postFormImagePreview","setPostFormImagePreview","action","encType","data-min-rows","maxLength","autoFocus","htmlFor","accept","reader","FileReader","onload","readyState","result","readAsDataURL","files","onEmojiClick","event","emojiObject","emoji","PostListItem","post","likeUnlikePost","stopPropagation","likeBtn","dataset","postid","renderParent","onanimationend","author","created","reverse","join","borderRadius","postId","openCloseExtraOptions","animationPlayState","addEventListener","fetchPosts","deletePost","content","image","outline","comments","includes","data-postid","openLikesModal","Posts","scrollCount","setState","posts","state","likesModal","onscroll","innerHeight","scrollY","offsetHeight","this","React","Component","ProfilesSearchInput","setFilteredProfiles","search","setSearch","searchType","setSearchType","openCloseSearchTypeSelector","Profiles","profiles","setProfiles","filteredProfiles","setScrollCount","handleRelationshipUpdate","pk","btn","innerHTML","cancelFriendRequest","data-pk","Explore","setPosts","setLikesModal","selectedInterest","switchPage","element","innerText","interests","interest","Trending","BottomMenu","HomePageMenu","feedPageTitle","profilesPageTitle","explorePageTitle","trendsPageTitle","handleMouseIn","text","handleMouseOut","icon","onMouseEnter","onMouseOut","Home","elements","toLowerCase","newsPageTitle","PostIcon","InviteListItem","invite","replyRequest","backgroundColor","sender","data-senderid","data-reply","NotificationContent","notification","paddingTop","NewLabel","Notifications","notificationsFetchInterval","invites","setInvites","unvisualizedPostLikes","setUnvisualizedPostLikes","visualizedPostLikes","setVisualizedPostLikes","unvisualizedComments","setUnvisualizedComments","visualizedComments","setVisualizedComments","fetchNotifications","setInterval","clearInterval","updateNotificationsNumber","requestBody","senderid","reply","comment","ModalContactSearch","modalProfiles","setParentState","addingNewChat","query","WebSocketService","callbacks","socketRef","instance","chatUrl","path","WebSocket","onopen","socketNewMessage","command","onmessage","onerror","onclose","close","parsedData","parse","Object","keys","messages","chatId","sendMessage","from","messagesCallback","newMessageCallback","send","err","WebSocketInstance","getInstance","SendMessageForm","otherProfile","updateMessagesComponent","messageObject","blocked_users","u","newChatMessage","MessageListItem","currentUser","timestamp","ts","Date","day","getDate","month","getMonth","hour","getHours","minute","getMinutes","getFullYear","renderTimestamp","read","Chat","handleComponentChange","otherUsername","scrolledToBottom","scrollToBottom","readMessages","chat_id","chatLog","scrollTop","initialiseChat","waitForSocketConnection","addCallbacks","getMessages","bind","addMessage","fetchMessages","connect","activeElement","focus","disconnect","newProps","updateUnreadMessagesNumber","undefined","callback","component","setTimeout","openModal","ContactListItem","unreadMessagesCounter","lastChatMessage","activeChats","activeChatsProfiles","whiteSpace","maxHeight","indexOf","setLastChatMessage","contact","slice","ContactFilterInput","setHasFilteredProfiles","fetchActiveChatProfiles","filter","p","renderedActiveChatsProfiles","setContactSearch","Messages","handleReceiveProps","match","params","participants","other_username","hasFilteredProfiles","chats","rerenderingInterval","bool","ProfileImageContext","ProfileImageProvider","profileImage","setProfileImage","EditProfileContext","EditProfileProvider","CroppieModal","imageElement","cropper","Cropper","viewMode","scalable","aspectRatio","crop","canvas","getCroppedCanvas","toDataURL","stopCropping","alt","crossorigin","EditProfileModal","editingBioContent","setEditingBioContent","marginBottom","handleProfileImageChange","email","birth_date","Footer","closeModal","submit","EditProfile","isCroppingImage","setIsCropping","isCropping","fetchProfile","Interests","public","minHeight","toUpperCase","ProfileData","friends","MyProfile","setProfile","currentPageIsPosts","setCurrentPageIsPosts","isEditing","setIsEditing","SettingsMenu","activeStyle","BlockUser","blockedProfiles","setBlockedProfiles","SecurityMenu","Faq","borderBottom","open","ChangePassword","errorMessage","setErrorMessage","successMessage","setSuccessMessage","role","passwordEl","newPasswordEl","newPasswordcEl","password","newPassword","newPasswordc","new_password","new_passwordc","DeleteAccount","displayErrorMessage","setDisplayErrorMessage","fontWeight","Feedback","setName","selectedRating","handleFaceMouseEnter","img","handleFaceMouseLeave","selected","selectFace","data-selected","onMouseLeave","Settings","Profile","fetchRelationship","label","relationship","relationshipButtonLabel","sendFriendRequest","removeFromFriends","acceptFriendRequest","blockUnblockUser","alertMessage","baseState","onmouseenter","onmouseout","Friends","setFriends","friend","InterestProfiles","InterestsInput","setInterests","tagContainer","input","interestsInput","tags","addTags","tag","parentElement","removeChild","sort","prepend","div","createElement","span","closeIcon","setAttribute","appendChild","createTag","push","tagLabel","index","PublicInterests","PrivateInterests","EditInterests","publicInterests","setPublicInterests","privateInterests","setPrivateInterests","public_interests","private_interests","CommentModal","commentContent","setCommentContent","CommentListItem","fetchPost","setPostLikesModal","likeUnlikeComment","commentid","commentId","deleteComment","data-commentid","Post","setPost","commentModalIsOpen","setCommentModalIsOpen","postLikesModal","commentLikesModal","setCommentLikesModal","CommentIcon","MainAppRouter","exact","render","ProfileFriends","PostFormPage","Login","setErrMessage","usernameRef","passwordRef","handleInputChange","SignupForm","firstNameRef","lastNameRef","birthDateRef","passwordcRef","setSignupPage","setMyUserId","userId","InterestsForm","myUserId","ActivationLinkSent","Signup","AuthRouter","App","isLogged","setIsLogged","ReactDOM"],"mappings":"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","file":"static/js/main.8c860686.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react'\r\n\r\nexport const InvitesReceivedContext = createContext()\r\n\r\nexport const InvitesReceivedProvider = props => {\r\n    const [invitesReceivedNumber, setInvitesReceived] = useState(0)\r\n\r\n    return (\r\n        <InvitesReceivedContext.Provider value={[invitesReceivedNumber, setInvitesReceived]}>\r\n            {props.children}\r\n        </InvitesReceivedContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const UnvisualizedCommentsContext = createContext()\r\n\r\nexport const UnvisualizedCommentsProvider = props => {\r\n    const [unvisualizedCommentsNumber, setUnvisulaizedComments] = useState(0)\r\n\r\n    return (\r\n        <UnvisualizedCommentsContext.Provider value={[unvisualizedCommentsNumber, setUnvisulaizedComments]}>\r\n            {props.children}\r\n        </UnvisualizedCommentsContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const UnvisualizedLikesContext = createContext()\r\n\r\nexport const UnvisualizedLikesProvider = props => {\r\n    const [unvisualizedLikesNumber, setUnvisulaizedLikes] = useState(0)\r\n\r\n    return (\r\n        <UnvisualizedLikesContext.Provider value={[unvisualizedLikesNumber, setUnvisulaizedLikes]}>\r\n            {props.children}\r\n        </UnvisualizedLikesContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const UnreadMessagesContext = createContext()\r\n\r\nexport const UnreadMessagesProvider = props => {\r\n    const [unreadMessagesNumber, setUnreadMessagesNumber] = useState(0)\r\n    \r\n    return (\r\n        <UnreadMessagesContext.Provider value={[unreadMessagesNumber, setUnreadMessagesNumber]}>\r\n            {props.children}\r\n        </UnreadMessagesContext.Provider>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { InvitesReceivedContext, InvitesReceivedProvider } from './invites-received-number/InvitesReceivedContext'\r\nimport { UnvisualizedCommentsContext, UnvisualizedCommentsProvider } from './unvisualized-comments-number/UnvisualizedCommentsContext'\r\nimport { UnvisualizedLikesContext, UnvisualizedLikesProvider } from './unvisualized-likes-number/UnvisualizedLikesContext'\r\nimport { UnreadMessagesContext, UnreadMessagesProvider } from './unread-messages-number/UnreadMessagesContext'\r\nexport { InvitesReceivedContext, UnvisualizedCommentsContext, UnvisualizedLikesContext, UnreadMessagesContext }\r\n\r\nexport default function AppContextProvider(props) {\r\n    return (\r\n        <InvitesReceivedProvider>\r\n            <UnvisualizedCommentsProvider>\r\n                <UnvisualizedLikesProvider>\r\n                    <UnreadMessagesProvider>\r\n                        {props.children}\r\n                    </UnreadMessagesProvider>\r\n                </UnvisualizedLikesProvider>\r\n            </UnvisualizedCommentsProvider>\r\n        </InvitesReceivedProvider>\r\n    )\r\n}","//const SERVER_URL = 'https://napker.herokuapp.com'\r\n//const SOCKET_URL = 'wss://napker.herokuapp.com'\r\nconst SERVER_URL = 'http://127.0.0.1:8000'\r\nconst SOCKET_URL = 'ws://127.0.0.1:8000'\r\n\r\nexport { SERVER_URL, SOCKET_URL }\r\n","import { SERVER_URL } from './settings'\r\n\r\nexport const csrftoken = getCookie('csrftoken')\r\n\r\nfunction getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== '') {\r\n    const cookies = document.cookie.split(';');\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      // Does this cookie string begin with the name we want?\r\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nexport const handleLogout = () => {\r\n  const bool = window.confirm('Sair do Napker?\\nVocê poderá entrar novamente quando quiser.')\r\n  if (bool) {\r\n    window.location.replace(`${SERVER_URL}/logout`)\r\n  }\r\n}\r\n\r\nexport const openCloseEmojiList = (closing = false) => {\r\n  const el = document.querySelector('#emoji-list-container')\r\n  const style = el.style\r\n  if (closing) {\r\n    style.display = 'none'\r\n    document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n  } else {\r\n    if (!style.display || style.display === 'none') {\r\n      style.display = 'initial'\r\n      document.querySelector('#emoji-button').classList.add('emoji-button-active')\r\n    } else {\r\n      style.display = 'none'\r\n      document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n    }\r\n  }\r\n}\r\n\r\n// EXPANDABLE TEXTAREA\r\n\r\nfunction getScrollHeight(elm) {\r\n  var savedValue = elm.value\r\n  elm.value = ''\r\n  elm._baseScrollHeight = elm.scrollHeight\r\n  elm.value = savedValue\r\n}\r\n\r\nexport function onExpandableTextareaInput({ target: elm }) {\r\n  // make sure the input event originated from a textarea and it's desired to be auto-expandable\r\n  if (!elm.classList.contains('autoExpand') || !elm.nodeName == 'TEXTAREA') return\r\n\r\n  var minRows = elm.getAttribute('data-min-rows') | 0, rows;\r\n  !elm._baseScrollHeight && getScrollHeight(elm)\r\n\r\n  elm.rows = minRows\r\n  rows = Math.ceil((elm.scrollHeight - elm._baseScrollHeight) / 16)\r\n  elm.rows = minRows + rows\r\n}\r\n\r\n// THEME\r\n\r\nexport const setTheme = theme => {\r\n  const cssVariables = document.documentElement.style\r\n\r\n  if (theme === 'light') {\r\n      cssVariables.setProperty('--border-color', '#f3f3f3')\r\n      cssVariables.setProperty('--background', '#f3f3f3')\r\n      cssVariables.setProperty('--fixed-components-background', '#fcfdfc')\r\n      cssVariables.setProperty('--heart-color', '#E0245E')\r\n      cssVariables.setProperty('--heart-background-hover', 'rgba(224, 36, 94, .1)')\r\n      cssVariables.setProperty('--primary-color', '#48D1AF')\r\n      cssVariables.setProperty('--secondary-color', 'rgba(119, 147, 125, .1)')\r\n      cssVariables.setProperty('--primary-color-hover', '#3FB597')\r\n      cssVariables.setProperty('--primary-grey', '#363636')\r\n      cssVariables.setProperty('--loader-background', 'rgba(119, 147, 125, .3)')\r\n      cssVariables.setProperty('--theme-base-color', '#fff')\r\n      cssVariables.setProperty('--theme-base-color-hover', 'rgba(250, 250, 250, 0.7)')\r\n      cssVariables.setProperty('--view-more-select-border', 'rgba(0, 0, 0, .2)')\r\n\r\n  } else if (theme === 'dark') {\r\n      cssVariables.setProperty('--border-color', '#000')\r\n      cssVariables.setProperty('--background', '#000')\r\n      cssVariables.setProperty('--fixed-components-background', '#131313')\r\n      cssVariables.setProperty('--heart-color', '#E0245E')\r\n      cssVariables.setProperty('--heart-background-hover', 'rgba(224, 36, 94, .1)')\r\n      cssVariables.setProperty('--primary-color', '#48D1AF')\r\n      cssVariables.setProperty('--secondary-color', 'rgba(119, 147, 125, .1)')\r\n      cssVariables.setProperty('--primary-color-hover', '#3FB597')\r\n      cssVariables.setProperty('--primary-grey', '#D9D9D9')\r\n      cssVariables.setProperty('--loader-background', 'rgba(119, 147, 125, .3)')\r\n      cssVariables.setProperty('--theme-base-color', '#131313')\r\n      cssVariables.setProperty('--theme-base-color-hover', 'rgba(255, 255, 255, 0.1)')\r\n      cssVariables.setProperty('--view-more-select-border', 'rgba(255, 255, 255, .2)')\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Logo(props) {\r\n    const size = props.size ? props.size : '25pt'\r\n    const color = props.color ? props.color : 'var(--primary-color)'\r\n\r\n    return (\r\n        <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\r\n            width={size} height={size} viewBox=\"0 0 452.000000 452.000000\"\r\n            preserveAspectRatio=\"xMidYMid meet\">\r\n\r\n            <g transform=\"translate(0.000000,452.000000) scale(0.100000,-0.100000)\"\r\n                fill={color} stroke=\"none\">\r\n                <path d=\"M674 4491 c-120 -19 -280 -86 -372 -156 -130 -98 -242 -272 -277\r\n                -431 -34 -151 -8 -312 63 -388 63 -67 170 -85 264 -43 149 66 210 257 133 420\r\n                -35 75 -31 91 22 95 85 6 227 -98 282 -206 53 -105 51 -46 51 -1698 1 -841 5\r\n                -1559 9 -1596 5 -38 22 -96 38 -130 68 -145 205 -228 377 -228 128 0 238 43\r\n                312 122 52 55 71 87 95 156 18 53 19 108 19 1796 0 1711 -1 1742 -20 1784\r\n                l-20 44 23 19 c79 67 190 125 282 148 75 19 211 15 305 -8 263 -66 469 -298\r\n                544 -616 33 -143 36 -247 36 -1502 0 -836 4 -1278 11 -1330 13 -96 48 -200 97\r\n                -290 49 -91 177 -220 257 -260 112 -56 152 -63 388 -63 196 0 223 2 313 25\r\n                155 39 266 99 373 200 77 74 97 100 139 183 27 53 56 120 65 147 47 155 17\r\n                358 -65 431 -120 107 -338 45 -398 -114 -33 -86 -30 -159 10 -260 31 -77 32\r\n                -84 17 -99 -14 -14 -23 -15 -67 -5 -97 23 -194 115 -238 227 -38 98 -42 195\r\n                -42 1155 0 740 -3 952 -15 1060 -45 423 -187 746 -434 990 -201 199 -409 312\r\n                -736 400 -102 28 -366 38 -512 21 -192 -24 -421 -98 -523 -171 -36 -26 -46\r\n                -25 -83 6 -58 49 -219 121 -336 151 -66 16 -314 25 -387 14z\"/>\r\n            </g>\r\n        </svg>\r\n    )\r\n}","import React, { useRef } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\nimport Logo from '../../../../assets/icons/Logo'\r\n\r\n\r\nexport default function ResetPasswordForm(props) {\r\n    const emailRef = useRef()\r\n    const submitButtonRef = useRef()\r\n\r\n    const handleInputChange = () => {\r\n        submitButtonRef.current.disabled = emailRef.current.value === ''\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        props.setResetPasswordPage('page-loader')\r\n        fetch(`${SERVER_URL}/post-reset-password`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'email': emailRef.current.value,\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data == 'email sent') {\r\n                    props.setResetPasswordPage('email-sent')\r\n                } else {\r\n                    props.setResetPasswordPage('email-does-not-exists')\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '98vw', height: '90vh', background: 'var(--theme-base-color)' }}>\r\n            <form\r\n                className=\"d-flex flex-column align-items-center primary-form\"\r\n                style={{ width: '90%', maxWidth: '600px', margin: '50px auto' }}\r\n                onSubmit={handleSubmit}\r\n            >\r\n                <Logo size=\"30pt\" />\r\n                <h1 className=\"mt-3\" style={{ fontSize: '30px' }}>Esqueceu sua senha?</h1>\r\n\r\n                <p>Por favor confirme o email ligado a sua conta.</p>\r\n\r\n                {props.errMessage !== null &&\r\n                    <div className=\"w-75 d-flex justify-content-center\">\r\n                        <span className=\"word-break\" style={{ color: '#f00' }}>{props.errMessage}</span>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"w-75 mt-3 d-flex justify-content-center\">\r\n                    <input ref={emailRef} className=\"form-control w-100\" type=\"email\" placeholder=\"Email\" onChange={handleInputChange} />\r\n                </div>\r\n\r\n                <button\r\n                    ref={submitButtonRef}\r\n                    className=\"btn btn-primary w-75 mt-2 py-2\"\r\n                    disabled\r\n                >Confirmar\r\n            </button>\r\n\r\n                <ul className=\"w-100 d-flex justify-content-center text-center mt-3\" style={{ listStyle: 'none' }}>\r\n                    <li className=\"hover-underline hover-pointer\" style={{ color: 'var(--primary-color)' }} onClick={() => window.history.back()}>\r\n                        <i class=\"fas fa-arrow-left\"></i>\r\n                        <span className=\"ml-1\">Voltar</span>\r\n                    </li>\r\n                </ul>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport Logo from '../../../../assets/icons/Logo'\r\n\r\n\r\nexport default function EmailSent() {\r\n\r\n    return (\r\n        <div\r\n            class=\"position-absolute d-flex flex-column align-items-start\"\r\n            style={{ top: '15%', left: '10%' }}\r\n        >\r\n            <Logo size=\"35pt\" />\r\n            <h3 className=\"my-3\">Tudo certinho!</h3>\r\n            <p className=\"pb-3\" style={{ fontSize: 'large' }}>Enviamos um email para você com um link para você criar uma nova senha...</p>\r\n            <p\r\n                className=\"pt-3 hover-underline hover-pointer\"\r\n                style={{ color: 'var(--primary-color)', fontSize: 'large' }}\r\n                onClick={() => window.alert('Verifique se o email está na caixa de spam.')}\r\n            >\r\n                Não recebi o email\r\n            </p>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport Logo from '../assets/icons/Logo'\r\n\r\n\r\nexport default function PageLoader() {\r\n\r\n    return (\r\n        <div className=\"d-flex align-items-center\" style={{ height: '85vh' }}>\r\n            <div className=\"spinner\">\r\n                <Logo size=\"50pt\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport ResetPasswordForm from './components/ResetPasswordForm'\r\nimport EmailSent from './components/EmailSent'\r\nimport PageLoader from '../../PageLoader'\r\n\r\n\r\nexport default function ResetPassword() {\r\n    const [currentPage, setCurrentPage] = useState('reset-password')\r\n\r\n    document.title = 'Recuperar senha / Napker'\r\n\r\n    return (\r\n        <>\r\n            {currentPage === 'reset-password' &&\r\n                <ResetPasswordForm setResetPasswordPage={setCurrentPage} />\r\n            }\r\n            {currentPage === 'email-does-not-exists' &&\r\n                <ResetPasswordForm setResetPasswordPage={setCurrentPage} errMessage='Não existe nenhuma conta ligada a esse email!' />\r\n            }\r\n            {currentPage === 'email-sent' &&\r\n                <EmailSent />\r\n            }\r\n            {currentPage === 'page-loader' &&\r\n                <PageLoader />\r\n            }\r\n        </>\r\n    )\r\n}","import React, { useEffect, useContext } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\nimport { setTheme } from '../../config/utils'\r\nimport {\r\n    InvitesReceivedContext, UnvisualizedCommentsContext,\r\n    UnvisualizedLikesContext, UnreadMessagesContext\r\n} from '../../context/app/AppContext'\r\nimport Logo from '../../assets/icons/Logo'\r\n\r\nexport default function Sidebar() {\r\n    const [invitesReceivedNumber,] = useContext(InvitesReceivedContext)\r\n    const [unvisualizedCommentsNumber,] = useContext(UnvisualizedCommentsContext)\r\n    const [unvisualizedLikesNumber,] = useContext(UnvisualizedLikesContext)\r\n\r\n    const [unreadMessagesNumber,] = useContext(UnreadMessagesContext)\r\n\r\n    let notificationsNumber = invitesReceivedNumber + unvisualizedLikesNumber + unvisualizedCommentsNumber\r\n\r\n    let theme = window.localStorage.getItem('theme') || 'light'\r\n\r\n\r\n    useEffect(() => {\r\n        document.getElementById('chk').checked = theme === 'dark'\r\n    }, [])\r\n\r\n    const switchTheme = () => {\r\n        theme = theme === 'light' ? 'dark' : 'light'\r\n        setTheme(theme)\r\n        window.localStorage.setItem('theme', theme)\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\" style={{ left: '0' }}>\r\n            <div>\r\n                <div className=\"logo-container\">\r\n                    <Link to=\"/home\" style={{ textDecoration: 'none' }}>\r\n                        <Logo />\r\n                    </Link>\r\n                </div>\r\n                <ul>\r\n                    <NavLink to=\"/home\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                            <span>Home</span>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/notificações\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                            <span>Notificações</span>\r\n                            {!notificationsNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {notificationsNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/mensagens\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-envelope sidebar-menu-icon\" />\r\n                            <span>Mensagens</span>\r\n                            {!unreadMessagesNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {unreadMessagesNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/perfil\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                            <span>Perfil</span>\r\n                        </li>\r\n                    </NavLink>\r\n                    <NavLink to=\"/configurações\" style={{ textDecoration: 'none' }} activeClassName=\"active\">\r\n                        <li className=\"sidebar-menu-item\">\r\n                            <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                            <span>Configurações</span>\r\n                        </li>\r\n                    </NavLink>\r\n                </ul>\r\n            </div>\r\n            <div class=\"d-flex justify-content-start sidebar-menu-item\">\r\n                <div class=\"one-quarter\" id=\"switch\">\r\n                    <input type=\"checkbox\" class=\"checkbox\" id=\"chk\" onChange={switchTheme} />\r\n                    <label class=\"label m-0\" for=\"chk\">\r\n                        <i class=\"fas fa-sun\"></i>\r\n                        <i class=\"fas fa-moon\"></i>\r\n                        <div class=\"ball\"></div>\r\n                    </label>\r\n                </div>\r\n                <span style={{ marginLeft: '10px' }}>Tema</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function SidebarSlider(props) {\r\n\r\n    const handlePageChange = e => {\r\n        document.querySelectorAll('.slider-navigation-item').forEach(el => {\r\n            el.style.opacity = .5\r\n        })\r\n        e.target.style.opacity = 1\r\n\r\n        props.handlePageChange(e)\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex w-100 justify-content-center position-absolute py-3\" style={{ bottom: '0' }}>\r\n            <div\r\n                className=\"w-25 p-1 m-2 primary-hover slider-navigation-item\"\r\n                id=\"0\"\r\n                style={{ background: 'var(--primary-color)', opacity: '1' }}\r\n                onClick={handlePageChange}\r\n            />\r\n            <div\r\n                className=\"w-25 p-1 m-2 primary-hover slider-navigation-item\"\r\n                id=\"1\"\r\n                style={{ background: 'var(--primary-color)', opacity: '.5' }}\r\n                onClick={handlePageChange}\r\n            />\r\n            <div\r\n                className=\"w-25 p-1 m-2 primary-hover slider-navigation-item\"\r\n                id=\"2\"\r\n                style={{ background: 'var(--primary-color)', opacity: '.5' }}\r\n                onClick={handlePageChange}\r\n            />\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\n\r\nexport default function FeedAlgorithmInfoModal(props) {\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Configurações do Algoritmo</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <h3>Como o nosso algoritmo deve funcionar?</h3>\r\n                <p>\r\n                    Os critérios presentes na barra lateral (Interesses em comum, Semelhança de idade...) são utilizados para calcularmos a\r\n                    relevância de um perfil em relação a outro. Sabendo disso, você pode escolher o peso de cada critério e assim, personalizar o\r\n                    algoritmo que calculará a relevância dos outros perfis.\r\n                    <br />\r\n                    <br />\r\n                    Exemplo: Caso você mude o peso do critério \"Interesses em comum\" para 100 e todos os outros para 0, os perfis da página \"Encontrar perfis\" \r\n                    serão ordenados levando em consideração apenas a quantidade de interesses em comum que o usuário tem com você.\r\n                    <br />\r\n                    <br />\r\n                    A relevância de um post é calculada baseada na relevância do autor do mesmo e dos perfis que curtiram a publicação. Ou seja,\r\n                    ao decidir como a relevância de um perfil será calculada, você está personalizando o algoritmo que decidirá quais posts devem aparecer para você\r\n                    e em que ordem.\r\n                </p>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function InfoIcon(props) {\r\n\r\n    return (\r\n        <i\r\n            class=\"fas fa-info-circle position-absolute hover-pointer py-3\"\r\n            style={{ top: '0', right: '0', color: 'var(--text-secondary)' }}\r\n            onClick={props.onClick}\r\n        />\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport InfoModal from './components/InfoModal'\r\nimport InfoIcon from '../../../InfoIcon'\r\n\r\n\r\nexport default function FeedAlgorithm() {\r\n    const [interestsValue, setInterestsValue] = useState(50)\r\n    const [ageValue, setAgeValue] = useState(50)\r\n    const [friendsValue, setFriendsValue] = useState(50)\r\n    const [isFriendValue, setIsFriendValue] = useState(50)\r\n\r\n    const [infoModalIsOpen, setInfoModalIsOpen] = useState(false)\r\n\r\n    return (\r\n        <>\r\n            <InfoModal isOpen={infoModalIsOpen} hideModal={() => setInfoModalIsOpen(false)} />\r\n            <InfoIcon onClick={() => setInfoModalIsOpen(true)} />\r\n            <div className=\"d-flex flex-column justify-content-start align-items-center\" style={{ marginLeft: '10%' }}>\r\n                <div className=\"b-bottom\" style={{ marginTop: 'var(--header-heigth)', width: '100%' }}>\r\n                    <h6>Personalize o algoritmo que calcula o quão relevante um perfil é para você.</h6>\r\n                </div>\r\n                <div className=\"b-bottom py-3\" style={{ width: '100%' }}>\r\n                    <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                        <h6>Interesses em comum</h6>\r\n                        <div>{interestsValue}</div>\r\n                    </div>\r\n                    <div class=\"range\">\r\n                        <input type=\"range\" min=\"0\" max=\"100\" onInput={e => setInterestsValue(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"b-bottom py-3\" style={{ width: '100%' }}>\r\n                    <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                        <h6>Semelhança de idade</h6>\r\n                        <div>{ageValue}</div>\r\n                    </div>\r\n                    <div class=\"range\">\r\n                        <input type=\"range\" min=\"0\" max=\"100\" defaultValue=\"50\" onInput={e => setAgeValue(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"b-bottom py-3\" style={{ width: '100%' }}>\r\n                    <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                        <h6>Amigos em comum</h6>\r\n                        <div>{friendsValue}</div>\r\n                    </div>\r\n                    <div class=\"range\">\r\n                        <input type=\"range\" min=\"0\" max=\"100\" defaultValue=\"50\" onInput={e => setFriendsValue(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"py-3\" style={{ width: '100%' }}>\r\n                    <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                        <h6>Ser meu amigo</h6>\r\n                        <div>{isFriendValue}</div>\r\n                    </div>\r\n                    <div class=\"range\">\r\n                        <input type=\"range\" min=\"0\" max=\"100\" defaultValue=\"50\" onInput={e => setIsFriendValue(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\n\r\nexport default function GlobalChat() {\r\n    const [message, setMessage] = useState('')\r\n\r\n    const messageChangeHandler = e => {\r\n        setMessage(e.target.value)\r\n        const el = document.querySelector('#chat-message-submit')\r\n        el.disabled = e.target.value.trim() === ''\r\n    }\r\n\r\n    return (\r\n        <div className=\"position-relative d-flex flex-column justify-content-between align-items-center w-100 h-100\">\r\n            <div className=\"d-flex justify-content-center align-items-center w-100 b-bottom\" style={{ height: 'var(--header-heigth)' }}>\r\n                <h4>Chat global</h4>\r\n            </div>\r\n            <div className=\"d-flex flex-column justify-content-center align-items-center w-100 py-2 b-bottom\">\r\n                <h6>Hashtag em alta:</h6>\r\n                <h4 style={{ color: 'var(--primary-color)' }} >#napker</h4>\r\n            </div>\r\n            <div className=\"chat-log\">\r\n                <li className=\"received\">\r\n                    <p>\r\n                        <h6 className=\"fw-bold mb-1\">Devs Napker</h6>\r\n                        Olá tester! Ficamos felizes de ter você aqui.\r\n                    </p>\r\n                </li>\r\n                <li className=\"received\">\r\n                    <p>\r\n                        <h6 className=\"fw-bold mb-1\">Devs Napker</h6>\r\n                        O chat global ainda está em desenvolvimento...\r\n                        <br />\r\n                        <br />\r\n                        Nosso objetivo com ele é que os usuários conversem entre si sobre a hashtag mais usada no dia.\r\n                        Dessa forma, criaremos mais uma forma de engajamento e interação do usuário com a plataforma.\r\n                    </p>\r\n                </li>\r\n                <li className=\"received\">\r\n                    <p>\r\n                        <h6 className=\"fw-bold mb-1\">Devs Napker</h6>\r\n                        Depois passa no grupo pra nos dizer o que achou dessa ideia. ;)\r\n                    </p>\r\n                </li>\r\n            </div>\r\n            <div\r\n                className=\"d-flex justify-content-center align-items-center w-100 px-1 pt-2 pb-4 my-3 border-bottom\"\r\n                style={{ borderTop: '2px solid var(--border-color)', background: '#fff' }}\r\n            >\r\n                <input\r\n                    placeholder=\"Mensagem\"\r\n                    className=\"message-input w-80\"\r\n                    id=\"chat-message-input\"\r\n                    value={message}\r\n                    onChange={messageChangeHandler}\r\n                />\r\n\r\n                <button\r\n                    className=\"btn btn-primary d-flex justify-content-center align-items-center\"\r\n                    id=\"chat-message-submit\"\r\n                    style={{ height: '35px' }}\r\n                    disabled\r\n                >\r\n                    <i class=\"fas fa-chevron-right\" style={{ fontSize: 'large' }} />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport SidebarSlider from '../SidebarSlider'\r\n\r\nimport FeedAlgorithm from './components/algorithm-settings/AlgorithmSettings'\r\nimport GlobalChat from './components/GlobalChat'\r\n\r\n\r\nexport default function FeedSidebar() {\r\n    const [pageIndex, setPageIndex] = useState(0)\r\n\r\n    const pages = [<FeedAlgorithm />, <GlobalChat />, 'Em breve...']\r\n\r\n    return (\r\n        <>\r\n            {pages[pageIndex]}\r\n            <SidebarSlider handlePageChange={e => setPageIndex(e.target.id)} />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\n\r\nexport default function ProfileListItem(props) {\r\n    const profile = props.profile\r\n    const myProfile = props.myProfile\r\n\r\n    return (\r\n        <Link to={profile.id === myProfile.id ?\r\n            '/perfil' : `/user/${profile.slug}`}\r\n            style={{ color: 'var(--primary-grey)', textDecoration: 'none' }}\r\n        >\r\n            <li\r\n                className=\"position-relative border-0 b-bottom base-hover\"\r\n                key={profile.id}\r\n                style={{ ...props.style, padding: '.75rem 1.25rem', background: 'var(--theme-base-color)'}}\r\n                onClick={props.onClick}\r\n            >\r\n                <div className=\"d-flex\">\r\n                    <div className=\"profile-img-container\">\r\n                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                            className=\"profile-img-med\"\r\n                            style={{ marginRight: '10px' }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"d-flex flex-column w-100\">\r\n                        <div className=\"profile-row-top\">\r\n                            <div className=\"main-profile-data\">\r\n                                <strong style={{ textAlign: 'start' }}>\r\n                                    {profile.first_name} {profile.last_name}\r\n                                </strong>\r\n                                <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                            </div>\r\n                            {props.children}\r\n                        </div>\r\n                        <div className=\"profile-row-bottom\">\r\n                            {profile.bio}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        </Link>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\n\r\nexport default function RecomendedProfilesInfoModal(props) {\r\n    const profileSlug = props.profileSlug\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Perfis recomendados</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <h3>Como decidimos quais perfis aparecem na barra lateral?</h3>\r\n                <p>\r\n                    Os perfis que estão na barra lateral são considerados os perfis que mais \"batem\" com @{profileSlug}.\r\n                    Ou seja, são perfis que possuem bastante afinidade com o usuário.\r\n                </p>\r\n\r\n                <br />\r\n                <br />\r\n\r\n                <h3>Como é calculada a relevância de um perfil para @{profileSlug}?</h3>\r\n                <p>\r\n                    Os critérios presentes nas configurações do algoritmo (Interesses em comum, Semelhança de idade...) são utilizados para calcularmos a\r\n                    relevância de um perfil em relação a outro. Sabendo disso, você pode escolher o peso de cada critério e assim, personalizar o\r\n                    algoritmo que calculará a relevância dos perfis.\r\n                </p>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../../../config/settings'\r\nimport ProfileListItem from '../../../../../../ProfileListItem'\r\n\r\nimport InfoModal from './components/InfoModal'\r\nimport InfoIcon from '../../../InfoIcon'\r\n\r\n\r\nexport default function RecomendedProfiles(props) {\r\n    const [recomendedProfiles, setRecomendedProfiles] = useState(null)\r\n    const myProfile = props.myProfile\r\n    const profileSlug = props.profileSlug\r\n\r\n    const [infoModalIsOpen, setInfoModalIsOpen] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (profileSlug) {\r\n            fetch(`${SERVER_URL}/profile-api/profile-list/${profileSlug}`)\r\n                .then(response => response.json())\r\n                .then(data => setRecomendedProfiles(data))\r\n        }\r\n    }, [props])\r\n\r\n    return (\r\n        <>\r\n            <InfoModal isOpen={infoModalIsOpen} hideModal={() => setInfoModalIsOpen(false)} profileSlug={profileSlug} />\r\n            <div className=\"d-flex justify-content-center align-items-center m-0 b-bottom\" style={{ height: 'var(--header-heigth)' }}>\r\n                <h5>Você pode gostar</h5>\r\n            </div>\r\n            <InfoIcon onClick={() => setInfoModalIsOpen(true)} />\r\n            <div className=\"w-100\" style={{ overflowY: 'hidden' }}>\r\n                {recomendedProfiles !== null ?\r\n                    <>\r\n                        {recomendedProfiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem profile={profile} myProfile={myProfile} />\r\n                            )\r\n                        })}\r\n                    </>\r\n                    :\r\n                    <div className=\"loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport RecomendedProfiles from './components/recomended-profiles/RecomendedProfiles'\r\nimport SidebarSlider from '../SidebarSlider'\r\n\r\n\r\nexport default function ProfileSidebar(props) {\r\n    const [pages, setPages] = useState(null)\r\n    const [pageIndex, setPageIndex] = useState(0)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        console.log('iside useeffect')\r\n        const urlArr = window.location.href.split('/')\r\n        if (myProfile) {\r\n            const profileSlug = urlArr[urlArr.length - 2] === 'user' ? urlArr[urlArr.length - 1] : urlArr[urlArr.length - 1] === 'perfil' ? myProfile.slug : false\r\n            setPages([\r\n                <RecomendedProfiles myProfile={myProfile} profileSlug={profileSlug} />,\r\n                'Em breve...',\r\n                'Em breve...'\r\n            ])\r\n        } else {\r\n            fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setMyProfile(data)\r\n                    const profileSlug = urlArr[urlArr.length - 2] === 'user' ? urlArr[urlArr.length - 1] : urlArr[urlArr.length - 1] === 'perfil' ? data.slug : false\r\n                    setPages([\r\n                        <RecomendedProfiles myProfile={data} profileSlug={profileSlug} />,\r\n                        'Em breve...',\r\n                        'Em breve...'\r\n                    ])\r\n                })\r\n        }\r\n    }, [props.parentProps])\r\n\r\n    return (\r\n        <>\r\n            {myProfile !== null && pages !== null ?\r\n                <>\r\n                    {pages[pageIndex]}\r\n                    <SidebarSlider handlePageChange={e => setPageIndex(e.target.id)} />\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport HomeSidebar from './components/home-sidebar/HomeSidebar'\r\nimport ProfileSidebar from './components/profile-sidebar/ProfileSidebar'\r\n\r\n\r\nexport default function SidebarRight(props) {\r\n    const [page, setPage] = useState(null)\r\n\r\n    const { slug } = useParams()\r\n\r\n    useEffect(() => {\r\n        setPage(props.page)\r\n    }, [props])\r\n\r\n    const pages = {\r\n        'home': <HomeSidebar />,\r\n        'profile': <ProfileSidebar parentProps={[props, slug]} />, // passing parent props to rerender the profile sidebar on props change... otherwise it wouldn't update\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\" style={{ right: '0', justifyContent: 'start' }}>\r\n            {pages[page]}\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <div className=\"header fixed-top b-bottom\">\r\n            {!props.backArrow ? '' :\r\n                <i class=\"fas fa-arrow-left left-arrow-icon\" onClick={() => window.history.back()} />\r\n            }\r\n            <strong>{props.page}</strong>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport ProfileListItem from './ProfileListItem'\r\n\r\nexport default function LikesModal(props) {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Curtidas</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {props.likes &&\r\n                        props.likes.map(like => like.profile).map(profile => {\r\n                            return (\r\n                                <ProfileListItem\r\n                                    profile={profile}\r\n                                    myProfile={myProfile}\r\n                                    style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    onClick={props.hideModal}\r\n                                />\r\n                            )\r\n                        })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Picker from 'emoji-picker-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport { csrftoken, openCloseEmojiList } from '../../../../../../config/utils'\r\n\r\nexport default function PostForm(props) {\r\n    const myProfile = props.myProfile\r\n    const isMobile = visualViewport.width <= 980\r\n\r\n    const [hashtags, setHashtags] = useState([])\r\n    const [taggedUsers, setTaggedUsers] = useState([])\r\n    const [postContent, setPostContent] = useState('')\r\n    const [postFormImagePreview, setPostFormImagePreview] = useState(null)\r\n\r\n    const handlePostContentChange = e => {\r\n        setPostContent(e.target.value)\r\n        const el = document.querySelector('#post-form-submit-btn')\r\n        el.disabled = e.target.value.trim() === '' && !postFormImagePreview\r\n    }\r\n\r\n    const handlePostImageChange = e => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                setPostFormImagePreview(reader.result)\r\n                document.querySelector('#post-img-container').style.display = 'initial'\r\n                document.querySelector('#post-form-submit-btn').disabled = false\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    const handleCloseImage = () => {\r\n        document.querySelector('#post-img-container').style.display = 'none'\r\n        document.querySelector('#post-image').value = ''\r\n        if (postContent.trim() === '') document.querySelector('#post-form-submit-btn').disabled = true\r\n        setPostFormImagePreview(null)\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setPostContent(postContent + emojiObject.emoji)\r\n        document.querySelector('#post-form-submit-btn').disabled = false\r\n    }\r\n\r\n    return (\r\n        <form\r\n            action={`${SERVER_URL}/post-api/create-post`}\r\n            method=\"POST\"\r\n            className=\"create-post-form\"\r\n            encType=\"multipart/form-data\"\r\n        >\r\n            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n            <input type=\"hidden\" name=\"hashtags\" value={hashtags} />\r\n            <input type=\"hidden\" name=\"tagged-usernames\" value={taggedUsers} />\r\n\r\n            <div className=\"d-flex\">\r\n                <Link to=\"/perfil\">\r\n                    <img\r\n                        src={`${SERVER_URL}${myProfile.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n                <textarea\r\n                    className='autoExpand'\r\n                    rows='3'\r\n                    data-min-rows='3'\r\n                    name=\"post-content\"\r\n                    value={postContent}\r\n                    placeholder=\"O que passa pela sua cabeça?\"\r\n                    maxLength={300}\r\n                    autoFocus\r\n                    style={{ color: 'var(--primary-grey)', background: 'var(--theme-base-color)' }}\r\n                    onChange={handlePostContentChange}\r\n                />\r\n            </div>\r\n            <div className=\"w-100 d-flex justify-content-center\">\r\n                <div\r\n                    className=\"post-img-container\"\r\n                    id=\"post-img-container\">\r\n                    <div\r\n                        className=\"post-img-options\"\r\n                    >\r\n                        <i\r\n                            className=\"far fa-times-circle\"\r\n                            onClick={handleCloseImage}\r\n                        />\r\n                    </div>\r\n                    <img\r\n                        src={postFormImagePreview}\r\n                        className=\"post-img mt-0\"\r\n                        id=\"post-form-img-preview\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            <div className=\"d-flex justify-content-between\" style={{ margin: '0px 70px 0 70px' }}>\r\n                <div className=\"post-extra-options\">\r\n                    <label htmlFor=\"post-image\" class=\"far fa-image\" />\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\"image/png, image/jpg, image/jpeg\"\r\n                        name=\"post-image\"\r\n                        id=\"post-image\"\r\n                        style={{ display: 'none' }}\r\n                        onChange={handlePostImageChange}\r\n                    />\r\n                    {!isMobile &&\r\n                        <>\r\n                            <label\r\n                                className=\"far fa-smile\"\r\n                                id=\"emoji-button\"\r\n                                onClick={() => openCloseEmojiList(false)}\r\n                            />\r\n                            <div className=\"emoji-list-container\" id=\"emoji-list-container\">\r\n                                <Picker onEmojiClick={onEmojiSelect} />\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </div>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary\"\r\n                    id=\"post-form-submit-btn\"\r\n                    style={{ height: '40px' }}\r\n                    disabled\r\n                >\r\n                    Postar\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport { csrftoken } from '../config/utils'\r\n\r\nexport default function PostListItem(props) {\r\n    const post = props.post\r\n    const myProfile = props.myProfile\r\n\r\n    const likeUnlikePost = e => {\r\n        e.stopPropagation()\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.renderParent()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            likeBtn.classList.add('animated')\r\n            likeBtn.onanimationend = () => {\r\n                likeBtn.classList.remove('animated')\r\n            }\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.renderParent()\r\n                })\r\n        }\r\n    }\r\n\r\n    const openCloseExtraOptions = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-view-more-select-${postId}`)\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            style.display = 'flex'\r\n        } else {\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ação é irreversível.')) {\r\n            el.style.animationPlayState = 'running'\r\n            el.addEventListener('animationend', () => {\r\n                this.fetchPosts()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"d-flex w-100 base-hover hide-animation b-bottom\"\r\n            id={`profile-post-${post.id}`}\r\n            key={post.id}\r\n            style={{ padding: '5px 15px', background: 'var(--theme-base-color)' }}\r\n            onClick={() => window.location.href = `/post/${post.id}`}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <Link\r\n                    to={post.author.id === myProfile.id ?\r\n                        '/perfil' : `/user/${post.author.slug}`}\r\n                    onClick={e => e.stopPropagation()}\r\n                >\r\n                    <img src={`${SERVER_URL}${post.author.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n            </div>\r\n            <div className=\"d-flex flex-column h-100 w-100\" style={{ marginRight: '10px' }}>\r\n                <div className=\"d-flex justify-content-between w-100\">\r\n                    <div>\r\n                        <Link\r\n                            to={post.author.id === myProfile.id ? '/perfil' : `/user/${post.author.slug}`}\r\n                            className=\"d-flex justify-content-start align-items-start post-author-data-wrapper\"\r\n                            style={{ color: '#000' }}\r\n                            onClick={e => e.stopPropagation()}\r\n                        >\r\n                            <strong className=\"mr-2\" style={{ color: 'var(--primary-grey)' }}>\r\n                                {post.author.first_name} {post.author.last_name}\r\n                            </strong>\r\n                            <p className=\"text-secondary\">\r\n                                @{post.author.user.username} • {post.created.split('-').reverse().join('/')}\r\n                            </p>\r\n                        </Link>\r\n                    </div>\r\n                    <i\r\n                        className=\"fas fa-ellipsis-h d-flex justify-content-center align-items-center text-secondary secondary-hover view-more-icon\"\r\n                        id={`post-view-more-icon-${post.id}`}\r\n                        style={{ textDecoration: 'none', width: '30px', height: '30px', borderRadius: '30px' }}\r\n                        onClick={e => openCloseExtraOptions(e, post.id)}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column position-relative\">\r\n                    <div className=\"view-more-select\" id={`post-view-more-select-${post.id}`} style={{ right: '0%' }}>\r\n                        {myProfile.id === post.author.id ?\r\n                            <li\r\n                                style={{ color: '#f00' }}\r\n                                onClick={e => deletePost(e, post.id)}\r\n                            >\r\n                                <i class=\"fas fa-trash\" />\r\n                                Excluir\r\n                            </li>\r\n                            :\r\n                            <>\r\n                                <li>\r\n                                    <i class=\"fas fa-exclamation-triangle text-secondary\" />\r\n                                    Denunciar fake news\r\n                                </li>\r\n                                <li>\r\n                                    <i class=\"fas fa-exclamation-circle text-secondary\" />\r\n                                    Denunciar conteúdo impróprio\r\n                                </li>\r\n                            </>\r\n                        }\r\n                        <div className=\"popover-arrow\" style={{ top: '-9px', right: '8%' }} />\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-start word-break\">\r\n                        {post.content}\r\n                    </div>\r\n                    {post.image &&\r\n                        <div className=\"d-flex justify-content-start w-100\">\r\n                            <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                        </div>\r\n                    }\r\n                    <div className=\"d-flex justify-content-start align-items-start text-secondary mt-2 mb-1\">\r\n                        <Link\r\n                            to={`/post/${post.id}/comentar`}\r\n                            className=\"d-flex align-items-center text-secondary\"\r\n                            style={{ outline: 'none', textDecoration: 'none' }}\r\n                            onClick={e => e.stopPropagation()}\r\n                        >\r\n                            <i\r\n                                class=\"far fa-comment mr-1\"\r\n                            />\r\n                            <p style={{ margin: '0' }}>\r\n                                {post.comments.length}\r\n                            </p>\r\n                        </Link>\r\n                        <div className=\"d-flex align-items-center\">\r\n                            {post.likes.map(like => like.profile.id).includes(myProfile.id) ?\r\n                                <i class=\"fas fa-heart expand-animation mr-1  ml-2\"\r\n                                    data-postid={post.id}\r\n                                    onClick={likeUnlikePost}\r\n                                />\r\n                                :\r\n                                <i class=\"far fa-heart mr-1 ml-2\"\r\n                                    data-postid={post.id}\r\n                                    onClick={likeUnlikePost}\r\n                                />\r\n                            }\r\n                            <p className=\"m-0 likes-number\"\r\n                                onClick={e => {\r\n                                    e.stopPropagation()\r\n                                    props.openLikesModal(post.likes)\r\n                                }\r\n                                }\r\n                            >\r\n                                {post.likes.length}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li >\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport LikesModal from '../../../../../components/likesmodal'\r\nimport PostForm from './components/PostForm'\r\nimport PostListItem from '../../../../../components/PostListItem'\r\n\r\nexport default class Posts extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            posts: null,\r\n            likesModal: {\r\n                isOpen: false,\r\n                likes: null\r\n            },\r\n            postContent: '',\r\n            postFormImagePreview: null\r\n        }\r\n        this.scrollCount = 1\r\n\r\n        window.onscroll = () => {\r\n            if (Math.ceil(window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\r\n                this.scrollCount++\r\n                this.fetchPosts()\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ myProfile: data }))\r\n        this.fetchPosts()\r\n    }\r\n\r\n    fetchPosts = () => {\r\n        fetch(`${SERVER_URL}/post-api/post-list/${this.scrollCount}`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ posts: data }))\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <LikesModal\r\n                    isOpen={this.state.likesModal.isOpen}\r\n                    likes={this.state.likesModal.likes}\r\n                    hideModal={() => this.setState({ likesModal: { isOpen: false, likes: null } })}\r\n                />\r\n                {this.state.myProfile &&\r\n                    <div className=\"feed-create-post-form\">\r\n                        <PostForm myProfile={this.state.myProfile} />\r\n                    </div>\r\n                }\r\n                <div className=\"d-flex flex-column justify-content-center align-items-center w-100 h-100\">\r\n                    {this.state.posts && this.state.myProfile &&\r\n                        this.state.posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={this.state.myProfile}\r\n                                    renderParent={this.fetchPosts}\r\n                                    openLikesModal={likes => this.setState({ likesModal: { isOpen: true, likes: likes } })}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                    <div className=\"loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\n\r\n\r\nexport default function ProfilesSearchInput(props) {\r\n    const setFilteredProfiles = props.setFilteredProfiles\r\n    const [search, setSearch] = useState('')\r\n    const [searchType, setSearchType] = useState('byName')\r\n\r\n    useEffect(() => {\r\n        if (search.trim() === '') {\r\n            setFilteredProfiles(null)\r\n            return\r\n        }\r\n        if (searchType === 'byName') {\r\n            fetch(`${SERVER_URL}/profile-api/users/${search}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFilteredProfiles(data)\r\n                })\r\n        } else if (searchType === 'byInterest') {\r\n            fetch(`${SERVER_URL}/profile-api/users-by-interest/${search}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFilteredProfiles(data)\r\n                })\r\n        }\r\n    }, [search])\r\n\r\n    const openCloseSearchTypeSelector = () => {\r\n        const el = document.querySelector('#profiles-search-type-selector')\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            style.display = 'flex'\r\n        } else {\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const handleSearchTypeSelection = () => {\r\n        setSearchType(searchType === 'byName' ? 'byInterest' : 'byName')\r\n        openCloseSearchTypeSelector()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"profiles-filter-container\">\r\n                <div style={{ width: '89%' }}>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"profiles-filter-input\"\r\n                        placeholder={searchType === 'byName' ? 'Pesquisar perfil' : 'Digite um ou mais interesses'}\r\n                        value={search}\r\n                        onChange={e => setSearch(e.target.value)}\r\n                    />\r\n                </div>\r\n                <i\r\n                    className=\"fas fa-ellipsis-h btn profiles-search-extra-options-icon view-more-icon\"\r\n                    onClick={openCloseSearchTypeSelector}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"view-more-select\"\r\n                id=\"profiles-search-type-selector\"\r\n                style={{ right: '5%', top: '130px' }}\r\n                onClick={handleSearchTypeSelection}\r\n            >\r\n                {searchType === 'byName' ?\r\n                    <div className=\"position-relative\">\r\n                        <li className=\"d-flex align-items-center\">\r\n                            <i class=\"fas fa-grin-hearts text-secondary\" style={{ fontSize: 'large', marginRight: '5px' }} />\r\n                            Pesquisar por interesse\r\n                        </li>\r\n                        <div className=\"popover-arrow white-hover\" style={{ top: '-9px', left: '75%' }} />\r\n                    </div>\r\n                    :\r\n                    <div className=\"position-relative\">\r\n                        <li className=\"d-flex align-items-center\">\r\n                            <i class=\"fas fa-user text-secondary\" style={{ fontSize: 'large', marginRight: '5px' }} />\r\n                            Pesquisar por nome\r\n                        </li>\r\n                        <div className=\"popover-arrow white-hover\" style={{ top: '-9px', left: '75%' }} />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport { csrftoken } from '../../../../../config/utils'\r\nimport ProfileListItem from '../../../../../components/ProfileListItem'\r\nimport ProfilesSearchInput from './components/ProfilesSearchInput'\r\n\r\nexport default function Profiles() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [profiles, setProfiles] = useState(null)\r\n    const [filteredProfiles, setFilteredProfiles] = useState(null)\r\n    const [scrollCount, setScrollCount] = useState(1)\r\n\r\n    window.onscroll = () => {\r\n        if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\r\n            setScrollCount(scrollCount + 1)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile-list/${scrollCount}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setFilteredProfiles(null)\r\n                setProfiles(data)\r\n            })\r\n    }, [scrollCount])\r\n\r\n    const sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    const cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    const handleRelationshipUpdate = e => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else {\r\n            cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ProfilesSearchInput setFilteredProfiles={setFilteredProfiles} />\r\n            <div className=\"list-group\">\r\n                {myProfile && (profiles || filteredProfiles) &&\r\n                    <div className=\"w-100\" style={{ overflowY: 'hidden' }}>\r\n                        {filteredProfiles ? filteredProfiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem profile={profile} myProfile={myProfile} />\r\n                            )\r\n                        }\r\n                        ) : profiles && profiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem profile={profile} myProfile={myProfile}>\r\n                                    <button className=\"btn btn-secondary\" data-pk={profile.id} onClick={handleRelationshipUpdate}>\r\n                                        Solicitar\r\n                                    </button>\r\n                                </ProfileListItem>\r\n                            )\r\n                        })\r\n                        }\r\n                    </div>\r\n                }\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport ProfileListItem from './ProfileListItem'\r\n\r\nexport default function LikesModal(props) {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Curtidas</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {props.likes &&\r\n                        props.likes.map(like => like.profile).map(profile => {\r\n                            return (\r\n                                <ProfileListItem\r\n                                    profile={profile}\r\n                                    myProfile={myProfile}\r\n                                    style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    onClick={props.hideModal}\r\n                                />\r\n                            )\r\n                        })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport PostListItem from '../../../../../components/PostListItem'\r\nimport LikesModal from '../../../../../components/LikesModal'\r\n\r\n\r\nexport default function Explore() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [posts, setPosts] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    let selectedInterest = null\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setMyProfile(data)\r\n            })\r\n        fetchPosts()\r\n    }, [])\r\n\r\n    const fetchPosts = () => {\r\n        if (selectedInterest) {\r\n            fetch(`${SERVER_URL}/post-api/interest-post-list/${selectedInterest}`)\r\n                .then(response => response.json())\r\n                .then(data => setPosts(data))\r\n        } else {\r\n            fetch(`${SERVER_URL}/post-api/explore-post-list`)\r\n                .then(response => response.json())\r\n                .then(data => setPosts(data))\r\n        }\r\n    }\r\n\r\n    const switchPage = e => {\r\n        const element = e.target\r\n        document.querySelectorAll('.hashtag-container').forEach(el => {\r\n            el.classList.remove('active')\r\n        })\r\n        element.classList.add('active')\r\n        selectedInterest = element.innerText !== 'Todos' ? element.innerText : null\r\n        fetchPosts()\r\n    }\r\n\r\n    return (\r\n        <div className=\"explore-page-container\">\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={() => setLikesModal({ isOpen: false, likes: null })}\r\n            />\r\n            {myProfile !== null && posts !== null ?\r\n                <>\r\n                    <div className=\"hashtags-header\">\r\n                        <div className=\"hashtag-container active base-hover\" onClick={switchPage}>\r\n                            Todos\r\n                        </div>\r\n                        {myProfile.interests.map(interest => {\r\n                            return (\r\n                                <div className=\"hashtag-container base-hover\" onClick={switchPage}>\r\n                                    {interest.title}\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    <div className=\"post-list\">\r\n                        {posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={myProfile}\r\n                                    renderParent={fetchPosts}\r\n                                    openLikesModal={likes => setLikesModal({ isOpen: true, likes: likes })}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function Trending() {\r\n\r\n    return (\r\n        <div className=\"w-100 d-flex justify-content-center align-items-center pt-3\">\r\n            <h4 style={{ color: 'var(--primary-grey)' }}>Em breve...</h4>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default () => (\r\n    <Link to=\"/postar\">\r\n        <i className=\"fas fa-pencil-alt bottom-menu-action-icon btn-primary\" />\r\n    </Link>\r\n)","import React, { useContext } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport {\r\n    InvitesReceivedContext, UnvisualizedCommentsContext,\r\n    UnvisualizedLikesContext, UnreadMessagesContext\r\n} from '../../../context/app/AppContext'\r\n\r\nexport default function BottomMenu(props) {\r\n    const [invitesReceivedNumber,] = useContext(InvitesReceivedContext)\r\n    const [unvisualizedCommentsNumber,] = useContext(UnvisualizedCommentsContext)\r\n    const [unvisualizedLikesNumber,] = useContext(UnvisualizedLikesContext)\r\n\r\n    const [unreadMessagesNumber,] = useContext(UnreadMessagesContext)\r\n\r\n    let notificationsNumber = invitesReceivedNumber + unvisualizedLikesNumber + unvisualizedCommentsNumber\r\n\r\n    return (\r\n        <>\r\n            <div className=\"bottom-menu-action-icon-container fixed-bottom\">\r\n                {props.children}\r\n            </div>\r\n            <div className=\"bottom-menu fixed-bottom\">\r\n                <ul>\r\n                    <li>\r\n                        <NavLink to=\"/home\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/notificações\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                            {!notificationsNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {notificationsNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/mensagens\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-envelope bottom-menu-icon\" />\r\n                            {!unreadMessagesNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {unreadMessagesNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/perfil\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to=\"/configurações\" className=\"bottom-menu-item\" style={{ textDecoration: 'none' }} activeClassName=\"c-primary-color\">\r\n                            <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                        </NavLink>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function HomePageMenu(props) {\r\n    const setPage = props.setPage\r\n\r\n    const feedPageTitle = props.feedPageTitle\r\n    const profilesPageTitle = props.profilesPageTitle\r\n    const explorePageTitle = props.explorePageTitle\r\n    const trendsPageTitle = props.trendsPageTitle;\r\n\r\n    const isMobile = visualViewport.width <= 980\r\n\r\n    function handleMouseIn(e, text) {\r\n        if (!isMobile) {\r\n            e.target.innerHTML = text\r\n        }\r\n    }\r\n\r\n    function handleMouseOut(e, icon) {\r\n        if (!isMobile) {\r\n            e.target.innerHTML = icon\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"home-page-menu\">\r\n            <div className=\"home-menu-btn-container b-bottom home-menu-btn-container-active b-right feed\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Feed')}\r\n                    onMouseEnter={e => handleMouseIn(e, feedPageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-home ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-home ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"home-menu-btn-container b-bottom b-right profiles\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Profiles')}\r\n                    onMouseEnter={e => handleMouseIn(e, profilesPageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-user-friends ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-user-friends ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"home-menu-btn-container b-bottom b-right explore\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Explore')}\r\n                    onMouseEnter={e => handleMouseIn(e, explorePageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-search ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-search ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"home-menu-btn-container b-bottom trending\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Trending')}\r\n                    onMouseEnter={e => handleMouseIn(e, trendsPageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-chart-line ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-chart-line ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport Header from '../../../components/fixed/Header'\r\nimport Posts from './components/posts_/Posts'\r\nimport Profiles from './components/profiles/Profiles'\r\nimport Explore from './components/explore/Explore'\r\nimport Trending from './components/trending/Trending'\r\nimport PostIcon from '../../../components/fixed/bottom-menu/components/PostIcon'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\nimport HomePageMenu from './components/HomePageMenu'\r\n\r\nexport default function Home(props) {\r\n    const [page, setPage] = useState('Feed')\r\n\r\n    const pages = {\r\n        'Feed': <Posts />,\r\n        'Profiles': <Profiles />,\r\n        'Explore': <Explore />,\r\n        'Trending': <Trending />,\r\n    }\r\n\r\n    document.title = 'Home / Napker'\r\n\r\n    useEffect(() => {\r\n        const elements = document.querySelectorAll('.' + page.toLowerCase())\r\n        document.querySelectorAll('.home-menu-btn-container-active').forEach(el => el.classList.remove('home-menu-btn-container-active'))\r\n        elements.forEach(el => el.classList.add('home-menu-btn-container-active'))\r\n    }, [page])\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Home\" />\r\n            <div className=\"content\">\r\n                <div className=\"desktop-home-menu\">\r\n                    <HomePageMenu\r\n                        setPage={setPage}\r\n                        feedPageTitle='Feed'\r\n                        profilesPageTitle='Encontrar perfis'\r\n                        explorePageTitle='Descobrir'\r\n                        newsPageTitle='Notícias'\r\n                        trendsPageTitle='Tendências'\r\n                    />\r\n                </div>\r\n                <div className=\"mobile-home-menu\">\r\n                    <HomePageMenu setPage={setPage} />\r\n                </div>\r\n                {pages[page]}\r\n            </div>\r\n            <BottomMenu>\r\n                <PostIcon />\r\n            </BottomMenu>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function InviteListItem(props) {\r\n    const invite = props.invite\r\n    const replyRequest = props.replyRequest\r\n\r\n    return (\r\n        <li\r\n            className=\"d-flex justify-content-between w-100 b-bottom\"\r\n            style={{ padding: '30px', backgroundColor: 'var(--theme-base-color)' }}\r\n            id={`fr-${invite.sender.id}`}\r\n            key={invite.sender.id}\r\n            onClick={() => window.location.href = `/user/${invite.sender.slug}`}\r\n        >\r\n            <div className=\"d-flex\">\r\n                <div className=\"profile-img-container\">\r\n                    <img src={`${SERVER_URL}${invite.sender.photo}`}\r\n                        className=\"profile-img-med\"\r\n                        style={{ marginRight: '10px' }}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column w-100\">\r\n                    <div className=\"profile-row-top\">\r\n                        <div className=\"main-profile-data\">\r\n                            <strong style={{ textAlign: 'start' }}>\r\n                                {invite.sender.first_name} {invite.sender.last_name}\r\n                            </strong>\r\n                            <span className=\"text-secondary text-left\"> @{invite.sender.user.username}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"profile-row-bottom text-left\">\r\n                        {invite.sender.bio}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex align-items-center\">\r\n                <button className=\"btn btn-primary btn-reply-fr mr-1\" data-senderid={invite.sender.id} data-reply='accept' onClick={replyRequest}>\r\n                    Aceitar\r\n                </button>\r\n                <button className=\"btn btn-grey btn-reply-fr\" data-senderid={invite.sender.id} data-reply='decline' onClick={replyRequest}>\r\n                    Excluir\r\n                </button>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function NotificationContent(props) {\r\n    const notification = props.notification\r\n\r\n    if (props.type == \"like\") {\r\n        var author = notification.profile\r\n        var content = notification.post.content\r\n        var icon = \"fas fa-heart\"\r\n        var color = 'var(--heart-color)'\r\n    } else if (props.type === 'comment') {\r\n        var author = notification.author\r\n        var content = notification.content\r\n        var icon = \"fas fa-comment\"\r\n        var color = 'var(--primary-color)'\r\n    }\r\n\r\n    return (\r\n        <li className=\"d-flex w-100 white-hover b-bottom\" style={{ padding: '15px 15px', background: 'var(--theme-base-color)' }} \r\n            key={author.id}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <i class={icon} style={{ fontSize: '30px', color: color }}/>\r\n            </div>\r\n            <div className=\"d-flex flex-column justify-content-start align-items-start h-100 w-100\">\r\n                <div className=\"d-flex justify-content-center align-items-center\">\r\n                    <Link to={`/user/${author.slug}`}>\r\n                        <img src={`${SERVER_URL}${author.photo}`}\r\n                            className=\"profile-img-med\"\r\n                            style={{ marginRight: '10px' }}\r\n                        />\r\n                    </Link>\r\n                    <p className=\"text-secondary d-inline-block\" style={{ margin: '0' }}>\r\n                        {notification.created.split('-').reverse().join('/')}\r\n                        {\" • \"}\r\n                        {props.children}\r\n                        <Link to={`/user/${author.slug}`} style={{ color: \"#000\" }}>\r\n                            @{author.user.username}\r\n                        </Link> curtiu seu post.\r\n                    </p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-start word-break w-100\"\r\n                     style={{ paddingTop: '10px'}}\r\n                >\r\n                    {content}\r\n                </div>\r\n                <div className=\"d-flex justify-content-end w-100\">\r\n                    <Link to={`/post/${notification.post.id}`}>\r\n                        <button className=\"btn btn-primary\" style={{height: '37px', width: '100px' }}>\r\n                            Ver Post\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function NewLabel() {\r\n    return (\r\n        <div className=\"notification-text-container\">\r\n            <div className=\"notification-text\">\r\n                novo\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\nimport Header from '../../../components/fixed/Header'\r\nimport InviteNotification from './components/InviteNotification'\r\nimport NotificationContent from './components/NotificationContent'\r\nimport NewLabel from './components/NewLabel'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function Notifications(props) {\r\n    const [invites, setInvites] = useState(null)\r\n    const [unvisualizedPostLikes, setUnvisualizedPostLikes] = useState(null)\r\n    const [visualizedPostLikes, setVisualizedPostLikes] = useState(null)\r\n    const [unvisualizedComments, setUnvisualizedComments] = useState(null)\r\n    const [visualizedComments, setVisualizedComments] = useState(null)\r\n\r\n    let notificationsFetchInterval\r\n\r\n    document.title = 'Notificações / Napker'\r\n\r\n    const fetchNotifications = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvites(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedComments(data))\r\n        fetch(`${SERVER_URL}/post-api/post-likes-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/post-comments-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedComments(data))\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchNotifications()\r\n        notificationsFetchInterval = window.setInterval(fetchNotifications, 3000)\r\n        return () => window.clearInterval(notificationsFetchInterval)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedPostLikes && unvisualizedPostLikes.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-likes`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedPostLikes])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedComments && unvisualizedComments.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-comments`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedComments])\r\n\r\n    const replyRequest = e => {\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        const requestBody = {\r\n            'senderid': btn.dataset.senderid,\r\n            'reply': btn.dataset.reply\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(requestBody)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                props.updateNotificationsNumber()\r\n            })\r\n        document.getElementById(`fr-${btn.dataset.senderid}`).remove()\r\n        fetchNotifications()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Notificações\" />\r\n            <div className=\"content\">\r\n                <div>\r\n                    {invites !== null && unvisualizedPostLikes && visualizedPostLikes !== null && unvisualizedComments !== null && visualizedComments !== null ?\r\n                        <div>\r\n                            {invites.length || unvisualizedPostLikes.length || visualizedPostLikes.length || unvisualizedComments.length || !!visualizedComments.length ?\r\n                                <div className=\"notifications-container\">\r\n                                    {!!invites.length &&\r\n                                        <div>\r\n                                            {invites.map(invite => {\r\n                                                return (\r\n                                                    <InviteNotification\r\n                                                        invite={invite}\r\n                                                        replyRequest={replyRequest}\r\n                                                    />\r\n                                                )\r\n                                            })}\r\n                                        </div>\r\n                                    }\r\n\r\n                                    {(!!unvisualizedPostLikes.length || !!unvisualizedComments.length) &&\r\n                                        <>\r\n                                            {!!unvisualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {unvisualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={like} type={\"like\"}>\r\n                                                                <NewLabel />\r\n                                                            </NotificationContent>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!unvisualizedComments.length &&\r\n                                                <>\r\n                                                    {unvisualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={comment} type={\"comment\"}>\r\n                                                                <NewLabel />\r\n                                                            </NotificationContent>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                    {(!!visualizedPostLikes.length || !!visualizedComments.length) &&\r\n                                        <>\r\n                                            {!!visualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {visualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={like} type={\"like\"}/>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!visualizedComments.length &&\r\n                                                <>\r\n                                                    {visualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={comment} type={\"comment\"} />\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                </div> :\r\n                                <div className=\"d-flex justify-content-center mt-5\">\r\n                                    <h3>Você não tem nenhuma notificação</h3>\r\n                                </div>\r\n                            }\r\n\r\n                        </div> :\r\n                        <div className=\"d-flex justify-content-center mt-5\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function ModalContactSearch(props) {\r\n    const modalProfiles = props.modalProfiles\r\n    const setParentState = props.setParentState\r\n    const addingNewChat = props.addingNewChat\r\n\r\n    const setModalSearch = query => {\r\n        if (query === '') {\r\n            setParentState({\r\n                modalProfiles: []\r\n            })\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/users/${query}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setParentState({\r\n                    modalProfiles: data\r\n                })\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            show={addingNewChat}\r\n            onHide={() => setParentState({ addingNewChat: false })}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Nova conversa</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body style={{ padding: '0' }}>\r\n                <input\r\n                    className=\"modal-search-input\"\r\n                    placeholder=\"Pesquisar pessoas\"\r\n                    onChange={e => setModalSearch(e.target.value)}\r\n                />\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {modalProfiles && modalProfiles.map(profile => {\r\n                        return (\r\n                            <Link to={`/mensagens/${profile.slug}`}\r\n                                style={{ color: 'var(--primary-grey)', textDecoration: 'none' }}\r\n                                onClick={() => setParentState({ addingNewChat: false })}\r\n                            >\r\n                                <li\r\n                                    className=\"position-relative border-0 b-bottom base-hover\"\r\n                                    key={profile.id}\r\n                                    style={{ ...props.style, padding: '.75rem 1.25rem', background: 'var(--theme-base-color)' }}\r\n                                    onClick={props.onClick}\r\n                                >\r\n                                    <div className=\"d-flex\">\r\n                                        <div className=\"profile-img-container\">\r\n                                            <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                className=\"profile-img-med\"\r\n                                                style={{ marginRight: '10px' }}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"d-flex flex-column w-100\">\r\n                                            <div className=\"profile-row-top\">\r\n                                                <div className=\"main-profile-data\">\r\n                                                    <strong style={{ textAlign: 'start' }}>\r\n                                                        {profile.first_name} {profile.last_name}\r\n                                                    </strong>\r\n                                                    <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                </div>\r\n                                                {props.children}\r\n                                            </div>\r\n                                            <div className=\"profile-row-bottom\">\r\n                                                {profile.bio}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import { SOCKET_URL } from '../../../config/settings'\r\n\r\nclass WebSocketService {\r\n  static instance = null;\r\n  callbacks = {};\r\n\r\n  static getInstance() {\r\n    if (!WebSocketService.instance) {\r\n      WebSocketService.instance = new WebSocketService();\r\n    }\r\n    return WebSocketService.instance;\r\n  }\r\n\r\n  constructor() {\r\n    this.socketRef = null;\r\n  }\r\n\r\n  connect(chatUrl) {\r\n    const path = `${SOCKET_URL}/ws/chat/${chatUrl}/`;\r\n    this.socketRef = new WebSocket(path);\r\n    this.socketRef.onopen = () => {\r\n      console.log(\"WebSocket open\");\r\n    };\r\n    this.socketNewMessage(JSON.stringify({\r\n      command: 'fetch-messages'\r\n    }))\r\n    this.socketRef.onmessage = e => {\r\n      this.socketNewMessage(e.data);\r\n    };\r\n    this.socketRef.onerror = e => {\r\n      console.log(e.message);\r\n    };\r\n    this.socketRef.onclose = () => {\r\n      console.log(\"WebSocket closed\");\r\n    };\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socketRef) this.socketRef.close();\r\n  }\r\n\r\n  socketNewMessage(data) {\r\n    const parsedData = JSON.parse(data);\r\n    const command = parsedData.command;\r\n    if (Object.keys(this.callbacks).length === 0) {\r\n      return;\r\n    }\r\n    if (command === \"messages\") {\r\n      this.callbacks[command](parsedData.messages);\r\n    }\r\n    if (command === \"new_message\") {\r\n      this.callbacks[command](parsedData.message);\r\n    }\r\n  }\r\n\r\n  fetchMessages(username, chatId) {\r\n    this.sendMessage({\r\n      command: \"fetch_messages\",\r\n      username: username,\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  newChatMessage(message) {\r\n    this.sendMessage({\r\n      command: \"new_message\",\r\n      from: message.from,\r\n      content: message.content,\r\n      chatId: message.chatId\r\n    });\r\n  }\r\n\r\n  readMessages(chatId) {\r\n    this.sendMessage({\r\n      command: \"read_messages\",\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  addCallbacks(messagesCallback, newMessageCallback) {\r\n    this.callbacks[\"messages\"] = messagesCallback\r\n    this.callbacks[\"new_message\"] = newMessageCallback\r\n  }\r\n\r\n  sendMessage(data) {\r\n    try {\r\n      if (this.state() === 1) {\r\n        this.socketRef.send(JSON.stringify({ ...data }))\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message)\r\n    }\r\n  }\r\n\r\n  state() {\r\n    return this.socketRef ? this.socketRef.readyState : 0\r\n  }\r\n}\r\n\r\nconst WebSocketInstance = WebSocketService.getInstance();\r\n\r\nexport default WebSocketInstance;","import React, { useState } from 'react'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { openCloseEmojiList } from '../../../../../../config/utils'\r\n\r\nexport default function SendMessageForm(props) {\r\n    const WebSocketInstance = props.WebSocketInstance\r\n    const chatId = props.chatId\r\n    const username = props.username\r\n    const otherProfile = props.otherProfile\r\n    const myProfile = props.myProfile\r\n    const updateMessagesComponent = props.updateMessagesComponent\r\n\r\n    const [message, setMessage] = useState('')\r\n\r\n    const messageChangeHandler = e => {\r\n        setMessage(e.target.value)\r\n        const el = document.querySelector('#chat-message-submit')\r\n        el.disabled = e.target.value.trim() === ''\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setMessage(message + emojiObject.emoji)\r\n        document.querySelector('#chat-message-submit').disabled = false\r\n    }\r\n\r\n    const sendMessageHandler = e => {\r\n        e.preventDefault()\r\n        const messageObject = {\r\n            from: username,\r\n            content: message,\r\n            chatId: chatId\r\n        };\r\n        setMessage('')\r\n        if (otherProfile.blocked_users.map(u => u.id).includes(myProfile.user.id)) {\r\n            window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\r\n            ${otherProfile.first_name} te bloqueou.`)\r\n            return\r\n        }\r\n        if (myProfile.blocked_users.map(u => u.id).includes(otherProfile.user.id)) {\r\n            window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\r\n            Você bloqueou ${otherProfile.first_name}.`)\r\n            return\r\n        }\r\n        WebSocketInstance.newChatMessage(messageObject)\r\n        document.querySelector('#chat-message-submit').disabled = true\r\n        openCloseEmojiList(true)\r\n        updateMessagesComponent()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                <Picker onEmojiClick={onEmojiSelect} />\r\n            </div>\r\n            <form\r\n                className=\"d-flex justify-content-center align-items-center w-100 px-1 py-3\"\r\n                style={{ borderTop: '2px solid var(--border-color)' }}\r\n                onSubmit={sendMessageHandler}\r\n            >\r\n                <label\r\n                    className=\"far fa-smile mb-0\"\r\n                    id=\"emoji-button\"\r\n                    onClick={() => openCloseEmojiList(false)}\r\n                />\r\n                <input\r\n                    placeholder=\"Mensagem\"\r\n                    className=\"message-input\"\r\n                    id=\"chat-message-input\"\r\n                    value={message}\r\n                    autoFocus={document.querySelector('#contact-filter-input').value === ''}\r\n                    onChange={messageChangeHandler}\r\n                />\r\n                <button\r\n                    className=\"btn btn-primary d-flex justify-content-center align-items-center\"\r\n                    id=\"chat-message-submit\"\r\n                    style={{ height: '35px' }}\r\n                    disabled\r\n                >\r\n                    <i class=\"fas fa-chevron-right\" style={{ fontSize: 'large' }} />\r\n                </button>\r\n            </form>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function MessageListItem(props) {\r\n    const message = props.message\r\n    const currentUser = props.currentUser\r\n\r\n    const renderTimestamp = timestamp => {\r\n        const ts = new Date(timestamp)\r\n        const day = ts.getDate() >= 10 ? ts.getDate() : `0${ts.getDate()}`\r\n        const month = ts.getMonth() >= 10 ? ts.getMonth() : `0${ts.getMonth()}`\r\n        const hour = ts.getHours() >= 10 ? ts.getHours() : `0${ts.getHours()}`\r\n        const minute = ts.getMinutes() >= 10 ? ts.getMinutes() : `0${ts.getMinutes()}`\r\n        return `${day}/${month}/${ts.getFullYear()} - ${hour}:${minute}`\r\n    }\r\n\r\n    return (\r\n        <li\r\n            key={message.id}\r\n            className={message.author === currentUser ? \"sent\" : \"received\"}\r\n        >\r\n            <p>\r\n                {message.content}\r\n                <br />\r\n                <small>\r\n                    {renderTimestamp(message.timestamp)} {message.author === currentUser ?\r\n                        message.read ?\r\n                            <i class=\"fas fa-check-double\" />\r\n                            :\r\n                            <i class=\"fas fa-check\" />\r\n                        :\r\n                        ''\r\n                    }\r\n                </small>\r\n            </p>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { csrftoken } from '../../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport WebSocketInstance from '../../websocket'\r\nimport SendMessageForm from './components/SendMessageForm'\r\nimport MessageListItem from './components/MessageListItem'\r\n\r\nclass Chat extends React.Component {\r\n    initialiseChat() {\r\n        console.log('initializing chat...')\r\n        this.waitForSocketConnection(() => {\r\n            WebSocketInstance.addCallbacks(\r\n                this.getMessages.bind(this),\r\n                this.addMessage.bind(this),\r\n            )\r\n            WebSocketInstance.fetchMessages(\r\n                this.props.username,\r\n                this.props.chatId\r\n            );\r\n        });\r\n        if (this.props.chatId) WebSocketInstance.connect(this.props.chatId)\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            messages: [],\r\n            scrolledToBottom: false,\r\n            myProfile: null,\r\n            otherUsername: this.props.otherUsername,\r\n            otherProfile: null\r\n        }\r\n        this.initialiseChat();\r\n    }\r\n\r\n    handleComponentChange = () => {\r\n        if (this.state.otherUsername && (!this.state.otherProfile || this.state.otherProfile.user.username !== this.state.otherUsername)) {\r\n            fetch(`${SERVER_URL}/profile-api/user/${this.state.otherUsername}`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({\r\n                    otherProfile: data\r\n                }))\r\n        }\r\n        if (!this.state.myProfile) {\r\n            fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({ myProfile: data }))\r\n        }\r\n        if (this.state.messages.length && !this.state.scrolledToBottom && document.querySelectorAll('.sent, .received').length) {\r\n            this.scrollToBottom()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n        document.querySelector('#contact-filter-input') &&\r\n            document.activeElement !== document.querySelector('#contact-filter-input') &&\r\n            document.querySelector('#chat-message-input') &&\r\n            document.querySelector('#chat-message-input').focus()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        WebSocketInstance.disconnect()\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.chatId && newProps.chatId !== this.props.chatId && newProps.otherUsername && WebSocketInstance.state() !== 1) {\r\n            this.waitForSocketConnection(() => {\r\n                WebSocketInstance.fetchMessages(\r\n                    newProps.username,\r\n                    newProps.chatId\r\n                );\r\n            });\r\n            WebSocketInstance.connect(newProps.chatId)\r\n            this.readMessages(newProps)\r\n\r\n            this.props.updateMessagesComponent()\r\n            this.setState({\r\n                messages: [],\r\n                scrolledToBottom: false,\r\n            })\r\n        }\r\n        if (this.state.otherUsername !== newProps.otherUsername) {\r\n            this.setState({\r\n                otherUsername: newProps.otherUsername\r\n            })\r\n        }\r\n        if (this.props.updateUnreadMessagesNumber) {\r\n            this.props.updateUnreadMessagesNumber()\r\n        }\r\n        if (this.state.otherUsername && !newProps.otherUsername) {\r\n            WebSocketInstance.disconnect()\r\n            this.setState({\r\n                otherUsername: undefined,\r\n                otherProfile: undefined\r\n            })\r\n        }\r\n    }\r\n\r\n    readMessages = props => {\r\n        fetch(`${SERVER_URL}/chat-api/read-messages`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({ chat_id: props.chatId })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                WebSocketInstance.readMessages(this.props.chatId)\r\n            })\r\n    }\r\n\r\n    waitForSocketConnection(callback) {\r\n        const component = this;\r\n        setTimeout(function () {\r\n            if (WebSocketInstance.state() === 1) {\r\n                console.log(\"Connection is made\");\r\n                callback();\r\n                return;\r\n            } else {\r\n                console.log(\"wait for connection...\");\r\n                component.waitForSocketConnection(callback);\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    getMessages(messages) {\r\n        this.setState({ messages: messages.reverse() })\r\n    }\r\n\r\n    addMessage(message) {\r\n        this.setState({\r\n            messages: [...this.state.messages, message],\r\n            scrolledToBottom: false\r\n        })\r\n        this.readMessages(this.props)\r\n    }\r\n\r\n    scrollToBottom = () => {\r\n        if (document.querySelector('#chat-log')) {\r\n            const chatLog = document.querySelector('#chat-log')\r\n            chatLog.scrollTop = chatLog.scrollHeight\r\n            this.setState({\r\n                scrolledToBottom: true\r\n            })\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.state.otherProfile !== null || !this.props.otherUsername ?\r\n                    <>\r\n                        {this.state.otherProfile ?\r\n                            <div\r\n                                className=\"d-flex flex-column justify-content-between align-items-center h-100 b-theme-base-color current-chat\"\r\n                                style={{ width: '60%' }}\r\n                            >\r\n                                <div className=\"current-chat-header\">\r\n                                    <i class=\"fas fa-arrow-left left-arrow-icon d-none\" onClick={() => window.history.back()} />\r\n                                    <Link to={`/user/${this.state.otherProfile.slug}`}>\r\n                                        <img src={`${SERVER_URL}${this.state.otherProfile.photo}`}\r\n                                            className=\"profile-img-sm\"\r\n                                            style={{ marginRight: '5px' }}\r\n                                        />\r\n                                    </Link>\r\n                                    <div className=\"d-flex flex-column align-items-start\" style={{ height: '52px' }}>\r\n                                        <strong>{this.state.otherProfile.first_name} {this.state.otherProfile.last_name}</strong>\r\n                                        <p className=\"text-secondary\">@{this.state.otherProfile.user.username}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"chat-log\" className=\"chat-log\">\r\n                                    {this.state.messages.map(message => {\r\n                                        return (\r\n                                            <MessageListItem message={message} currentUser={this.props.username} />\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                </div>\r\n                                <SendMessageForm\r\n                                    WebSocketInstance={WebSocketInstance}\r\n                                    chatId={this.props.chatId}\r\n                                    username={this.props.username}\r\n                                    otherProfile={this.state.otherProfile}\r\n                                    myProfile={this.state.myProfile}\r\n                                    updateMessagesComponent={this.props.updateMessagesComponent}\r\n                                />\r\n                            </div>\r\n                            :\r\n                            <div\r\n                                className=\"d-flex flex-column justify-content-center align-items-center h-100 no-chat-selected\"\r\n                                style={{ width: '60%' }}\r\n                            >\r\n                                <div>\r\n                                    <strong style={{ fontSize: 'larger' }}>Você não tem uma conversa selecionada</strong>\r\n                                    <p className=\"text-secondary\">Selecione uma existente ou comece uma nova</p>\r\n                                    <button className=\"btn btn-primary\" onClick={() => this.props.openModal()}>Nova conversa</button>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"loader-container\" style={{ width: '60%' }}>\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Chat\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function ContactListItem(props) {\r\n    const profile = props.profile\r\n    const activeChats = props.activeChats\r\n    const activeChatsProfiles = props.activeChatsProfiles\r\n    let unreadMessagesCounter\r\n    let lastChatMessage\r\n\r\n    const resetUnreadMessagesCounter = () => {\r\n        unreadMessagesCounter = 0\r\n    }\r\n\r\n    const incrementUnreadMessagesCounter = () => {\r\n        unreadMessagesCounter++\r\n    }\r\n\r\n    const setLastChatMessage = message => {\r\n        lastChatMessage = message\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {profile !== undefined &&\r\n                <Link to={`/mensagens/${profile.slug}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                    {resetUnreadMessagesCounter()}\r\n                    <li className=\"list-item d-flex justify-content-start p-2 b-bottom b-theme-base-color c-primary-grey base-hover\" style={{ whiteSpace: 'nowrap' }}>\r\n                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                            className=\"profile-img-sm\"\r\n                            style={{ marginRight: '10px' }}\r\n                        />\r\n                        <div className=\"d-flex flex-column align-items-start\">\r\n                            <div className=\"d-flex\" style={{ maxHeight: '30px' }}>\r\n                                <strong style={{ height: 'fit-content' }}>{profile.first_name} {profile.last_name}</strong>\r\n                                {activeChats[activeChatsProfiles.indexOf(profile)].messages.map((message, i, messages) => {\r\n                                    if (messages[messages.length - 1] === message) setLastChatMessage(message.content)\r\n                                    if (message.read || message.contact.user.username !== profile.user.username) return\r\n                                    incrementUnreadMessagesCounter()\r\n                                })}\r\n                                {unreadMessagesCounter > 0 &&\r\n                                    <div className=\"notification-text-container\">\r\n                                        <div className=\"notification-text\">\r\n                                            {unreadMessagesCounter}\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                <p className=\"text-secondary\" style={{ marginLeft: '5px' }}>@{profile.user.username}</p>\r\n                            </div>\r\n                            <p className=\"text-secondary\">{lastChatMessage.slice(0, 40)}</p>\r\n                        </div>\r\n                    </li>\r\n                </Link>\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function ContactFilterInput(props) {\r\n    const activeChatsProfiles = props.activeChatsProfiles\r\n    const setHasFilteredProfiles = props.setHasFilteredProfiles\r\n    const fetchActiveChatProfiles = props.fetchActiveChatProfiles\r\n    const setParentState = props.setParentState\r\n    const openModal = props.openModal\r\n\r\n    const setContactSearch = query => {\r\n        if (query === '') {\r\n            setHasFilteredProfiles(false)\r\n            fetchActiveChatProfiles()\r\n            return\r\n        }\r\n        if (activeChatsProfiles) {\r\n            console.log(activeChatsProfiles)\r\n            const filteredProfiles = activeChatsProfiles.filter(p => p.user.username.includes(query))\r\n            setHasFilteredProfiles(true)\r\n            setParentState({\r\n                renderedActiveChatsProfiles: filteredProfiles\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"search-input-container\">\r\n            <input\r\n                className=\"search-input contact-filter-input\"\r\n                id=\"contact-filter-input\"\r\n                placeholder=\"Pesquisar pessoas\"\r\n                onChange={e => setContactSearch(e.target.value)}\r\n            />\r\n            <i className=\"fas fa-plus add-icon\" onClick={openModal}></i>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport Header from '../../../components/fixed/Header'\r\nimport ModalContactSearch from './components/ModalContactSearch'\r\nimport Chat from './components/chat_/Chat'\r\nimport ContactListItem from './components/ContactListItem'\r\nimport ContactFilterInput from './components/ContactFilterInput'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\nimport WebSocketInstance from './websocket'\r\n\r\nexport default class Messages extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            username: null,\r\n            chatId: null,\r\n            activeChats: null,\r\n            activeChatsProfiles: null,\r\n            renderedActiveChatsProfiles: null,\r\n            addingNewChat: false,\r\n            modalProfiles: [],\r\n        }\r\n        this.rerenderingInterval = null\r\n        this.hasFilteredProfiles = false\r\n    }\r\n\r\n    handleReceiveProps = props => {\r\n        if (props.match.params.slug) {\r\n            if (props.match.params.slug !== this.props.match.params.slug && WebSocketInstance.state() === 1) {\r\n                WebSocketInstance.disconnect()\r\n            }\r\n            const participants = { username: this.state.username, other_username: props.match.params.slug }\r\n            fetch(`${SERVER_URL}/chat-api/chat-id/${JSON.stringify(participants)}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({ chatId: data['chat_id'] })\r\n                })\r\n        } else if (this.state.chatId) {\r\n            this.setState({\r\n                chatId: null\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps === this.props) return\r\n        this.handleReceiveProps(newProps)\r\n    }\r\n\r\n    handleComponentChange() {\r\n        if (!this.state.username) {\r\n            fetch(`${SERVER_URL}/profile-api/logged-user`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({\r\n                        username: data.username\r\n                    })\r\n                    if (this.props.match.params.slug) {\r\n                        this.handleReceiveProps(this.props)\r\n                    }\r\n                })\r\n        }\r\n        if (!this.state.activeChatsProfiles && this.state.activeChatsProfiles !== []) {\r\n            this.fetchActiveChatProfiles()\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.title = 'Mensagens / Napker'\r\n        this.handleComponentChange()\r\n        this.rerenderingInterval = window.setInterval(this.fetchActiveChatProfiles, 4000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.clearInterval(this.rerenderingInterval)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n    fetchActiveChatProfiles = () => {\r\n        fetch(`${SERVER_URL}/chat-api/active-chats-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!this.state.username) return\r\n                if (!this.hasFilteredProfiles) {\r\n                    this.setState({\r\n                        activeChats: data.chats,\r\n                        activeChatsProfiles: data.profiles,\r\n                        renderedActiveChatsProfiles: data.profiles\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({\r\n            addingNewChat: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page=\"Mensagens\" />\r\n                <div className=\"content d-flex messages-wrapper\">\r\n                    <ModalContactSearch\r\n                        addingNewChat={this.state.addingNewChat}\r\n                        setParentState={this.setState.bind(this)}\r\n                        modalProfiles={this.state.modalProfiles}\r\n                    />\r\n                    <div className=\"chats-list h-100\">\r\n                        <ContactFilterInput\r\n                            activeChatsProfiles={this.state.activeChatsProfiles}\r\n                            setHasFilteredProfiles={bool => this.hasFilteredProfiles = bool}\r\n                            fetchActiveChatProfiles={this.fetchActiveChatProfiles}\r\n                            setParentState={this.setState.bind(this)}\r\n                            openModal={this.openModal}\r\n                        />\r\n                        {this.state.renderedActiveChatsProfiles !== null ?\r\n                            <div className=\"list-group chats-container\" style={{ background: 'var(--background)' }}>\r\n                                {this.state.renderedActiveChatsProfiles.map(profile => {\r\n                                    return (\r\n                                        <ContactListItem\r\n                                            profile={profile}\r\n                                            activeChats={this.state.activeChats}\r\n                                            activeChatsProfiles={this.state.activeChatsProfiles}\r\n                                        />\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            :\r\n                            <div className=\"loader-container\">\r\n                                <div className=\"loader\" />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    <Chat\r\n                        username={this.state.username}\r\n                        otherUsername={this.props.match.params.slug}\r\n                        chatId={this.state.chatId}\r\n                        openModal={this.openModal}\r\n                        updateUnreadMessagesNumber={this.props.updateUnreadMessagesNumber}\r\n                        updateMessagesComponent={this.fetchActiveChatProfiles}\r\n                    />\r\n                </div>\r\n                {!this.props.match.params.slug &&\r\n                    <BottomMenu />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const ProfileImageContext = createContext()\r\n\r\nexport const ProfileImageProvider = props => {\r\n    const [profileImage, setProfileImage] = useState(null)\r\n\r\n    return (\r\n        <ProfileImageContext.Provider value={[profileImage, setProfileImage]}>\r\n            {props.children}\r\n        </ProfileImageContext.Provider>\r\n    )\r\n}","import React, { createContext } from 'react'\r\n\r\nimport { ProfileImageContext, ProfileImageProvider } from './profile-image/ProfileImageContext'\r\nexport { ProfileImageContext }\r\n\r\nexport const EditProfileContext = createContext()\r\n\r\nexport default function EditProfileProvider(props) {\r\n    return (\r\n        <EditProfileContext.Provider>\r\n            <ProfileImageProvider>\r\n                {props.children}\r\n            </ProfileImageProvider>\r\n        </EditProfileContext.Provider>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useRef } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Cropper from \"cropperjs\";\r\n\r\nimport \"cropperjs/dist/cropper.min.css\";\r\n\r\nimport { ProfileImageContext } from '../../../../../../context/edit-profile/EditProfileContext'\r\n\r\n\r\nexport default function CroppieModal(props) {\r\n    const [profileImage, setProfileImage] = useContext(ProfileImageContext)\r\n\r\n    const imageElement = useRef()\r\n\r\n    useEffect(() => {\r\n        const cropper = new Cropper(imageElement.current, {\r\n            viewMode: 1,\r\n            scalable: false,\r\n            aspectRatio: 1,\r\n            crop: () => {\r\n                const canvas = cropper.getCroppedCanvas();\r\n                setProfileImage(canvas.toDataURL(\"image/png\"))\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton>\r\n                <div className=\"d-flex justify-content-between align-items-center w-100\">\r\n                    <div className=\"d-flex justify-content-center align-items-center\">\r\n                        <i class=\"fas fa-arrow-left left-arrow-icon\" onClick={props.stopCropping} />\r\n                        <Modal.Title>Editar perfil</Modal.Title>\r\n                    </div>\r\n                    <button className=\"btn btn-primary\" onClick={props.stopCropping}>\r\n                        Aplicar\r\n                    </button>\r\n                </div>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div>\r\n                    <div className=\"d-flex justify-content-center w-100\" style={{ maxHeight: '480px' }}>\r\n                        <img className=\"mw-100 mh-100\" ref={imageElement} src={profileImage} alt=\"Source\" crossorigin />\r\n                    </div>\r\n                </div>\r\n            </Modal.Body>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport { csrftoken, openCloseEmojiList } from '../../../../../../config/utils'\r\nimport { ProfileImageContext } from '../../../../../../context/edit-profile/EditProfileContext'\r\n\r\n\r\nexport default function EditProfileModal(props) {\r\n    const profile = props.profile\r\n    const [profileImage, setProfileImage] = useContext(ProfileImageContext)\r\n    const [editingBioContent, setEditingBioContent] = useState('')\r\n\r\n    const handleUsernameChange = e => {\r\n        if (e.target.value.trim() !== '') {\r\n            fetch(`${SERVER_URL}/profile-api/user/${e.target.value}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.bool !== 'false' && data.id !== profile.id) {\r\n                        document.querySelector('#username-taken').style.display = 'initial'\r\n                    } else {\r\n                        document.querySelector('#username-taken').style.display = 'none'\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setEditingBioContent(editingBioContent + emojiObject.emoji)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Editar perfil</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <form\r\n                    action={`${SERVER_URL}/update-profile`}\r\n                    className=\"d-flex flex-column justify-content-center\"\r\n                    id=\"update-profile-form\"\r\n                    method=\"POST\"\r\n                    encType=\"multipart/form-data\"\r\n                >\r\n                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                    <div className=\"d-flex flex-column justify-content-center align-items-center mb-2\">\r\n                        <img src={profileImage ? profileImage : `${SERVER_URL}${profile.photo}`}\r\n                            className=\"profile-img-big\"\r\n                            style={{ marginBottom: '25px' }}\r\n                        />\r\n                        <input\r\n                            type=\"file\"\r\n                            accept=\"image/png, image/jpg, image/jpeg\"\r\n                            className=\"profile-photo-input\"\r\n                            onChange={props.handleProfileImageChange}\r\n                        />\r\n                        <input\r\n                            type=\"hidden\"\r\n                            name=\"profile-photo\"\r\n                            value={profileImage}\r\n                        />\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        Email: {profile.email}\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"first-name\" className=\"profile-field-label\">Nome:</label>\r\n                        <input className=\"profile-field-input\" type=\"text\" name=\"first-name\" id=\"first-name\" placeholder={profile.first_name} />\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"last-name\" className=\"profile-field-label\">Sobrenome:</label>\r\n                        <input className=\"profile-field-input\" type=\"text\" name=\"last-name\" id=\"last-name\" placeholder={profile.last_name} />\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"username\" className=\"profile-field-label\">Nome de usuário:</label>\r\n                        <input\r\n                            className=\"profile-field-input\"\r\n                            type=\"text\"\r\n                            name=\"username\"\r\n                            id=\"username\"\r\n                            placeholder={`@${profile.user.username}`}\r\n                            onChange={handleUsernameChange}\r\n                        />\r\n                    </div>\r\n                    <div\r\n                        id=\"username-taken\"\r\n                        style={{ display: 'none', width: '100%', textAlign: 'center', padding: '3px' }}\r\n                    >\r\n                        <span>Nome de usuário já existe</span>\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"birth-date\" className=\"profile-field-label\">Data de nascimento:</label>\r\n                        <input className=\"profile-field-input\" type=\"date\" name=\"birth-date\" id=\"birth-date\" defaultValue={profile.birth_date} />\r\n                    </div>\r\n                    <div className=\"emoji-list-container bio-emoji-list\" id=\"emoji-list-container\">\r\n                        <Picker onEmojiClick={onEmojiSelect} />\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"bio\" className=\"profile-field-label\">Bio:</label>\r\n                        <div className=\"email-input-container\">\r\n                            <input\r\n                                className=\"profile-field-input-email\"\r\n                                type=\"email\"\r\n                                name=\"bio\"\r\n                                id=\"bio\"\r\n                                value={editingBioContent}\r\n                                placeholder={profile.bio}\r\n                                maxLength={100}\r\n                                onChange={e => setEditingBioContent(e.target.value)}\r\n                            />\r\n                            <label\r\n                                className=\"far fa-smile\"\r\n                                id=\"emoji-button\"\r\n                                onClick={() => openCloseEmojiList(false)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <button className=\"btn btn-grey\" onClick={props.closeModal}>Fechar</button>\r\n                <button className=\"btn btn-primary\" onClick={() => document.querySelector('form#update-profile-form').submit()}>Salvar</button>\r\n            </Modal.Footer>\r\n        </>\r\n    )\r\n}","import React, { useState, useContext } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nimport { ProfileImageContext } from '../../../../../context/edit-profile/EditProfileContext'\r\nimport CroppieModal from './components/CroppieModal'\r\nimport EditProfileModal from './components/EditProfileModal'\r\n\r\n\r\nexport default function EditProfile(props) {\r\n    const [profileImage, setProfileImage] = useContext(ProfileImageContext)\r\n    const [isCroppingImage, setIsCropping] = useState(false)\r\n\r\n    const handleProfileImageChange = (e, isCropping) => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                setProfileImage(reader.result)\r\n                setIsCropping(isCropping)\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.closeModal}\r\n            size=\"lg\"\r\n        >\r\n            {isCroppingImage ?\r\n                <CroppieModal\r\n                    image={profileImage}\r\n                    stopCropping={() => setIsCropping(false)}\r\n                />\r\n                :\r\n                <EditProfileModal\r\n                    profile={props.profile}\r\n                    handleProfileImageChange={e => handleProfileImageChange(e, true)}\r\n                    closeModal={props.closeModal}\r\n                />\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport LikesModal from '../../../../components/LikesModal'\r\nimport PostListItem from '../../../../components/PostListItem'\r\n\r\nexport default function Posts(props) {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n    const profile = props.profile\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const hideLikesModal = () => {\r\n        setLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={hideLikesModal}\r\n            />\r\n            <div className=\"d-flex flex-column justify-content-center align-items-center w-100 h-100\">\r\n                {profile && myProfile ?\r\n                    <>\r\n                        {profile.posts.length ? profile.posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={myProfile}\r\n                                    renderParent={props.fetchProfile}\r\n                                    openLikesModal={likes => setLikesModal({ isOpen: true, likes: likes })}\r\n                                />\r\n                            )\r\n                        }) :\r\n                            <div className=\"no-posts-container\">\r\n                                {profile.id === myProfile.id ?\r\n                                    <h3 style={{ marginTop: '50px' }}>Você não tem posts</h3>\r\n                                    :\r\n                                    <h3 style={{ marginTop: '50px' }}>{profile.first_name} não tem posts</h3>\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Interests(props) {\r\n    const profile = props.profile\r\n\r\n    return (\r\n        <div style={{ background: 'var(--theme-base-color)' }}>\r\n            <h3 className=\"p-3 b-bottom\">Interesses públicos de {profile.first_name}</h3>\r\n            <div className=\"interest-list-container\">\r\n                {profile && profile.interests.filter(i => i.public).map(interest => {\r\n                    return (\r\n                        <>\r\n                            {interest.title &&\r\n                                <>\r\n                                    <li\r\n                                        className=\"w-100 d-flex justify-content-between align-items-center p-3 b-bottom\"\r\n                                        style={{ minHeight: '50px', fontSize: 'large' }}\r\n                                    >\r\n                                        {interest.title[0].toUpperCase() + interest.title.slice(1)}\r\n                                        <Link to={`/interesses/${interest.title}`}>\r\n                                            <button className=\"btn btn-secondary\" style={{ padding: '5px' }}>Pesquisar usuários</button>\r\n                                        </Link>\r\n                                    </li>\r\n                                </>\r\n                            }\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\n\r\nexport default function ProfileData(props) {\r\n    const profile = props.profile\r\n\r\n    return (\r\n        <div className=\"profile-data-container\">\r\n            <div className=\"d-flex flex-column align-items-start\" style={{ textAlign: 'start' }}>\r\n                <p>\r\n                    <img src={`${SERVER_URL}${profile.photo}`}\r\n                        className=\"profile-img-big\"\r\n                        style={{ marginBottom: '25px' }}\r\n                    />\r\n                </p>\r\n                <p style={{ marginBottom: 0 }}><strong>{profile.first_name} {profile.last_name}</strong></p>\r\n                <p className=\"text-secondary\" style={{ marginTop: 0 }}>@{profile.user.username}</p>\r\n                <p>{profile.bio}</p>\r\n                <p className=\"text-secondary\">\r\n                    <i className=\"far fa-calendar-alt\"></i> Entrou em {profile.created.split('-').reverse().join('/')}\r\n                </p>\r\n                <p>\r\n                    <Link to={`/user/${profile.slug}/amigos`} style={{color:  \"var(--primary-grey)\"}}>\r\n                        <strong>{profile.friends.length}</strong> <span className=\"text-secondary\">{profile.friends.length === 1 ? 'amigo' : 'amigos'}</span>\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport Header from '../../../components/fixed/Header'\r\nimport EditProfile from './components/edit-profile/EditProfile'\r\nimport Posts from './components/Posts'\r\nimport Interests from './components/interests/Interests'\r\nimport ProfileData from './components/ProfileData'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\n\r\nexport default function MyProfile() {\r\n    const [myProfile, setProfile] = useState(null)\r\n    const [currentPageIsPosts, setCurrentPageIsPosts] = useState(true)\r\n    const [isEditing, setIsEditing] = useState(false)\r\n\r\n    document.title = 'Perfil / Napker'\r\n\r\n    useEffect(() => {\r\n        fetchProfile()\r\n    }, [])\r\n\r\n    const fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }\r\n\r\n    const switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            setCurrentPageIsPosts(true)\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            setCurrentPageIsPosts(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Perfil\" />\r\n            <div className=\"content\">\r\n                {myProfile ?\r\n                    <>\r\n                        <EditProfile\r\n                            profile={myProfile}\r\n                            isOpen={isEditing}\r\n                            closeModal={() => setIsEditing(false)}\r\n                        />\r\n\r\n                        <ProfileData profile={myProfile}>\r\n                            <div className=\"myprofile-btn-wrapper\">\r\n                                <button\r\n                                    className=\"btn btn-secondary\"\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditing(true)}\r\n                                    style={{ marginBottom: '10px' }}\r\n                                >\r\n                                    Editar perfil\r\n                                </button>\r\n                                <Link to='/perfil/meus-interesses'>\r\n                                    <button className=\"btn btn-secondary\">Editar interesses</button>\r\n                                </Link>\r\n                            </div>\r\n                        </ProfileData>\r\n                        <div className=\"profile-page-menu b-bottom\">\r\n                            <div\r\n                                className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                id=\"profile-posts-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Posts ({myProfile.posts.length})\r\n                            </div>\r\n                            <div\r\n                                className=\"profile-page-menu-item\"\r\n                                id=\"profile-interests-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Interesses ({myProfile.interests.filter(i => i.public).length})\r\n                            </div>\r\n                        </div>\r\n                        {currentPageIsPosts ?\r\n                            <Posts profile={myProfile} fetchProfile={fetchProfile} />\r\n                            :\r\n                            <Interests profile={myProfile} />\r\n                        }\r\n                    </> :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport { handleLogout } from '../../../../config/utils'\r\n\r\nexport default function SettingsMenu() {\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column align-items-center h-100 b-right settings-page-menu\" style={{ width: '40%', background: 'var(--background)' }}>\r\n            <NavLink\r\n                to=\"/configurações/perfis-bloqueados\"\r\n                style={{ textDecoration: 'none', width: '100%', background: 'var(--theme-base-color)' }}\r\n                activeStyle={{ background: 'var(--theme-base-color-hover)' }}\r\n            >\r\n                <li\r\n                    className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom c-primary-grey base-hover\"\r\n                    id=\"blocked-profiles\"\r\n                    style={{ fontSize: 'large' }}\r\n                >\r\n                    Perfis bloqueados\r\n                    <i className=\"fas fa-angle-right\" />\r\n                </li>\r\n            </NavLink>\r\n            <NavLink\r\n                to=\"/configurações/segurança\"\r\n                style={{ textDecoration: 'none', width: '100%', background: 'var(--theme-base-color)' }}\r\n                activeStyle={{ background: 'var(--theme-base-color-hover)' }}\r\n            >\r\n                <li\r\n                    className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom c-primary-grey base-hover\"\r\n                    id=\"security\"\r\n                    style={{ fontSize: 'large' }}\r\n                >\r\n                    Segurança\r\n                    <i className=\"fas fa-angle-right\" />\r\n                </li>\r\n            </NavLink>\r\n            <NavLink\r\n                to=\"/configurações/faq\"\r\n                style={{ textDecoration: 'none', width: '100%', background: 'var(--theme-base-color)' }}\r\n                activeStyle={{ background: 'var(--theme-base-color-hover)' }}\r\n            >\r\n                <li\r\n                    className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom c-primary-grey base-hover\"\r\n                    id=\"faq\"\r\n                    style={{ fontSize: 'large' }}\r\n                >\r\n                    FAQ\r\n                    <i className=\"fas fa-angle-right\" />\r\n                </li>\r\n            </NavLink>\r\n            <NavLink\r\n                to=\"/configurações/fale-conosco\"\r\n                style={{ textDecoration: 'none', width: '100%', background: 'var(--theme-base-color)' }}\r\n                activeStyle={{ background: 'var(--theme-base-color-hover)' }}\r\n            >\r\n                <li\r\n                    className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom c-primary-grey base-hover\"\r\n                    id=\"feedback\"\r\n                    style={{ fontSize: 'large' }}\r\n                >\r\n                    Fale conosco\r\n                    <i className=\"fas fa-angle-right\" />\r\n                </li>\r\n            </NavLink>\r\n            <li\r\n                className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 c-primary-grey b-theme-base-color base-hover\"\r\n                style={{ fontSize: 'large' }}\r\n                onClick={handleLogout}\r\n            >\r\n                Sair da conta\r\n            </li>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport ProfileListItem from '../../../../components/ProfileListItem'\r\n\r\nexport default function BlockUser() {\r\n    const [blockedProfiles, setBlockedProfiles] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/get-blocked-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => setBlockedProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            {blockedProfiles !== null && myProfile !== null ?\r\n                <>\r\n                    {!!blockedProfiles.length ?\r\n                        <div className=\"blocked-profiles-list\">\r\n                            <div className=\"blocked-profiles-title\">\r\n                                <h4>\r\n                                    Você possui {blockedProfiles.length} {blockedProfiles.length === 1 ? 'perfil bloqueado' : 'perfis bloqueados'}\r\n                                </h4>\r\n                            </div>\r\n                            {blockedProfiles.map(profile => {\r\n                                return (\r\n                                    <ProfileListItem\r\n                                        profile={profile}\r\n                                        myProfile={myProfile}\r\n                                        style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    />\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                        :\r\n                        <div className=\"mt-3 no-blocked-profiles\">\r\n                            <h3>Você não possui perfis bloqueados</h3>\r\n                        </div>\r\n                    }\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport default function SecurityMenu() {\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div className=\"d-flex flex-column justify-content-between align-items-center w-100 \">\r\n                <div className=\"d-flex flex-column w-100\">\r\n                    <li\r\n                        className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom b-theme-base-color c-primary-grey\"\r\n                        style={{ fontSize: 'large' }}\r\n                    >\r\n                        <strong>Segurança</strong>\r\n                    </li>\r\n                    <Link to=\"/configurações/alterar-senha\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                        <li\r\n                            className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom b-theme-base-color c-primary-grey base-hover\"\r\n                            id=\"change-password\"\r\n                            style={{ fontSize: 'large' }}\r\n                        >\r\n                            Alterar senha\r\n                            <i className=\"fas fa-angle-right\" />\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/configurações/deletar-conta\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                        <li\r\n                            className=\"w-100 d-flex justify-content-between align-items-center px-3 py-2 b-bottom b-theme-base-color c-primary-grey base-hover\"\r\n                            id=\"delete-account\"\r\n                            style={{ fontSize: 'large' }}\r\n                        >\r\n                            Apagar conta\r\n                            <i className=\"fas fa-angle-right\" />\r\n                        </li>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function Faq() {\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div style={{ padding: '15px', borderBottom: '1px solid var(--border-color)' }}>\r\n                <h3>FAQ</h3>\r\n            </div>\r\n            <div className=\"faq-content\">\r\n                <div className=\"faq-center\">\r\n                    <details>\r\n                        <summary>\r\n                            <h2>Como alterar minha senha?</h2>\r\n                        </summary>\r\n                        <p>O usuário deverá entrar no menu configurações e abrir a sessão [Segurança], onde encontrará a possibilidade de [Alterar Senha], acompanhada de instruções.</p>\r\n                    </details>\r\n                    <details open>\r\n                        <summary>\r\n                            <h2>O que são interesses?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                    <details>\r\n                        <summary>\r\n                            <h2>Como alterar interesses?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                    <details>\r\n                        <summary>\r\n                            <h2>O que são interesses públicos/privados?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                    <details>\r\n                        <summary>\r\n                            <h2>Como denunciar usuários?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function ChangePassword() {\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [successMessage, setSuccessMessage] = useState(null)\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n        let passwordEl = document.querySelector('#password')\r\n        let newPasswordEl = document.querySelector('#new_password')\r\n        let newPasswordcEl = document.querySelector('#new_passwordc')\r\n        let password = passwordEl.value\r\n        let newPassword = newPasswordEl.value\r\n        let newPasswordc = newPasswordcEl.value\r\n        for (let input of document.querySelectorAll('form > input')) {\r\n            if (!input.value) {\r\n                alert('Todos os campos devem ser preenchidos!')\r\n                return\r\n            }\r\n        }\r\n        if (newPassword !== newPasswordc) {\r\n            setErrorMessage('Os campos \"Nova senha\" e \"Confirmar nova senha\" devem ter o mesmo valor!')\r\n            setSuccessMessage(null)\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/change-password`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                password: password,\r\n                new_password: newPassword,\r\n                new_passwordc: newPasswordc,\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'success') {\r\n                    setSuccessMessage('Senha alterada com successo!')\r\n                    setErrorMessage(null)\r\n                    passwordEl.value = newPasswordEl.value = newPasswordcEl.value = ''\r\n                } else {\r\n                    setErrorMessage(data)\r\n                    setSuccessMessage(null)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div\r\n                className=\"d-flex justify-content-start align-items-center\"\r\n                style={{ background: 'var(--theme-base-color)', padding: '15px', borderBottom: '1px solid var(--border-color)' }}>\r\n                <i\r\n                    class=\"fas fa-arrow-left left-arrow-icon mr-2\"\r\n                    onClick={() => window.history.back()}\r\n                />\r\n                <strong style={{ fontSize: '1.2rem' }}>Segurança</strong>\r\n            </div>\r\n            {errorMessage &&\r\n                <div class=\"alert alert-danger alert\" role=\"alert\">\r\n                    {errorMessage}\r\n                </div>\r\n            }\r\n            {successMessage &&\r\n                <div class=\"alert alert-success alert\" role=\"alert\">\r\n                    {successMessage}\r\n                </div>\r\n            }\r\n            <div className=\"settings-page-title-container\">\r\n                <h3>Alterar senha</h3>\r\n            </div>\r\n            <form className=\"change-password-form\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha atual\" autoFocus />\r\n                <br />\r\n                <Link to=\"/recuperar-senha\">\r\n                    Esqueceu sua senha?\r\n                </Link>\r\n                <hr />\r\n                <br />\r\n                <input id=\"new_password\" type=\"password\" placeholder=\"Nova senha\" />\r\n                <br />\r\n                <input id=\"new_passwordc\" type=\"password\" placeholder=\"Confirmar nova senha\" />\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-primary\"\r\n                    type=\"submit\"\r\n                    onClick={handleFormSubmit}\r\n                >Confirmar</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\n\r\nexport default function DeleteAccount() {\r\n    const [displayErrorMessage, setDisplayErrorMessage] = useState(null)\r\n\r\n    const deleteAccount = () => {\r\n        if (window.confirm('Tem certeza que deseja deletar a sua conta ?\\nEsta ação é irreversível?')) {\r\n            const password = document.querySelector('#password').value\r\n            if (!password) {\r\n                window.alert('A senha não pode ficar em branco!')\r\n            } else {\r\n                fetch(`${SERVER_URL}/delete-account`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify({\r\n                        password: password\r\n                    })\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data === 'Wrong password') {\r\n                            setDisplayErrorMessage(true)\r\n                        } else {\r\n                            window.alert('Conta deletada com sucesso.')\r\n                            window.location.href = SERVER_URL\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div\r\n                className=\"d-flex justify-content-start align-items-center\"\r\n                style={{ background: 'var(--theme-base-color)', padding: '15px', borderBottom: '1px solid var(--border-color)' }}\r\n            >\r\n                <i\r\n                    class=\"fas fa-arrow-left left-arrow-icon mr-2\"\r\n                    onClick={() => window.history.back()}\r\n                />\r\n                <strong style={{ fontSize: '1.2rem' }}>Segurança</strong>\r\n            </div>\r\n            {displayErrorMessage &&\r\n                <div className=\"alert\">\r\n                    <div className=\"alert alert-danger\" role=\"alert\">Senha incorreta!</div>\r\n                </div>\r\n            }\r\n            <div className=\"settings-page-title-container\">\r\n                <h3>Deletar conta</h3>\r\n            </div>\r\n            <div className=\"delete-account-confirmation\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha\" autoFocus />\r\n                <hr />\r\n                <br />\r\n                Tem certeza que deseja apagar a sua conta ?\r\n                <br />\r\n                Esta ação é irreversível\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={deleteAccount}\r\n                    style={{\r\n                        borderRadius : \"20px\",\r\n                        fontWeight: \"bold\"\r\n                    }}\r\n                >Deletar conta</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\n\r\n\r\nexport default function Feedback() {\r\n    const [name, setName] = useState(null)\r\n\r\n    let selectedRating = -1\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setName(data.first_name))\r\n    }, [])\r\n\r\n    const handleFaceMouseEnter = e => {\r\n        const img = e.target\r\n        img.src = `/static/media/feedback-faces/${img.id}.png`\r\n    }\r\n\r\n    const handleFaceMouseLeave = e => {\r\n        const img = e.target\r\n        if (img.dataset.selected === 'false') {\r\n            img.src = `/static/media/feedback-faces/${img.id}bw.png`\r\n        }\r\n    }\r\n\r\n    const selectFace = e => {\r\n        const img = e.target\r\n        document.querySelectorAll('.option-container > img').forEach(image => {\r\n            image.src = `/static/media/feedback-faces/${image.id}bw.png`\r\n            if (image !== img) image.dataset.selected = 'false'\r\n            image.classList.remove('animated')\r\n        })\r\n        if (img.dataset.selected === 'false') {\r\n            img.src = `/static/media/feedback-faces/${img.id}.png`\r\n            img.dataset.selected = 'true'\r\n            img.classList.add('animated')\r\n            img.onanimationend = () => img.classList.remove('animated')\r\n            selectedRating = img.id\r\n        } else {\r\n            img.dataset.selected = 'false'\r\n            selectedRating = -1\r\n        }\r\n    }\r\n\r\n    const thankYouPage = () => {\r\n        document.querySelector('.feedback-form > h3').innerHTML = `Muito obrigado${name !== null ? (`, ${name}`) : ''}!`\r\n        document.querySelector('.feedback-faces-container').innerHTML = 'A sua mensagem nos ajudará a tornar o Napker cada vez mais inclusivo e transparente.\\nCaso pense em mais alguma coisa, sinta-se à vontade para entrar em contato novamente.'\r\n        document.querySelector('.textarea-container').innerHTML = \"<img src='/static/media/feedback-faces/thankyou.png'/>\"\r\n    }\r\n\r\n\r\n    const handleFeedbackSubmit = e => {\r\n        const message = document.querySelector('.feedback-form > .textarea-container > textarea').value\r\n        if (message.trim() === '') {\r\n            alert('A mensagem não pode estar em branco')\r\n        } else {\r\n            fetch(`${SERVER_URL}/settings-api/feedback`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                },\r\n                body: JSON.stringify({\r\n                    'rating': selectedRating,\r\n                    'message': message\r\n                })\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => console.log(data))\r\n            thankYouPage()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div className=\"feedback-form\">\r\n                <h3>Nos ajude a melhorar</h3>\r\n                <hr />\r\n                <div className=\"feedback-faces-container\">\r\n                    <h6>Como está sendo a sua experiência no Napker até agora?</h6>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/5bw.png\"\r\n                                id=\"5\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/4bw.png\"\r\n                                id=\"4\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/3bw.png\"\r\n                                id=\"3\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/2bw.png\"\r\n                                id=\"2\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/1bw.png\"\r\n                                id=\"1\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"d-flex flex-column align-items-center textarea-container\">\r\n                    <textarea\r\n                        class='autoExpand'\r\n                        rows='3'\r\n                        data-min-rows='3'\r\n                        placeholder=\"Digite a sua mensagem aqui...\" />\r\n                    <button className=\"btn btn-primary w-100\" onClick={handleFeedbackSubmit}>Enviar</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\n\r\nimport Header from '../../../components/fixed/Header'\r\nimport SettingsMenu from './components/SettingsMenu'\r\nimport BlockedProfiles from './components/BlockedProfiles'\r\nimport SecurityMenu from './components/security_/SecurityMenu'\r\nimport Faq from './components/Faq'\r\nimport ChangePassword from './components/security_/components/ChangePassword'\r\nimport DeleteAccount from './components/security_/components/DeleteAccount'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\nimport Feedback from './components/Feedback'\r\n\r\n\r\nexport default function Settings(props) {\r\n    if (!props.page) props.page = 'default'\r\n\r\n    document.title = 'Configurações / Napker'\r\n\r\n    useEffect(() => {\r\n        if (props.page !== 'default') {\r\n            document.querySelector('.settings-description-container') &&\r\n                document.querySelector('.settings-description-container').classList.remove('mobile-d-none')\r\n        } else {\r\n            document.querySelector('.settings-description-container') &&\r\n                document.querySelector('.settings-description-container').classList.add('mobile-d-none')\r\n        }\r\n    }, [props.page])\r\n\r\n    return (\r\n        <>\r\n            {visualViewport.width < 635 ?\r\n                <>\r\n                    {props.page !== 'change-password' && props.page !== 'delete-account' ?\r\n                        < Header page=\"Configurações\" backArrow={props.page !== 'default'} />\r\n                        :\r\n                        <>\r\n                        </>\r\n                    }\r\n                </>\r\n                :\r\n                < Header page=\"Configurações\" />\r\n            }\r\n            <div className=\"content\">\r\n                <div className=\"settings-page-container\">\r\n\r\n                    <SettingsMenu />\r\n                    \r\n                    {(props.page === 'blocked-profiles' || props.page === 'default') &&\r\n                        <BlockedProfiles />\r\n                    }\r\n\r\n                    {props.page === 'security' &&\r\n                        <SecurityMenu />\r\n                    }\r\n\r\n                    {props.page === 'change-password' &&\r\n                        <ChangePassword />\r\n                    }\r\n\r\n                    {props.page === 'delete-account' &&\r\n                        <DeleteAccount />\r\n                    }\r\n\r\n                    {props.page === 'faq' &&\r\n                        <Faq />\r\n                    }\r\n\r\n                    {props.page === 'feedback' &&\r\n                        <Feedback />\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\nimport Header from '../../../components/fixed/Header'\r\nimport Posts from './components/Posts'\r\nimport Interests from './components/interests/Interests'\r\nimport ProfileData from './components/ProfileData'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            profile: null,\r\n            alertMessage: null,\r\n            relationshipButtonLabel: '',\r\n            currentPageIsPosts: true,\r\n        }\r\n        this.slug = this.props.match.params.slug\r\n        this.baseState = this.state\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.fetchProfile()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchRelationship()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let btn = document.querySelector('#profile-page-relationship-btn')\r\n        if (btn) {\r\n            switch (btn.innerHTML, this.state.relationshipButtonLabel) {\r\n                case 'Amigos':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.onmouseenter = () => {\r\n                        if (btn.innerHTML === 'Amigos') btn.innerHTML = 'Remover'\r\n                    }\r\n                    btn.onmouseout = () => {\r\n                        if (btn.innerHTML === 'Remover') btn.innerHTML = 'Amigos'\r\n                    }\r\n                    btn.classList.add('friend-btn')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitado':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Aceitar':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitar':\r\n                    btn.classList.add('btn-secondary')\r\n                    btn.classList.remove('d-none')\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps === this.props) return\r\n        this.setState(this.baseState) //resetting state\r\n        this.slug = newProps.match.params.slug\r\n        this.fetchProfile()\r\n        this.fetchRelationship()\r\n    }\r\n\r\n    fetchRelationship = () => {\r\n        fetch(`${SERVER_URL}/profile-api/relationship/${this.slug}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                let label\r\n                switch (data.relationship) {\r\n                    case 'friends':\r\n                        label = 'Amigos'\r\n                        break\r\n                    case 'invite-sent':\r\n                        label = 'Solicitado'\r\n                        break\r\n                    case 'invite-received':\r\n                        label = 'Aceitar'\r\n                        break\r\n                    case 'none':\r\n                        label = 'Solicitar'\r\n                }\r\n                this.setState({\r\n                    relationshipButtonLabel: label\r\n                })\r\n            })\r\n    }\r\n\r\n    fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${this.slug}`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                profile: data\r\n            }))\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ myProfile: data }))\r\n    }\r\n\r\n    sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    removeFromFriends = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/remove-from-friends`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    acceptFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'senderid': pk,\r\n                'reply': 'accept'\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                this.props.updateNotificationsNumber()\r\n            })\r\n    }\r\n\r\n    handleRelationshipUpdate = e => {\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            this.sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else if (btn.innerHTML === 'Solicitado') {\r\n            this.cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        } else if (btn.innerHTML === 'Amigos' || btn.innerHTML === 'Remover') {\r\n            if (window.confirm(`Remover @${this.state.profile.user.username} dos amigos?`)) {\r\n                this.removeFromFriends(btn.dataset.pk)\r\n                btn.innerHTML = 'Solicitar'\r\n                btn.className = 'btn btn-secondary'\r\n            }\r\n        } else if (btn.innerHTML === 'Aceitar') {\r\n            this.acceptFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Amigos'\r\n            btn.className = 'btn btn-primary'\r\n        }\r\n    }\r\n\r\n    blockUnblockUser = () => {\r\n        if (this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id)) {\r\n            if (window.confirm(`Tem certeza que deseja desbloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/unblock-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({ alertMessage: `Você desbloqueou @${this.state.profile.user.username}.` })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        } else {\r\n            if (window.confirm(`Tem certeza que deseja bloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/block-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({\r\n                            alertMessage: `Você bloqueou @${this.state.profile.user.username}.\r\n                         ${this.state.profile.first_name} não conseguirá mais ver o seu perfil ou te enviar mensagens.`\r\n                        })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        }\r\n        this.fetchProfile()\r\n        document.querySelector('#profile-view-more-select').style.display = 'none'\r\n    }\r\n\r\n    openCloseExtraOptions = () => {\r\n        const el = document.querySelector('#profile-view-more-select')\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            document.querySelector('#profile-view-more-icon').classList.add('view-more-icon-active')\r\n            style.display = 'flex'\r\n        } else {\r\n            document.querySelector('#profile-view-more-icon').classList.remove('view-more-icon-active')\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: true })\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page={this.state.profile ? `${this.state.profile.first_name} ${this.state.profile.last_name}` : 'Perfil'}\r\n                    backArrow={true}\r\n                />\r\n                {this.state.myProfile !== null && this.state.profile !== null ?\r\n                    <div className=\"content\">\r\n                        {this.state.profile.blocked_users.map(u => u.id).includes(this.state.myProfile.user.id) ?\r\n                            <div className=\"user-blocked-me-container\">\r\n                                <h3>O usuário te bloqueou</h3>\r\n                            </div>\r\n                            :\r\n                            <>\r\n                                {this.state.alertMessage &&\r\n                                    <div class=\"alert alert-success profile-page-alert-success\" role=\"alert\">\r\n                                        {this.state.alertMessage}\r\n                                    </div>\r\n                                }\r\n                                <ProfileData profile={this.state.profile}>\r\n                                    <div className=\"profile-btn-wrapper\">\r\n                                        <i\r\n                                            className=\"fas fa-ellipsis-h btn btn-secondary mr-2 view-more-icon\"\r\n                                            id=\"profile-view-more-icon\"\r\n                                            onClick={this.openCloseExtraOptions}\r\n                                        />\r\n                                        <div className=\"view-more-select\" id=\"profile-view-more-select\" style={{ top: '60%', right: '10%' }}>\r\n                                            {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                                <li>\r\n                                                    <Link to={`/mensagens/${this.state.profile.slug}`} style={{ color: 'var(--primary-grey)', textDecoration: 'none' }}>\r\n                                                        <i class=\"fas fa-envelope text-secondary\" />\r\n                                                        Enviar mensagem\r\n                                                    </Link>\r\n                                                </li>\r\n                                            }\r\n                                            <li onClick={this.blockUnblockUser}>\r\n                                                <i class=\"fas fa-user-lock text-secondary\" />\r\n                                                {this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) ?\r\n                                                    'Desbloquear'\r\n                                                    :\r\n                                                    'Bloquear'\r\n                                                }\r\n                                            </li>\r\n                                            <div className=\"popover-arrow\" style={{ top: '-9px', left: '30%' }} />\r\n                                        </div>\r\n                                        {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                            <button className=\"btn d-none\"\r\n                                                id=\"profile-page-relationship-btn\"\r\n                                                data-pk={this.state.profile.id}\r\n                                                onClick={this.handleRelationshipUpdate}\r\n                                            >{this.state.relationshipButtonLabel}</button>\r\n                                        }\r\n                                    </div>\r\n                                </ProfileData>\r\n                                <div className=\"profile-page-menu b-bottom\">\r\n                                    <div\r\n                                        className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                        id=\"profile-posts-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Posts ({this.state.profile.posts.length})\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"profile-page-menu-item\"\r\n                                        id=\"profile-interests-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Interesses ({this.state.profile.interests.filter(i => i.public).length})\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.currentPageIsPosts ?\r\n                                    <Posts profile={this.state.profile} fetchProfile={this.fetchProfile} /> :\r\n                                    <Interests profile={this.state.profile} />\r\n                                }\r\n                            </>\r\n                        }\r\n                    </div>\r\n                    :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n                <BottomMenu />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport Header from '../../../../components/fixed/Header'\r\nimport ProfileListItem from '../../../../components/ProfileListItem'\r\nimport BottomMenu from '../../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function Friends() {\r\n    const [friends, setFriends] = useState(null)\r\n    const [profile, setProfile] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const { slug } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${slug}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (profile) {\r\n            fetch(`${SERVER_URL}/profile-api/get-friends-profiles/${profile.slug}`)\r\n                .then(response => response.json())\r\n                .then(data => setFriends(data))\r\n        }\r\n    }, [profile])\r\n\r\n    return (\r\n        <>\r\n            <Header page={profile !== null ? `${profile.first_name} ${profile.last_name} / Amigos` : 'Perfil / Amigos'}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"list-group profile-friends-container\">\r\n                    {friends !== null && myProfile !== null ?\r\n                        <>\r\n                            {friends.length ? friends.map(friend => {\r\n                                return (\r\n                                    <ProfileListItem\r\n                                        profile={friend}\r\n                                        myProfile={myProfile}\r\n                                        style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    />\r\n                                )\r\n                            }) :\r\n                                <h3 style={{ marginTop: '30px' }}>\r\n                                    {profile ? `${profile.first_name} ainda não possui amigos` : 'Você ainda não possui amigos'}\r\n                                </h3>\r\n                            }\r\n                        </>\r\n                        :\r\n                        <div className=\"loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport Header from '../../../../../../components/fixed/Header'\r\nimport ProfileListItem from '../../../../../../components/ProfileListItem'\r\n\r\nexport default function InterestProfiles() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [profiles, setProfiles] = useState(null)\r\n\r\n    const { interest } = useParams()\r\n\r\n    document.title = `${interest[0].toUpperCase() + interest.slice(1)} / Napker`\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/interest-profile-list/${interest}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                page={`Interesse / ${interest[0].toUpperCase() + interest.slice(1)}`}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"w-100 b-bottom\" style={{ background: 'var(--theme-base-color)', padding: '15px' }}>\r\n                    <h3>Perfis interessados em \"{interest}\"</h3>\r\n                </div>\r\n                <div className=\"w-100 list-group\">\r\n                    {myProfile !== null && profiles !== null ?\r\n                        profiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem\r\n                                    profile={profile}\r\n                                    myProfile={myProfile}\r\n                                    style={{ borderLeft: 'none', borderTop: 'none', borderRight: 'none' }}\r\n                                />\r\n                            )\r\n                        }) :\r\n                        <div className=\"loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useRef } from 'react'\r\n\r\nexport default function InterestsInput(props) {\r\n\r\n    const type = props.type\r\n    const myProfile = props.myProfile\r\n    const setInterests = props.setInterests\r\n\r\n    const tagContainer = useRef()\r\n    const input = useRef()  //input where the interests are submitted\r\n    const interestsInput = useRef() //hidden input that stores the interests titles\r\n\r\n    useEffect(() => {\r\n        let tags = myProfile ? myProfile.interests.filter(i => type === 'public' ? i.public : !i.public).map(i => i.title) : []\r\n        addTags()\r\n\r\n        function createTag(label) {\r\n            const div = document.createElement('div');\r\n            div.classList.add('tag');\r\n            div.classList.add(`${type}-tag`);\r\n            const span = document.createElement('span');\r\n            span.innerHTML = label;\r\n            const closeIcon = document.createElement('i');\r\n            closeIcon.classList.add(`${type}-close-icon`)\r\n            closeIcon.innerHTML = '×';\r\n            closeIcon.classList.add('material-icons')\r\n            closeIcon.setAttribute('data-item', label);\r\n            div.appendChild(span);\r\n            div.appendChild(closeIcon);\r\n            if (!interestsInput.current.value.includes(label)) interestsInput.current.value += ` ${label}`;\r\n            return div;\r\n        }\r\n\r\n        function clearTags() {\r\n            document.querySelectorAll(`.${type}-tag`).forEach(tag => {\r\n                tag.parentElement.removeChild(tag);\r\n            });\r\n        }\r\n\r\n        function addTags() {\r\n            clearTags();\r\n            tags.sort()\r\n            tags.slice().reverse().forEach(tag => {\r\n                tagContainer.current.prepend(createTag(tag));\r\n            });\r\n            setInterests(tags)\r\n        }\r\n\r\n        input.current.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Enter') {\r\n                input.current.value.split(',').forEach(tag => {\r\n                    if (tag.length < 3) {\r\n                        window.alert('Os interesses devem ter no mínimo 3 caracteres!')\r\n                    } else {\r\n                        tags.push(tag)\r\n                    }\r\n                })\r\n\r\n                addTags()\r\n                input.current.value = ''\r\n            }\r\n        })\r\n        document.addEventListener('click', (e) => {\r\n            if (e.target.classList.contains(`${type}-close-icon`)) {\r\n                const tagLabel = e.target.getAttribute('data-item')\r\n                const index = tags.indexOf(tagLabel)\r\n                tags = [...tags.slice(0, index), ...tags.slice(index + 1)]\r\n                addTags()\r\n            }\r\n        })\r\n\r\n        input.current.focus()\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <div className={`${props.className} tag-container`}>\r\n                <div ref={tagContainer} className=\"w-100 d-flex flex-wrap\"></div>\r\n                <textarea\r\n                    ref={input}\r\n                    className=\"autoExpand m-0\"\r\n                    rows='3'\r\n                    data-min-rows='3'\r\n                    placeholder=\"Digite e pressione 'Enter'\"\r\n                />\r\n                <input ref={interestsInput} type=\"hidden\" />\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport InterestsInput from './InterestsInput'\r\n\r\nexport default function PublicInterests(props) {\r\n\r\n    return (\r\n        <div className=\"p-2\">\r\n            <h3>Interesses públicos</h3>\r\n            <p>\r\n                Os interesses públicos são visíveis para os outros usuários.\r\n                Coloque aqui interesses que sem eles seu perfil ficaria incompleto.\r\n            </p>\r\n            <InterestsInput type=\"public\" myProfile={props.myProfile} setInterests={props.setInterests} />\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport InterestsInput from './InterestsInput'\r\n\r\nexport default function PrivateInterests(props) {\r\n\r\n    return (\r\n        <div className=\"p-2\">\r\n            <h3>Interesses privados</h3>\r\n            <p>\r\n                Os interesses privados não são visíveis para os outros usuários.\r\n                Eles servem para aumentar a precisão das recomendações de perfis que\r\n                possuem o máximo de afinidade possível com você.\r\n            </p>\r\n            <InterestsInput type=\"private\" myProfile={props.myProfile} setInterests={props.setInterests} />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport { csrftoken } from '../../../../../config/utils'\r\nimport Header from '../../../../../components/fixed/Header'\r\nimport PublicInterests from './components/PublicInterests'\r\nimport PrivateInterests from './components/PrivateInterests'\r\nimport BottomMenu from '../../../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function EditInterests() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    let [publicInterests, setPublicInterests] = [null, value => publicInterests = value]\r\n    let [privateInterests, setPrivateInterests] = [null, value => privateInterests = value]\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const submitInterests = () => {\r\n        fetch(`${SERVER_URL}/profile-api/set-myinterests`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                public_interests: publicInterests.sort(),\r\n                private_interests: privateInterests.sort()\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                document.querySelector('#interests-updated-message').style.display = 'block'\r\n                document.documentElement.scrollTop = 0\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Meus interesses\" backArrow={true} />\r\n            <div className=\"content\">\r\n                <p\r\n                    className=\"edit-interests-success-message b-bottom\"\r\n                    id=\"interests-updated-message\"\r\n                >\r\n                    Interesses atualizados com sucesso\r\n                </p>\r\n                {myProfile ?\r\n                    <div className=\"pb-3\" style={{ background: 'var(--theme-base-color)', textAlign: 'start' }}>\r\n                        <div className=\"w-100 p-3 b-bottom\">\r\n                            <button\r\n                                className=\"btn btn-primary\"\r\n                                onClick={submitInterests}\r\n                            >\r\n                                Salvar\r\n                            </button>\r\n                        </div>\r\n                        <PublicInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPublicInterests}\r\n                        />\r\n\r\n                        <div className=\"w-100 my-2 b-bottom\" />\r\n\r\n                        <PrivateInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPrivateInterests}\r\n                        />\r\n                    </div> :\r\n                    <div className=\"loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { csrftoken, openCloseEmojiList } from '../config/utils'\r\nimport { SERVER_URL } from '../config/settings'\r\n\r\nexport default function CommentModal(props) {\r\n    const [commentContent, setCommentContent] = useState('')\r\n\r\n    const post = props.post\r\n\r\n    const handleCommentChange = e => {\r\n        setCommentContent(e.target.value)\r\n        const el = document.querySelector('#comment-form-submit')\r\n        el.disabled = e.target.value === ''\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setCommentContent(commentContent + emojiObject.emoji)\r\n        document.querySelector('#comment-form-submit').disabled = false\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Comentar</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"post-container\">\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"post-row\">\r\n                            <div className=\"post-col\">\r\n                                <img src={`${SERVER_URL}${post.author.photo}`}\r\n                                    className=\"profile-img-med\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"post-col\">\r\n                                <div>\r\n                                    <strong>{post.author.first_name} {post.author.last_name} </strong>\r\n                                    <p className=\"text-secondary d-inline-block\">\r\n                                        @{post.author.user.username} • {post.created.split('-').reverse().join('/')}\r\n                                    </p>\r\n                                </div>\r\n                                <div style={{ textAlign: 'start' }}>\r\n                                    {post.content}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <form action={`${SERVER_URL}/post-api/comment-post/${post.id}`} method=\"POST\" className=\"comment-form\">\r\n                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                    <label\r\n                        className=\"far fa-smile\"\r\n                        id=\"emoji-button\"\r\n                        onClick={() => openCloseEmojiList(false)}\r\n                    />\r\n                    <textarea\r\n                        type=\"text\"\r\n                        class='autoExpand' \r\n                        rows='3' \r\n                        data-min-rows='3' \r\n                        className=\"form-control\"\r\n                        name=\"comment-content\"\r\n                        value={commentContent}\r\n                        placeholder=\"Comente alguma coisa\"\r\n                        style={{ marginRight: '5px', height: '40px' }}\r\n                        onChange={handleCommentChange}\r\n                    />\r\n                    <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                        <Picker onEmojiClick={onEmojiSelect} />\r\n                    </div>\r\n                    <button\r\n                        className=\"btn btn-primary\"\r\n                        id=\"comment-form-submit\"\r\n                        type=\"submit\"\r\n                        disabled\r\n                    >\r\n                        Enviar\r\n                    </button>\r\n                </form>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../../../config/settings'\r\nimport { csrftoken } from '../../../../../../../../config/utils'\r\n\r\nexport default function CommentListItem(props) {\r\n    const comment = props.comment\r\n    const myProfile = props.myProfile\r\n    const fetchPost = props.fetchPost\r\n    const setPostLikesModal = props.setPostLikesModal\r\n\r\n    const likeUnlikeComment = e => {\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        }\r\n    }\r\n\r\n    const deleteComment = (e, commentId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-comment-${commentId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o comentário?\\nEssa ação é irreversível.')) {\r\n            el.style.animationPlayState = 'running'\r\n            console.log(el, el.style.animationPlayState)\r\n            el.addEventListener('animationend', () => {\r\n                fetchPost()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-comment/${commentId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"d-flex w-100 white-hover hide-animation\"\r\n            id={`post-comment-${comment.id}`}\r\n            key={comment.id}\r\n            style={{ padding: '5px 15px', background: '#fff', borderBottom: '1px solid var(--border-color)' }}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <Link to={comment.author.id === myProfile.id ?\r\n                    '/perfil' : `/user/${comment.author.slug}`}\r\n                >\r\n                    <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n            </div>\r\n            <div className=\"d-flex flex-column h-100 w-100\" style={{ marginRight: '10px' }}>\r\n                <div className=\"d-flex justify-content-between w-100\">\r\n                    <div>\r\n                        <Link to={comment.author.id === myProfile.id ?\r\n                            '/perfil' : `/user/${comment.author.slug}`}\r\n                            style={{ color: '#000' }}\r\n                        >\r\n                            <strong style={{ marginRight: '5px' }}>\r\n                                {comment.author.first_name} {comment.author.last_name}\r\n                            </strong>\r\n                            <p className=\"text-secondary d-inline-block\">\r\n                                @{comment.author.user.username} • {comment.created.split('-').reverse().join('/')}\r\n                            </p>\r\n                        </Link>\r\n                    </div>\r\n                    <i\r\n                        className=\"fas fa-ellipsis-h d-flex justify-content-center align-items-center text-secondary secondary-hover\"\r\n                        style={{ textDecoration: 'none', width: '30px', height: '30px', borderRadius: '30px' }}\r\n                        onClick={e => deleteComment(e, comment.id)}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column\">\r\n                    <div className=\"d-flex justify-content-start word-break\">\r\n                        {comment.content}\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-start align-items-start text-secondary mt-2 mb-1\">\r\n                        <div className=\"d-flex align-items-center\">\r\n                            {comment.likes.map(like => like.profile.id).includes(myProfile.id) ?\r\n                                <i class=\"fas fa-heart\"\r\n                                    data-commentid={comment.id}\r\n                                    onClick={likeUnlikeComment}\r\n                                />\r\n                                :\r\n                                <i class=\"far fa-heart\"\r\n                                    data-commentid={comment.id}\r\n                                    onClick={likeUnlikeComment}\r\n                                />\r\n                            }\r\n                            <p\r\n                                className=\"post-likes-number m-0\"\r\n                                onClick={() => setPostLikesModal({ isOpen: true, likes: comment.likes })}\r\n                            >\r\n                                {comment.likes.length}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default props => (\r\n    <Link to={`/post/${props.postId}/comentar`}>\r\n        <i className=\"far fa-comment bottom-menu-action-icon btn-primary\" />\r\n    </Link>\r\n)","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../../config/settings'\r\nimport CommentModal from '../../../../../../../components/CommentModal'\r\nimport LikesModal from '../../../../../../../components/LikesModal'\r\nimport Header from '../../../../../../../components/fixed/Header'\r\nimport CommentListItem from './components/CommentListItem'\r\nimport BottomMenu from '../../../../../../../components/fixed/bottom-menu/BottomMenu'\r\nimport CommentIcon from '../../../../../../../components/fixed/bottom-menu/components/CommentIcon'\r\nimport PostListItem from '../../../../../../../components/PostListItem'\r\n\r\nexport default function Post(props) {\r\n    const [post, setPost] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [commentModalIsOpen, setCommentModalIsOpen] = useState(props.commentModalIsOpen)\r\n    const [postLikesModal, setPostLikesModal] = useState({ isOpen: false, likes: null })\r\n    const [commentLikesModal, setCommentLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    const { id } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        console.log('got here')\r\n        setCommentModalIsOpen(!!props.commentModalIsOpen)\r\n    }, [props.commentModalIsOpen])\r\n\r\n    const fetchPost = () => {\r\n        fetch(`${SERVER_URL}/post-api/post/${id}`)\r\n            .then(response => response.json())\r\n            .then(data => setPost(data))\r\n    }\r\n\r\n    const hideCommentModal = () => {\r\n        setCommentModalIsOpen(false)\r\n        window.history.back()\r\n    }\r\n\r\n    const hidePostLikesModal = () => {\r\n        setPostLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    const hideCommentLikesModal = () => {\r\n        setCommentLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-100\">\r\n            {post &&\r\n                <CommentModal\r\n                    isOpen={commentModalIsOpen}\r\n                    hideModal={hideCommentModal}\r\n                    post={post}\r\n                />\r\n            }\r\n            <LikesModal\r\n                isOpen={postLikesModal.isOpen}\r\n                likes={postLikesModal.likes}\r\n                hideModal={hidePostLikesModal}\r\n            />\r\n            <LikesModal\r\n                isOpen={commentLikesModal.isOpen}\r\n                likes={commentLikesModal.likes}\r\n                hideModal={hideCommentLikesModal}\r\n            />\r\n            <Header page=\"Post\" backArrow={true} />\r\n            <div className=\"content\">\r\n                {post && myProfile ?\r\n                    <>\r\n                        <PostListItem post={post} myProfile={myProfile} />\r\n                        <div className=\"comment-list\">\r\n                            {post.comments.map(comment => {\r\n                                return (\r\n                                    <CommentListItem\r\n                                        comment={comment}\r\n                                        myProfile={myProfile}\r\n                                        fetchPost={fetchPost}\r\n                                        setPostLikesModal={setPostLikesModal}\r\n                                    />\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                    </> :\r\n                    <div className=\"loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu>\r\n                <CommentIcon postId={id} />\r\n            </BottomMenu>\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport Header from '../../../components/fixed/Header'\r\nimport PostForm from '../home/components/posts_/components/PostForm'\r\n\r\nexport default function Posts() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <Header page=\"Novo post\" backArrow={true} />\r\n            <div className=\"post-form-page-container\">\r\n                {myProfile !== null ?\r\n                    <PostForm myProfile={myProfile} />\r\n                    :\r\n                    <div className=\"posts-loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../config/settings'\r\nimport {\r\n    InvitesReceivedContext, UnvisualizedCommentsContext,\r\n    UnvisualizedLikesContext, UnreadMessagesContext\r\n} from '../../context/app/AppContext'\r\n\r\nimport SidebarLeft from '../../components/fixed/SidebarLeft'\r\nimport SidebarRight from '../../components/fixed/sidebar-right/SidebarRight'\r\n\r\nimport Home from './home/Home'\r\nimport Notifications from './notifications/Notifications'\r\nimport Messages from './messages_/Messages'\r\nimport MyProfile from './profile/MyProfile'\r\nimport Settings from './settings_/Settings'\r\nimport Profile from './profile/Profile'\r\nimport ProfileFriends from './profile/pages/Friends'\r\nimport InterestProfiles from './profile/components/interests/pages/InterestProfiles'\r\nimport EditInterests from './profile/pages/edit_interests/EditInterests'\r\nimport Post from './home/components/posts_/pages/post_/Post'\r\n\r\nimport PostFormPage from './mobile-post-form/PostFormPage'\r\nimport EditProfileProvider from '../../context/edit-profile/EditProfileContext'\r\n\r\nexport default function MainAppRouter() {\r\n    const [, setInvitesReceived] = useContext(InvitesReceivedContext)\r\n    const [, setUnvisulaizedComments] = useContext(UnvisualizedCommentsContext)\r\n    const [, setUnvisulaizedLikes] = useContext(UnvisualizedLikesContext)\r\n\r\n    const [, setUnreadMessagesNumber] = useContext(UnreadMessagesContext)\r\n\r\n    useEffect(() => {\r\n        updateNotificationsNumber()\r\n        updateUnreadMessagesNumber()\r\n        window.setInterval(() => {\r\n            updateNotificationsNumber()\r\n            updateUnreadMessagesNumber()\r\n        }, 6000)\r\n    }, [])\r\n\r\n    const updateNotificationsNumber = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvitesReceived(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedLikes(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedComments(data.length))\r\n    }\r\n\r\n    const updateUnreadMessagesNumber = () => {\r\n        fetch(`${SERVER_URL}/chat-api/all-unread-messages-number`)\r\n            .then(response => response.json())\r\n            .then(data => setUnreadMessagesNumber(data['unread_messages_number']))\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <SidebarLeft />\r\n            <div className=\"main-content\">\r\n                <div className=\"center\">\r\n                    <Switch>\r\n                        <Route path=\"/\" exact>\r\n                            <Redirect to=\"/home\" />\r\n                        </Route>\r\n                        <Route path=\"/login\" exact>\r\n                            <Redirect to=\"/home\" />\r\n                        </Route>\r\n                        <Route path=\"/signup\" exact>\r\n                            <Redirect to=\"/home\" />\r\n                        </Route>\r\n\r\n                        <Route path=\"/home\">\r\n                            <Home />\r\n                        </Route>\r\n\r\n                        <Route path=\"/notificações\" render={props => (\r\n                            <Notifications {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                        )} />\r\n                        <Route path=\"/mensagens\" exact component={Messages} />\r\n                        <Route path=\"/mensagens/:slug\" render={props => (\r\n                            <Messages {...props} updateUnreadMessagesNumber={updateUnreadMessagesNumber} />\r\n                        )} />\r\n                        <Route path=\"/perfil\" exact render={props => (\r\n                            <EditProfileProvider>\r\n                                <MyProfile />\r\n                            </EditProfileProvider>\r\n                        )} />\r\n                        <Route path=\"/perfil/meus-interesses\" component={EditInterests} />\r\n                        <Route path=\"/configurações\" exact component={Settings} />\r\n                        <Route path=\"/configurações/perfis-bloqueados\" exact render={props => (\r\n                            <Settings {...props} page={'blocked-profiles'} />\r\n                        )} />\r\n                        <Route path=\"/configurações/segurança\" exact render={props => (\r\n                            <Settings {...props} page={'security'} />\r\n                        )} />\r\n                        <Route path=\"/configurações/alterar-senha\" exact render={props => (\r\n                            <Settings {...props} page={'change-password'} />\r\n                        )} />\r\n                        <Route path=\"/configurações/deletar-conta\" exact render={props => (\r\n                            <Settings {...props} page={'delete-account'} />\r\n                        )} />\r\n                        <Route path=\"/configurações/faq\" exact render={props => (\r\n                            <Settings {...props} page={'faq'} />\r\n                        )} />\r\n                        <Route path=\"/configurações/fale-conosco\" exact render={props => (\r\n                            <Settings {...props} page={'feedback'} />\r\n                        )} />\r\n                        <Route path=\"/user/:slug\" exact render={props => (\r\n                            <Profile {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                        )} />\r\n                        <Route path=\"/user/:slug/amigos\" component={ProfileFriends} />\r\n                        <Route path=\"/post/:id\" exact component={Post} />\r\n                        <Route path=\"/post/:id/comentar\" render={props => (\r\n                            <Post {...props} commentModalIsOpen={true} />\r\n                        )} />\r\n                        <Route path=\"/interesses/:interest\" component={InterestProfiles} />\r\n\r\n                        <Route path=\"/postar\" component={PostFormPage} />\r\n                    </Switch>\r\n                </div>\r\n                <Switch>\r\n                    <Route path=\"/home\">\r\n                        <SidebarRight page=\"home\" />\r\n                    </Route>\r\n                    <Route path=\"/perfil\">\r\n                        <SidebarRight page=\"profile\" />\r\n                    </Route>\r\n                    <Route path=\"/user/:slug\">\r\n                        <SidebarRight page=\"profile\" />\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useRef, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\nimport Logo from '../../../assets/icons/Logo'\r\n\r\n\r\nexport default function Login() {\r\n    const [errMessage, setErrMessage] = useState(null)\r\n\r\n    const usernameRef = useRef()\r\n    const passwordRef = useRef()\r\n    const submitButtonRef = useRef()\r\n\r\n    document.title = 'Entrar / Napker'\r\n\r\n    const handleInputChange = () => {\r\n        submitButtonRef.current.disabled = usernameRef.current.value === ''  || passwordRef.current.value === ''\r\n    }\r\n\r\n    const handleLogin = e => {\r\n        e.preventDefault()\r\n        fetch(`${SERVER_URL}/post-login`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'username': usernameRef.current.value,\r\n                'password': passwordRef.current.value\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'logged in') window.location.href = '/home'\r\n                else {\r\n                    usernameRef.current.value = ''\r\n                    passwordRef.current.value = ''\r\n                    submitButtonRef.current.disabled = true\r\n                    setErrMessage(data)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <form\r\n            className=\"d-flex flex-column align-items-center primary-form\"\r\n            style={{ width: '90vw', maxWidth: '600px', margin: '50px auto' }}\r\n            onSubmit={handleLogin}\r\n        >\r\n            <Logo size=\"30pt\" />\r\n            <h1 className=\"mt-3\" style={{ fontSize: '30px' }}>Entrar no Napker</h1>\r\n\r\n            {errMessage !== null &&\r\n                <div className=\"w-75 mt-1\">\r\n                    <span className=\"word-break\" style={{ color: '#f00' }}>{errMessage}</span>\r\n                </div>\r\n            }\r\n\r\n            <div className=\"w-75 mt-3 d-flex justify-content-center\">\r\n                <input ref={usernameRef} className=\"form-control w-100\" type=\"text\" placeholder=\"Nome de usuário\" onChange={handleInputChange} />\r\n            </div>\r\n\r\n            <div className=\"w-75 mt-2 d-flex justify-content-center\">\r\n                <input ref={passwordRef} className=\"form-control w-100\" type=\"password\" placeholder=\"Senha\" onChange={handleInputChange} />\r\n            </div>\r\n\r\n            <button\r\n                ref={submitButtonRef}\r\n                className=\"btn btn-primary w-75 mt-2 py-2\"\r\n                disabled\r\n            >Entrar\r\n            </button>\r\n\r\n            <ul className=\"w-100 d-flex justify-content-center text-center mt-3\" style={{ listStyle: 'none' }}>\r\n                <li style={{ marginLeft: '12px' }}>\r\n                    <Link to=\"/recuperar-senha\">\r\n                        <span>Esqueceu sua senha?</span>\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n                    <span style={{ margin: '0 5px', color: 'var(--primary-color)' }}>•</span>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/signup\">\r\n                        <span>Inscrever-se no Napker</span>\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </form>\r\n    )\r\n}","import React, { useState, useRef, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\nimport Logo from '../../../../assets/icons/Logo'\r\n\r\n\r\nexport default function SignupForm(props) {\r\n    const [errMessage, setErrMessage] = useState(null)\r\n\r\n    const firstNameRef = useRef()\r\n    const lastNameRef = useRef()\r\n    const usernameRef = useRef()\r\n    const birthDateRef = useRef()\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordcRef = useRef()\r\n\r\n    const submitButtonRef = useRef()\r\n\r\n    useEffect(() => {\r\n        usernameRef.current.addEventListener('keyup', () => {\r\n            if (usernameRef.current.value !== '') {\r\n                fetch(`${SERVER_URL}/profile-api/user/${usernameRef.current.value}`)\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data.bool !== 'false') {\r\n                            document.querySelector('#username-taken').style.display = 'initial'\r\n                        } else if (document.querySelector('#username-taken').style.display === 'initial') {\r\n                            document.querySelector('#username-taken').style.display = 'none'\r\n                        }\r\n                    })\r\n            }\r\n        })\r\n\r\n        emailRef.current.addEventListener('keyup', () => {\r\n            if (emailRef.current.value !== '') {\r\n                fetch(`${SERVER_URL}/profile-api/profile-by-email/${emailRef.current.value}`)\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data.bool !== 'false') {\r\n                            document.querySelector('#email-taken').style.display = 'initial'\r\n                        } else if (document.querySelector('#email-taken').style.display === 'initial') {\r\n                            document.querySelector('#email-taken').style.display = 'none'\r\n                        }\r\n                    })\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const handleInputChange = () => {\r\n        submitButtonRef.current.disabled = (\r\n            firstNameRef.current.value === '' || lastNameRef.current.value === '' ||\r\n            usernameRef.current.value === '' || emailRef.current.value === '' || birthDateRef.current.value === '' ||\r\n            passwordRef.current.value === '' || passwordcRef.current.value === ''\r\n        )\r\n    }\r\n\r\n    const handleSignup = e => {\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !== passwordcRef.current.value) {\r\n            document.querySelector('#invalid-password-2').style.display = 'none'\r\n            document.querySelector('#invalid-password-1').style.display = 'initial'\r\n        } else if (passwordRef.current.value.length < 8) {\r\n            document.querySelector('#invalid-password-1').style.display = 'none'\r\n            document.querySelector('#invalid-password-2').style.display = 'initial'\r\n        } else {\r\n            fetch(`${SERVER_URL}/post-signup`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                },\r\n                body: JSON.stringify({\r\n                    'first-name': firstNameRef.current.value,\r\n                    'last-name': lastNameRef.current.value,\r\n                    'username': usernameRef.current.value,\r\n                    'email': emailRef.current.value,\r\n                    'birth-date': birthDateRef.current.value,\r\n                    'password': passwordcRef.current.value,\r\n                    'passwordc': passwordRef.current.value\r\n                })\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.message === 'account created') {\r\n                        props.setSignupPage('interests')\r\n                        props.setMyUserId(data.userId)\r\n                    } else {\r\n                        firstNameRef.current.value = ''\r\n                        lastNameRef.current.value = ''\r\n                        usernameRef.current.value = ''\r\n                        birthDateRef.current.value = ''\r\n                        emailRef.current.value = ''\r\n                        passwordRef.current.value = ''\r\n                        passwordcRef.current.value = ''\r\n                        submitButtonRef.current.disabled = true\r\n                        setErrMessage(data)\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form\r\n            class=\"d-flex flex-column align-items-center primary-form\"\r\n            style={{ width: '90vw', maxWidth: '600px', margin: '50px auto' }}\r\n            onSubmit={handleSignup}\r\n        >\r\n            <Logo size=\"30pt\" />\r\n            <h1 className=\"mt-3\" style={{ fontSize: '30px' }}>Criar conta</h1>\r\n\r\n            {errMessage !== null &&\r\n                <div className=\"d-flex justify-content-center w-75 mt-1\">\r\n                    <span className=\"word-break\" style={{ color: '#f00' }}>{errMessage}</span>\r\n                </div>\r\n            }\r\n\r\n            <div class=\"w-75 mt-3 d-flex justify-content-center\">\r\n                <input\r\n                    ref={firstNameRef}\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"Nome\"\r\n                    style={{ marginRight: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <input\r\n                    ref={lastNameRef}\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    placeholder=\"Sobrenome\"\r\n                    style={{ marginLeft: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div class=\"w-75 mt-2 d-flex justify-content-center\" style={{ marginBottom: '20px' }}>\r\n                <div className=\"w-100 d-flex flex-column align-items-start\">\r\n                    <input\r\n                        ref={usernameRef}\r\n                        class=\"form-control mb-0\"\r\n                        type=\"text\"\r\n                        id=\"username\"\r\n                        placeholder=\"Nome de usuário\"\r\n                        style={{ marginRight: '4px' }}\r\n                        onChange={handleInputChange}\r\n\r\n                    />\r\n                    <span className=\"ml-1\" id=\"username-taken\" style={{ color: '#f00', display: 'none', fontWeight: 'bold' }}>Nome de usuário já existe</span>\r\n                </div>\r\n\r\n                <input\r\n                    ref={birthDateRef}\r\n                    class=\"form-control mb-0\"\r\n                    type=\"date\"\r\n                    placeholder=\"Data de nascimento\"\r\n                    style={{ marginLeft: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div class=\"w-75 mt-2 d-flex justify-content-center\" style={{ marginBottom: '20px' }}>\r\n                <div className=\"w-100 d-flex flex-column align-items-start\">\r\n                    <input\r\n                        ref={emailRef}\r\n                        class=\"form-control mb-0\"\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        placeholder=\"Email\"\r\n                        onChange={handleInputChange}\r\n                    />\r\n                    <span className=\"ml-1\" id=\"email-taken\" style={{ color: '#f00', display: 'none', fontWeight: 'bold' }}>Email já utilizado</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"w-75 mt-2 d-flex justify-content-center\">\r\n                <input\r\n                    ref={passwordRef}\r\n                    class=\"form-control mb-0\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    placeholder=\"Senha\"\r\n                    style={{ marginRight: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n                <input\r\n                    ref={passwordcRef}\r\n                    class=\"form-control mb-0\"\r\n                    type=\"password\"\r\n                    id=\"passwordc\"\r\n                    placeholder=\"Confirmar senha\"\r\n                    style={{ marginLeft: '4px' }}\r\n                    onChange={handleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div class=\"w-75 my-1 d-flex justify-content-center\">\r\n                <div>\r\n                    <span className=\"ml-1\" id=\"invalid-password-1\" style={{ color: '#f00', display: 'none', fontWeight: 'bold' }}>As senhas devem ser iguais</span>\r\n                    <span className=\"ml-1\" id=\"invalid-password-2\" style={{ color: '#f00', display: 'none', fontWeight: 'bold' }}>A senha deve ter no mínimo 8 caracteres</span>\r\n                </div>\r\n            </div>\r\n\r\n            <button ref={submitButtonRef} class=\"btn btn-primary w-75 mt-3 py-2\" id=\"submit-btn\" disabled>Continuar</button>\r\n\r\n            <ul class=\"w-100 d-flex justify-content-center mt-3\" style={{ listStyle: 'none' }}>\r\n                <li>\r\n                    <Link to=\"/login\">\r\n                        <span className=\"mr-1\">Já tem uma conta?</span>\r\n                        <i class=\"fas fa-arrow-right\"></i>\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </form>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\nimport Logo from '../../../../assets/icons/Logo'\r\nimport PageLoader from '../../../PageLoader'\r\nimport InterestsInput from '../../../main-app/profile/pages/edit_interests/components/InterestsInput'\r\n\r\n\r\nexport default function InterestsForm(props) {\r\n    const [errMessage, setErrMessage] = useState(null)\r\n\r\n    let [interests, setInterests] = [[], value => interests = value]\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        props.setSignupPage('page-loader')\r\n        fetch(`${SERVER_URL}/post-signup/interests`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'interests': interests,\r\n                'uid': props.myUserId\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'activation link sent') {\r\n                    props.setSignupPage('activation-link-sent')\r\n                } else {\r\n                    setErrMessage('Ocorreu um erro')\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {props.myUserId ?\r\n                <form\r\n                    class=\"d-flex flex-column align-items-center primary-form\"\r\n                    style={{ width: '90vw', maxWidth: '600px', margin: '50px auto' }}\r\n                    onSubmit={handleSubmit}\r\n                >\r\n\r\n                    {errMessage !== null &&\r\n                        <div className=\"w-75 mt-1\">\r\n                            <span className=\"word-break\" style={{ color: '#f00' }}>{errMessage}</span>\r\n                        </div>\r\n                    }\r\n\r\n                    <Logo size=\"30pt\" />\r\n                    <h1 className=\"my-3\" style={{ fontSize: '30px' }}>Quais os seus principais interesses?</h1>\r\n\r\n                    <div class=\"w-75 mt-3 d-flex justify-content-center\">\r\n                        <div class=\"interests-description\">\r\n                            É aqui que a mágica acontece. Quanto mais interesses você colocar mais precisamente\r\n                            vamos te\r\n                            conectar com outras pessoas que compartilhem das mesmas paixões.\r\n                            <br />\r\n                            <br />\r\n                            <strong>Obs:</strong> Os interesses enviados aqui não serão visíveis para os outros\r\n                        usuários\r\n                    </div>\r\n                    </div>\r\n\r\n                    <div class=\"w-75 my-3 d-flex justify-content-center\">\r\n                        <InterestsInput className=\"w-100\" type=\"private\" setInterests={setInterests} />\r\n                    </div>\r\n\r\n                    <button class=\"btn btn-primary w-75 mt-2 py-2\">Criar conta</button>\r\n                </form>\r\n                :\r\n                <PageLoader />\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport Logo from '../../../../assets/icons/Logo'\r\n\r\n\r\nexport default function ActivationLinkSent() {\r\n\r\n    return (\r\n        <div\r\n            class=\"position-absolute d-flex flex-column align-items-start\"\r\n            style={{ top: '15%', left: '10%' }}\r\n        >\r\n            <Logo size=\"35pt\" />\r\n            <h3 className=\"my-3\">Tudo certinho! Agora basta ativar a sua conta...</h3>\r\n            <p className=\"pb-3\" style={{ fontSize: 'large' }}>Enviamos um link de ativação para o seu email. Clique nele para ativar a sua conta.</p>\r\n            <p\r\n                className=\"pt-3 hover-underline hover-pointer\"\r\n                style={{ color: 'var(--primary-color)', fontSize: 'large' }}\r\n                onClick={() => window.alert('Verifique se o email está na caixa de spam.')}\r\n            >\r\n                Não recebi o email\r\n            </p>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport SignupForm from './components/SignupForm'\r\nimport InterestsForm from './components/InterestsForm'\r\nimport ActivationLinkSent from './components/ActivationLinkSent'\r\nimport PageLoader from '../../PageLoader'\r\n\r\n\r\nexport default function Signup() {\r\n    const [currentPage, setCurrentPage] = useState('signup')\r\n    const [myUserId, setMyUserId] = useState(null)\r\n\r\n    document.title = 'Criar conta / Napker'\r\n\r\n    return (\r\n        <>\r\n            {currentPage === 'signup' &&\r\n                <SignupForm setSignupPage={setCurrentPage} setMyUserId={setMyUserId} />\r\n            }\r\n            {currentPage === 'interests' &&\r\n                <InterestsForm setSignupPage={setCurrentPage} myUserId={myUserId} />\r\n            }\r\n            {currentPage === 'activation-link-sent' &&\r\n                <ActivationLinkSent />\r\n            }\r\n            {currentPage === 'page-loader' &&\r\n                <PageLoader />\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\r\n\r\nimport Login from './login/Login'\r\nimport Signup from './signup/Signup'\r\n\r\nexport default function AuthRouter() {\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/login\">\r\n                <Login />\r\n            </Route>\r\n\r\n            <Route path=\"/signup\" exact>\r\n                <Signup />\r\n            </Route>\r\n\r\n            <Route path=\"/\" exact>\r\n                <Redirect to=\"/login\" />\r\n            </Route>\r\n        </Switch>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\r\n\r\nimport { onExpandableTextareaInput, setTheme } from './config/utils'\r\nimport { SERVER_URL } from './config/settings'\r\n\r\nimport ResetPassword from './pages/auth/reset-password/ResetPassword'\r\nimport PageLoader from './pages/PageLoader'\r\nimport MainAppRouter from './pages/main-app/Router'\r\nimport AuthRouter from './pages/auth/Router'\r\n\r\nexport default function App() {\r\n    // global event listeners\r\n    document.addEventListener('input', onExpandableTextareaInput)\r\n    document.addEventListener('click', e => {\r\n        if (!e.target.classList.contains('view-more-select') && !e.target.classList.contains('view-more-icon')) {\r\n            document.querySelectorAll('.view-more-select').forEach(el => {\r\n                el.style.display = 'none'\r\n            })\r\n        }\r\n    })\r\n\r\n    const [isLogged, setIsLogged] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/is-logged`)\r\n            .then(response => response.json())\r\n            .then(data => setIsLogged(data))\r\n        setTheme(window.localStorage.getItem('theme') || 'light')\r\n    }, [])\r\n\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route path=\"/recuperar-senha\">\r\n                    <ResetPassword />\r\n                </Route>\r\n                \r\n                {isLogged !== null ?\r\n                    <Route path=\"/\">\r\n                        {isLogged === 'True' ?\r\n                            <MainAppRouter />\r\n                            :\r\n                            <AuthRouter />\r\n                        }\r\n                    </Route>\r\n                    :\r\n                    <PageLoader />\r\n                }\r\n                \r\n            </Switch>\r\n        </Router>\r\n    )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './assets/style/utils/color.css'\r\nimport './assets/style/utils/hover.css'\r\nimport './assets/style/utils/border.css'\r\n\r\nimport './assets/style/pages/auth/auth.css'\r\n\r\nimport './assets/style/pages/global-components/loader.css'\r\nimport './assets/style/pages/global-components/modal.css'\r\nimport './assets/style/pages/global-components/buttons.css'\r\nimport './assets/style/pages/global-components/viewMoreSelect.css'\r\n\r\nimport './assets/style/pages/main-app/components/bottomMenu.css'\r\nimport './assets/style/pages/main-app/chat.css'\r\nimport './assets/style/pages/main-app/components/commentModal.css'\r\nimport './assets/style/pages/main-app/home/components/explore.css'\r\nimport './assets/style/pages/main-app/home/home.css'\r\nimport './assets/style/pages/main-app/home/components/posts.css'\r\nimport './assets/style/pages/main-app/profile.css'\r\nimport './assets/style/pages/main-app/home/components/profiles.css'\r\nimport './assets/style/pages/main-app/settings.css'\r\nimport './assets/style/pages/main-app/components/sidebar.css'\r\n\r\nimport './assets/style/main/animations.css'\r\nimport './assets/style/main/responsivity.css'\r\nimport './assets/style/main/style.css'\r\n\r\nimport AppContextProvider from './context/app/AppContext'\r\nimport App from './App'\r\n\r\nReactDOM.render((<AppContextProvider><App /></AppContextProvider>), document.querySelector('#react-root'))\r\n"],"sourceRoot":""}