{"version":3,"sources":["context/app/invites-received-number/InvitesReceivedContext.js","context/app/unvisualized-comments-number/UnvisualizedCommentsContext.js","context/app/unvisualized-likes-number/UnvisualizedLikesContext.js","context/app/unread-messages-number/UnreadMessagesContext.js","context/app/AppContext.js","config/settings.js","config/utils.js","components/fixed/SidebarLeft.js","components/fixed/sidebar-right/components/SidebarSlider.js","components/fixed/sidebar-right/components/home-sidebar/components/algorithm-settings/components/InfoModal.js","components/fixed/sidebar-right/components/InfoIcon.js","components/fixed/sidebar-right/components/home-sidebar/components/algorithm-settings/AlgorithmSettings.js","components/fixed/sidebar-right/components/home-sidebar/components/GlobalChat.js","components/fixed/sidebar-right/components/home-sidebar/HomeSidebar.js","components/ProfileListItem.js","components/fixed/sidebar-right/components/profile-sidebar/components/recomended-profiles/components/InfoModal.js","components/fixed/sidebar-right/components/profile-sidebar/components/recomended-profiles/RecomendedProfiles.js","components/fixed/sidebar-right/components/profile-sidebar/ProfileSidebar.js","components/fixed/sidebar-right/SidebarRight.js","components/fixed/Header.js","components/likesmodal.js","pages/home/components/posts_/components/PostForm.js","components/PostListItem.js","pages/home/components/posts_/Posts.js","pages/home/components/profiles/components/ProfilesSearchInput.js","pages/home/components/profiles/Profiles.js","components/LikesModal.js","pages/home/components/explore/Explore.js","pages/home/components/trending/Trending.js","components/fixed/bottom-menu/components/PostIcon.js","components/fixed/bottom-menu/BottomMenu.js","pages/home/components/HomePageMenu.js","pages/home/Home.js","pages/notifications/components/InviteNotification.js","pages/notifications/components/NotificationContent.js","pages/notifications/components/NewLabel.js","pages/notifications/Notifications.js","components/fixed/header.js","pages/messages_/components/ModalContactSearch.js","pages/messages_/Websocket.js","pages/messages_/components/chat_/components/SendMessageForm.js","pages/messages_/components/chat_/components/MessageListItem.js","pages/messages_/components/chat_/Chat.js","pages/messages_/components/ContactListItem.js","pages/messages_/components/ContactFilterInput.js","pages/messages_/Messages.js","context/edit-profile/profile-image/ProfileImageContext.js","context/edit-profile/EditProfileContext.js","pages/profile/components/edit-profile/components/CroppieModal.js","pages/profile/components/edit-profile/components/EditProfileModal.js","pages/profile/components/edit-profile/EditProfile.js","pages/profile/components/Posts.js","pages/profile/components/interests/Interests.js","pages/profile/components/ProfileData.js","pages/profile/MyProfile.js","pages/settings_/components/SettingsMenu.js","pages/settings_/components/BlockedProfiles.js","pages/settings_/components/security_/SecurityMenu.js","pages/settings_/components/Faq.js","pages/settings_/components/security_/components/ChangePassword.js","pages/settings_/components/security_/components/DeleteAccount.js","pages/settings_/components/Feedback.js","pages/settings_/Settings.js","pages/profile/Profile.js","pages/profile/pages/Friends.js","pages/profile/components/interests/pages/InterestProfiles.js","pages/profile/pages/edit_interests/components/PublicInterests.js","pages/profile/pages/edit_interests/components/PrivateInterests.js","pages/profile/pages/edit_interests/EditInterests.js","components/CommentModal.js","pages/home/components/posts_/pages/post_/components/CommentListItem.js","components/fixed/bottom-menu/components/CommentIcon.js","pages/home/components/posts_/pages/post_/Post.js","pages/PostFormPage.js","App.js","index.js"],"names":["InvitesReceivedContext","createContext","InvitesReceivedProvider","props","useState","invitesReceivedNumber","setInvitesReceived","Provider","value","children","UnvisualizedCommentsContext","UnvisualizedCommentsProvider","unvisualizedCommentsNumber","setUnvisulaizedComments","UnvisualizedLikesContext","UnvisualizedLikesProvider","unvisualizedLikesNumber","setUnvisulaizedLikes","UnreadMessagesContext","UnreadMessagesProvider","unreadMessagesNumber","setUnreadMessagesNumber","AppContextProvider","SERVER_URL","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","handleLogout","window","confirm","location","replace","openCloseEmojiList","closing","el","querySelector","style","display","classList","remove","add","getActivePageOnLoad","querySelectorAll","forEach","currentUrl","href","includes","switchPage","e","isHome","target","onExpandableTextareaInput","elm","contains","nodeName","rows","minRows","getAttribute","_baseScrollHeight","savedValue","scrollHeight","getScrollHeight","Math","ceil","Sidebar","useContext","notificationsNumber","theme","localStorage","getItem","useEffect","getElementById","checked","getTheme","cssVariables","documentElement","setProperty","className","left","to","textDecoration","onClick","src","width","id","class","type","onChange","setItem","for","marginLeft","SidebarSlider","handlePageChange","opacity","bottom","background","FeedAlgorithmInfoModal","Modal","show","isOpen","onHide","hideModal","size","Header","closeButton","Title","Body","InfoIcon","top","right","color","FeedAlgorithm","interestsValue","setInterestsValue","ageValue","setAgeValue","friendsValue","setFriendsValue","isFriendValue","setIsFriendValue","infoModalIsOpen","setInfoModalIsOpen","marginTop","padding","min","max","onInput","defaultValue","GlobalChat","message","setMessage","height","borderTop","placeholder","disabled","fontSize","FeedSidebar","pageIndex","setPageIndex","pages","ProfileListItem","profile","myProfile","slug","key","photo","marginRight","textAlign","first_name","last_name","user","username","bio","RecomendedProfilesInfoModal","profileSlug","RecomendedProfiles","recomendedProfiles","setRecomendedProfiles","fetch","then","response","json","data","overflowY","map","ProfileSidebar","setPages","setMyProfile","urlArr","SidebarRight","page","setPage","match","params","path","parentsProps","backArrow","history","back","LikesModal","overflow","likes","like","borderLeft","borderRight","PostForm","isMobile","visualViewport","hashtags","taggedUsers","postContent","setPostContent","postFormImagePreview","setPostFormImagePreview","action","method","encType","data-min-rows","maxLength","autoFocus","margin","htmlFor","accept","reader","FileReader","onload","readyState","result","readAsDataURL","files","onEmojiClick","event","emojiObject","emoji","PostListItem","post","likeUnlikePost","stopPropagation","likeBtn","dataset","postid","console","log","renderParent","onanimationend","author","created","reverse","join","borderRadius","postId","openCloseExtraOptions","animationPlayState","addEventListener","fetchPosts","headers","deletePost","content","image","outline","comments","data-postid","openLikesModal","Posts","scrollCount","setState","posts","state","likesModal","onscroll","innerHeight","scrollY","body","offsetHeight","this","React","Component","ProfilesSearchInput","setFilteredProfiles","search","setSearch","searchType","setSearchType","openCloseSearchTypeSelector","Profiles","profiles","setProfiles","filteredProfiles","setScrollCount","handleRelationshipUpdate","preventDefault","pk","btn","innerHTML","JSON","stringify","cancelFriendRequest","data-pk","Explore","setPosts","setLikesModal","selectedInterest","element","innerText","interests","interest","title","Trending","BottomMenu","HomePageMenu","feedPageTitle","profilesPageTitle","explorePageTitle","trendsPageTitle","handleMouseIn","text","handleMouseOut","icon","onMouseEnter","onMouseOut","Home","elements","toLowerCase","newsPageTitle","PostIcon","InviteListItem","invite","replyRequest","borderBottom","backgroundColor","sender","data-senderid","data-reply","NotificationContent","notification","paddingTop","NewLabel","Notifications","notificationsFetchInterval","invites","setInvites","unvisualizedPostLikes","setUnvisualizedPostLikes","visualizedPostLikes","setVisualizedPostLikes","unvisualizedComments","setUnvisualizedComments","visualizedComments","setVisualizedComments","fetchNotifications","setInterval","clearInterval","updateNotificationsNumber","requestBody","senderid","reply","comment","ModalContactSearch","modalProfiles","setParentState","addingNewChat","query","WebSocketService","callbacks","socketRef","instance","chatUrl","WebSocket","onopen","socketNewMessage","command","onmessage","onerror","onclose","close","parsedData","parse","Object","keys","messages","chatId","sendMessage","from","messagesCallback","newMessageCallback","send","err","WebSocketInstance","getInstance","SendMessageForm","otherProfile","updateMessagesComponent","onSubmit","messageObject","blocked_users","u","alert","newChatMessage","MessageListItem","currentUser","timestamp","ts","Date","day","getDate","month","getMonth","hour","getHours","minute","getMinutes","getFullYear","renderTimestamp","read","Chat","handleComponentChange","otherUsername","scrolledToBottom","scrollToBottom","readMessages","chat_id","chatLog","scrollTop","initialiseChat","waitForSocketConnection","addCallbacks","getMessages","bind","addMessage","fetchMessages","connect","activeElement","focus","disconnect","newProps","updateUnreadMessagesNumber","undefined","callback","component","setTimeout","openModal","ContactListItem","unreadMessagesCounter","lastChatMessage","activeChats","activeChatsProfiles","whiteSpace","maxHeight","indexOf","setLastChatMessage","contact","slice","ContactFilterInput","setHasFilteredProfiles","fetchActiveChatProfiles","filter","p","renderedActiveChatsProfiles","setContactSearch","Messages","handleReceiveProps","participants","other_username","hasFilteredProfiles","chats","rerenderingInterval","bool","ProfileImageContext","ProfileImageProvider","profileImage","setProfileImage","EditProfileContext","EditProfileProvider","CroppieModal","imageElement","useRef","cropper","Cropper","current","viewMode","scalable","aspectRatio","crop","canvas","getCroppedCanvas","toDataURL","stopCropping","ref","alt","crossorigin","EditProfileModal","editingBioContent","setEditingBioContent","marginBottom","handleProfileImageChange","email","birth_date","Footer","closeModal","submit","EditProfile","isCroppingImage","setIsCropping","isCropping","fetchProfile","Interests","public","toUpperCase","ProfileData","friends","MyProfile","setProfile","currentPageIsPosts","setCurrentPageIsPosts","isEditing","setIsEditing","SettingsMenu","pageChange","BlockUser","blockedProfiles","setBlockedProfiles","SecurityMenu","Faq","open","ChangePassword","errorMessage","setErrorMessage","successMessage","setSuccessMessage","role","passwordEl","newPasswordEl","newPasswordcEl","password","newPassword","newPasswordc","new_password","new_passwordc","DeleteAccount","displayErrorMessage","setDisplayErrorMessage","fontWeight","Feedback","setName","selectedRating","handleFaceMouseEnter","img","handleFaceMouseLeave","selected","selectFace","data-selected","onMouseLeave","Settings","Profile","fetchRelationship","label","relationship","relationshipButtonLabel","sendFriendRequest","removeFromFriends","acceptFriendRequest","blockUnblockUser","alertMessage","baseState","onmouseenter","onmouseout","Friends","setFriends","useParams","friend","InterestProfiles","PublicInterests","addTags","tag","parentElement","removeChild","tags","sort","tagContainer","prepend","div","createElement","span","closeIcon","setAttribute","appendChild","interestsInput","createTag","setInterests","input","push","tagLabel","index","PrivateInterests","EditInterests","publicInterests","setPublicInterests","privateInterests","setPrivateInterests","public_interests","private_interests","CommentModal","commentContent","setCommentContent","CommentListItem","fetchPost","setPostLikesModal","likeUnlikeComment","commentid","commentId","deleteComment","data-commentid","Post","setPost","commentModalIsOpen","setCommentModalIsOpen","postLikesModal","commentLikesModal","setCommentLikesModal","CommentIcon","App","render","exact","ProfileFriends","PostFormPage","ReactDOM"],"mappings":"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","file":"static/js/main.257140ce.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react'\r\n\r\nexport const InvitesReceivedContext = createContext()\r\n\r\nexport const InvitesReceivedProvider = props => {\r\n    const [invitesReceivedNumber, setInvitesReceived] = useState(0)\r\n\r\n    return (\r\n        <InvitesReceivedContext.Provider value={[invitesReceivedNumber, setInvitesReceived]}>\r\n            {props.children}\r\n        </InvitesReceivedContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const UnvisualizedCommentsContext = createContext()\r\n\r\nexport const UnvisualizedCommentsProvider = props => {\r\n    const [unvisualizedCommentsNumber, setUnvisulaizedComments] = useState(0)\r\n\r\n    return (\r\n        <UnvisualizedCommentsContext.Provider value={[unvisualizedCommentsNumber, setUnvisulaizedComments]}>\r\n            {props.children}\r\n        </UnvisualizedCommentsContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const UnvisualizedLikesContext = createContext()\r\n\r\nexport const UnvisualizedLikesProvider = props => {\r\n    const [unvisualizedLikesNumber, setUnvisulaizedLikes] = useState(0)\r\n\r\n    return (\r\n        <UnvisualizedLikesContext.Provider value={[unvisualizedLikesNumber, setUnvisulaizedLikes]}>\r\n            {props.children}\r\n        </UnvisualizedLikesContext.Provider>\r\n    )\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const UnreadMessagesContext = createContext()\r\n\r\nexport const UnreadMessagesProvider = props => {\r\n    const [unreadMessagesNumber, setUnreadMessagesNumber] = useState(0)\r\n    \r\n    return (\r\n        <UnreadMessagesContext.Provider value={[unreadMessagesNumber, setUnreadMessagesNumber]}>\r\n            {props.children}\r\n        </UnreadMessagesContext.Provider>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { InvitesReceivedContext, InvitesReceivedProvider } from './invites-received-number/InvitesReceivedContext'\r\nimport { UnvisualizedCommentsContext, UnvisualizedCommentsProvider } from './unvisualized-comments-number/UnvisualizedCommentsContext'\r\nimport { UnvisualizedLikesContext, UnvisualizedLikesProvider } from './unvisualized-likes-number/UnvisualizedLikesContext'\r\nimport { UnreadMessagesContext, UnreadMessagesProvider } from './unread-messages-number/UnreadMessagesContext'\r\nexport { InvitesReceivedContext, UnvisualizedCommentsContext, UnvisualizedLikesContext, UnreadMessagesContext }\r\n\r\nexport default function AppContextProvider(props) {\r\n    return (\r\n        <InvitesReceivedProvider>\r\n            <UnvisualizedCommentsProvider>\r\n                <UnvisualizedLikesProvider>\r\n                    <UnreadMessagesProvider>\r\n                        {props.children}\r\n                    </UnreadMessagesProvider>\r\n                </UnvisualizedLikesProvider>\r\n            </UnvisualizedCommentsProvider>\r\n        </InvitesReceivedProvider>\r\n    )\r\n}","//const SERVER_URL = 'https://napker.herokuapp.com'\r\n//const SOCKET_URL = 'wss://napker.herokuapp.com'\r\nconst SERVER_URL = 'http://127.0.0.1:8000'\r\nconst SOCKET_URL = 'ws://127.0.0.1:8000'\r\n\r\nconst LOGO_URL = '/static/media/favicon.svg'\r\n\r\nexport { SERVER_URL, SOCKET_URL, LOGO_URL }\r\n","import { SERVER_URL } from './settings'\r\n\r\nexport const csrftoken = getCookie('csrftoken')\r\n\r\nfunction getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== '') {\r\n    const cookies = document.cookie.split(';');\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      // Does this cookie string begin with the name we want?\r\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nexport const handleLogout = () => {\r\n  const bool = window.confirm('Sair do Napker?\\nVocê poderá entrar novamente quando quiser.')\r\n  if (bool) {\r\n    window.location.replace(`${SERVER_URL}/logout`)\r\n  }\r\n}\r\n\r\nexport const openCloseEmojiList = (closing = false) => {\r\n  const el = document.querySelector('#emoji-list-container')\r\n  const style = el.style\r\n  if (closing) {\r\n    style.display = 'none'\r\n    document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n  } else {\r\n    if (!style.display || style.display === 'none') {\r\n      style.display = 'initial'\r\n      document.querySelector('#emoji-button').classList.add('emoji-button-active')\r\n    } else {\r\n      style.display = 'none'\r\n      document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n    }\r\n  }\r\n}\r\n\r\n// NAV AND BOTTOM MENU\r\n\r\nexport const getActivePageOnLoad = () => {\r\n  document.querySelectorAll('.nav-menu-item-active').forEach(el => {\r\n    el.classList.remove('nav-menu-item-active')\r\n  })\r\n  const currentUrl = window.location.href.split('/')\r\n  if (currentUrl.includes('home')) {\r\n    document.querySelector('#home-menu') && document.querySelector('#home-menu').classList.add('nav-menu-item-active')\r\n    document.querySelector('#bottom-home-menu') && document.querySelector('#bottom-home-menu').classList.add('nav-menu-item-active')\r\n  }\r\n  else if (currentUrl.includes('notifica%C3%A7%C3%B5es')) {\r\n    document.querySelector('#notifications-menu') && document.querySelector('#notifications-menu').classList.add('nav-menu-item-active')\r\n    document.querySelector('#bottom-notifications-menu') && document.querySelector('#bottom-notifications-menu').classList.add('nav-menu-item-active')\r\n  }\r\n  else if (currentUrl.includes('mensagens')) {\r\n    document.querySelector('#messages-menu') && document.querySelector('#messages-menu').classList.add('nav-menu-item-active')\r\n    document.querySelector('#bottom-messages-menu') && document.querySelector('#bottom-messages-menu').classList.add('nav-menu-item-active')\r\n  }\r\n  else if (currentUrl.includes('perfil')) {\r\n    document.querySelector('#profile-menu') && document.querySelector('#profile-menu').classList.add('nav-menu-item-active')\r\n    document.querySelector('#bottom-profile-menu') && document.querySelector('#bottom-profile-menu').classList.add('nav-menu-item-active')\r\n  }\r\n  else if (currentUrl.includes('configura%C3%A7%C3%B5es')) {\r\n    document.querySelector('#settings-menu') && document.querySelector('#settings-menu').classList.add('nav-menu-item-active')\r\n    document.querySelector('#bottom-settings-menu') && document.querySelector('#bottom-settings-menu').classList.add('nav-menu-item-active')\r\n  }\r\n}\r\n\r\nexport const switchPage = (e, isHome = false) => {\r\n  if (!isHome) {\r\n    document.querySelectorAll('.nav-menu-item-active').forEach(el => {\r\n      el.classList.remove('nav-menu-item-active')\r\n    })\r\n    e.target.classList.add('nav-menu-item-active')\r\n  } else {\r\n    document.querySelectorAll('.nav-menu-item-active').forEach(el => {\r\n      el.classList.remove('nav-menu-item-active')\r\n    })\r\n    document.querySelector('#home-menu').classList.add('nav-menu-item-active')\r\n  }\r\n}\r\n\r\n// EXPANDABLE TEXTAREA\r\n\r\nfunction getScrollHeight(elm) {\r\n  var savedValue = elm.value\r\n  elm.value = ''\r\n  elm._baseScrollHeight = elm.scrollHeight\r\n  elm.value = savedValue\r\n}\r\n\r\nexport function onExpandableTextareaInput({ target: elm }) {\r\n  // make sure the input event originated from a textarea and it's desired to be auto-expandable\r\n  if (!elm.classList.contains('autoExpand') || !elm.nodeName == 'TEXTAREA') return\r\n\r\n  var minRows = elm.getAttribute('data-min-rows') | 0, rows;\r\n  !elm._baseScrollHeight && getScrollHeight(elm)\r\n\r\n  elm.rows = minRows\r\n  rows = Math.ceil((elm.scrollHeight - elm._baseScrollHeight) / 16)\r\n  elm.rows = minRows + rows\r\n}\r\n","import React, { useEffect, useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL, LOGO_URL } from '../../config/settings'\r\nimport { getActivePageOnLoad, switchPage } from '../../config/utils'\r\nimport {\r\n    InvitesReceivedContext, UnvisualizedCommentsContext,\r\n    UnvisualizedLikesContext, UnreadMessagesContext\r\n} from '../../context/app/AppContext'\r\n\r\nexport default function Sidebar() {\r\n    const [invitesReceivedNumber,] = useContext(InvitesReceivedContext)\r\n    const [unvisualizedCommentsNumber,] = useContext(UnvisualizedCommentsContext)\r\n    const [unvisualizedLikesNumber,] = useContext(UnvisualizedLikesContext)\r\n\r\n    const [unreadMessagesNumber,] = useContext(UnreadMessagesContext)\r\n\r\n    let notificationsNumber = invitesReceivedNumber + unvisualizedLikesNumber + unvisualizedCommentsNumber\r\n\r\n    let theme = window.localStorage.getItem('theme') || 'light'\r\n\r\n\r\n    useEffect(() => {\r\n        document.getElementById('chk').checked = theme === 'dark'\r\n        getActivePageOnLoad()\r\n        getTheme()\r\n    }, [])\r\n\r\n    const switchTheme = () => {\r\n        theme = theme === 'light' ? 'dark' : 'light'\r\n        getTheme()\r\n        window.localStorage.setItem('theme', theme)\r\n    }\r\n\r\n    const getTheme = () => {\r\n        const cssVariables = document.documentElement.style\r\n\r\n        if (theme === 'light') {\r\n            cssVariables.setProperty('--border-color', '#f3f3f3')\r\n            cssVariables.setProperty('--background', '#f3f3f3')\r\n            cssVariables.setProperty('--fixed-components-background', '#fcfdfc')\r\n            cssVariables.setProperty('--heart-color', '#E0245E')\r\n            cssVariables.setProperty('--heart-background-hover', '#F5E2E8')\r\n            cssVariables.setProperty('--primary-color', '#48D1AF')\r\n            cssVariables.setProperty('--secondary-color', 'rgba(119, 147, 125, .1)')\r\n            cssVariables.setProperty('--primary-color-hover', '#3FB597')\r\n            cssVariables.setProperty('--primary-grey', '#363636')\r\n            cssVariables.setProperty('--loader-background', 'rgba(119, 147, 125, .3)')\r\n            cssVariables.setProperty('--theme-base-color', '#fff')\r\n            cssVariables.setProperty('--theme-base-color-hover', 'rgba(128, 128, 128, .01)')\r\n            cssVariables.setProperty('--view-more-select-border', 'rgba(0, 0, 0, .2)')\r\n\r\n        } else if (theme === 'dark') {\r\n            cssVariables.setProperty('--border-color', '#131313')\r\n            cssVariables.setProperty('--background', '#131313')\r\n            cssVariables.setProperty('--fixed-components-background', '#000')\r\n            cssVariables.setProperty('--heart-color', '#E0245E')\r\n            cssVariables.setProperty('--heart-background-hover', '#F5E2E8')\r\n            cssVariables.setProperty('--primary-color', '#48D1AF')\r\n            cssVariables.setProperty('--secondary-color', 'rgba(119, 147, 125, .1)')\r\n            cssVariables.setProperty('--primary-color-hover', '#3FB597')\r\n            cssVariables.setProperty('--primary-grey', '#D9D9D9')\r\n            cssVariables.setProperty('--loader-background', 'rgba(119, 147, 125, .3)')\r\n            cssVariables.setProperty('--theme-base-color', '#000')\r\n            cssVariables.setProperty('--theme-base-color-hover', 'rgba(128, 128, 128, .01)')\r\n            cssVariables.setProperty('--view-more-select-border', 'rgba(255, 255, 255, .2)')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\" style={{ left: '0' }}>\r\n            <div>\r\n                <div className=\"logo-container\">\r\n                    <Link to=\"/home\" style={{ textDecoration: 'none' }} onClick={e => switchPage(e, true)}>\r\n                        <img src={`${SERVER_URL}${LOGO_URL}`} style={{ width: '25px' }} />\r\n                    </Link>\r\n                </div>\r\n                <ul>\r\n                    <Link to=\"/home\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"home-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                            <span>Home</span>\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/notificações\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"notifications-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                            <span>Notificações</span>\r\n                            {!notificationsNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {notificationsNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/mensagens\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"messages-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-envelope sidebar-menu-icon\" />\r\n                            <span>Mensagens</span>\r\n                            {!unreadMessagesNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {unreadMessagesNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/perfil\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"profile-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                            <span>Perfil</span>\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/configurações\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"settings-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                            <span>Configurações</span>\r\n                        </li>\r\n                    </Link>\r\n                </ul>\r\n            </div>\r\n            <div class=\"d-flex justify-content-start sidebar-menu-item\">\r\n                <div class=\"one-quarter\" id=\"switch\">\r\n                    <input type=\"checkbox\" class=\"checkbox\" id=\"chk\" onChange={switchTheme} />\r\n                    <label class=\"label m-0\" for=\"chk\">\r\n                        <i class=\"fas fa-sun\"></i>\r\n                        <i class=\"fas fa-moon\"></i>\r\n                        <div class=\"ball\"></div>\r\n                    </label>\r\n                </div>\r\n                <span style={{ marginLeft: '10px' }}>Tema</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function SidebarSlider(props) {\r\n\r\n    const handlePageChange = e => {\r\n        document.querySelectorAll('.slider-navigation-item').forEach(el => {\r\n            el.style.opacity = .5\r\n        })\r\n        e.target.style.opacity = 1\r\n\r\n        props.handlePageChange(e)\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex w-100 justify-content-center position-absolute py-3\" style={{ bottom: '0' }}>\r\n            <div\r\n                className=\"w-25 p-1 m-2 primary-hover slider-navigation-item\"\r\n                id=\"0\"\r\n                style={{ background: 'var(--primary-color)', opacity: '1' }}\r\n                onClick={handlePageChange}\r\n            />\r\n            <div\r\n                className=\"w-25 p-1 m-2 primary-hover slider-navigation-item\"\r\n                id=\"1\"\r\n                style={{ background: 'var(--primary-color)', opacity: '.5' }}\r\n                onClick={handlePageChange}\r\n            />\r\n            <div\r\n                className=\"w-25 p-1 m-2 primary-hover slider-navigation-item\"\r\n                id=\"2\"\r\n                style={{ background: 'var(--primary-color)', opacity: '.5' }}\r\n                onClick={handlePageChange}\r\n            />\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\n\r\nexport default function FeedAlgorithmInfoModal(props) {\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Configurações do Algoritmo</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <h3>Como o nosso algoritmo deve funcionar?</h3>\r\n                <p>\r\n                    Os critérios presentes na barra lateral (Interesses em comum, Semelhança de idade...) são utilizados para calcularmos a\r\n                    relevância de um perfil em relação a outro. Sabendo disso, você pode escolher o peso de cada critério e assim, personalizar o\r\n                    algoritmo que calculará a relevância dos outros perfis.\r\n                    <br />\r\n                    <br />\r\n                    Exemplo: Caso você mude o peso do critério \"Interesses em comum\" para 100 e todos os outros para 0, os perfis da página \"Encontrar perfis\" \r\n                    serão ordenados levando em consideração apenas a quantidade de interesses em comum que o usuário tem com você.\r\n                    <br />\r\n                    <br />\r\n                    A relevância de um post é calculada baseada na relevância do autor do mesmo e dos perfis que curtiram a publicação. Ou seja,\r\n                    ao decidir como a relevância de um perfil será calculada, você está personalizando o algoritmo que decidirá quais posts devem aparecer para você\r\n                    e em que ordem.\r\n                </p>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function InfoIcon(props) {\r\n\r\n    return (\r\n        <i\r\n            class=\"fas fa-info-circle position-absolute hover-pointer py-3\"\r\n            style={{ top: '0', right: '0', color: 'var(--text-secondary)' }}\r\n            onClick={props.onClick}\r\n        />\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport InfoModal from './components/InfoModal'\r\nimport InfoIcon from '../../../InfoIcon'\r\n\r\n\r\nexport default function FeedAlgorithm() {\r\n    const [interestsValue, setInterestsValue] = useState(50)\r\n    const [ageValue, setAgeValue] = useState(50)\r\n    const [friendsValue, setFriendsValue] = useState(50)\r\n    const [isFriendValue, setIsFriendValue] = useState(50)\r\n\r\n    const [infoModalIsOpen, setInfoModalIsOpen] = useState(false)\r\n\r\n    return (\r\n        <>\r\n            <InfoModal isOpen={infoModalIsOpen} hideModal={() => setInfoModalIsOpen(false)} />\r\n            <InfoIcon onClick={() => setInfoModalIsOpen(true)} />\r\n            <div className=\"d-flex flex-column justify-content-start align-items-center\" style={{ marginLeft: '10%' }}>\r\n                <div className=\"b-bottom\" style={{ marginTop: 'var(--header-heigth)', width: '100%' }}>\r\n                    <h6>Personalize o algoritmo que calcula o quão relevante um perfil é para você.</h6>\r\n                </div>\r\n                <div className=\"b-bottom py-3\" style={{ width: '100%' }}>\r\n                    <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                        <h6>Interesses em comum</h6>\r\n                        <div>{interestsValue}</div>\r\n                    </div>\r\n                    <div class=\"range\">\r\n                        <input type=\"range\" min=\"0\" max=\"100\" onInput={e => setInterestsValue(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"b-bottom py-3\" style={{ width: '100%' }}>\r\n                    <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                        <h6>Semelhança de idade</h6>\r\n                        <div>{ageValue}</div>\r\n                    </div>\r\n                    <div class=\"range\">\r\n                        <input type=\"range\" min=\"0\" max=\"100\" defaultValue=\"50\" onInput={e => setAgeValue(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"b-bottom py-3\" style={{ width: '100%' }}>\r\n                    <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                        <h6>Amigos em comum</h6>\r\n                        <div>{friendsValue}</div>\r\n                    </div>\r\n                    <div class=\"range\">\r\n                        <input type=\"range\" min=\"0\" max=\"100\" defaultValue=\"50\" onInput={e => setFriendsValue(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"py-3\" style={{ width: '100%' }}>\r\n                    <div className=\"d-flex justify-content-between\" style={{ padding: '5px' }}>\r\n                        <h6>Ser meu amigo</h6>\r\n                        <div>{isFriendValue}</div>\r\n                    </div>\r\n                    <div class=\"range\">\r\n                        <input type=\"range\" min=\"0\" max=\"100\" defaultValue=\"50\" onInput={e => setIsFriendValue(e.target.value)} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\n\r\nexport default function GlobalChat() {\r\n    const [message, setMessage] = useState('')\r\n\r\n    const messageChangeHandler = e => {\r\n        setMessage(e.target.value)\r\n        const el = document.querySelector('#chat-message-submit')\r\n        el.disabled = e.target.value.trim() === ''\r\n    }\r\n\r\n    return (\r\n        <div className=\"position-relative d-flex flex-column justify-content-between align-items-center w-100 h-100\">\r\n            <div className=\"d-flex justify-content-center align-items-center w-100 b-bottom\" style={{ height: 'var(--header-heigth)' }}>\r\n                <h4>Chat global</h4>\r\n            </div>\r\n            <div className=\"d-flex flex-column justify-content-center align-items-center w-100 py-2 b-bottom\">\r\n                <h6>Hashtag em alta:</h6>\r\n                <h4 style={{ color: 'var(--primary-color)' }} >#napker</h4>\r\n            </div>\r\n            <div className=\"chat-log\">\r\n                <li className=\"received\">\r\n                    <p>\r\n                        <h6 className=\"fw-bold mb-1\">Devs Napker</h6>\r\n                        Olá tester! Ficamos felizes de ter você aqui.\r\n                    </p>\r\n                </li>\r\n                <li className=\"received\">\r\n                    <p>\r\n                        <h6 className=\"fw-bold mb-1\">Devs Napker</h6>\r\n                        O chat global ainda está em desenvolvimento...\r\n                        <br />\r\n                        <br />\r\n                        Nosso objetivo com ele é que os usuários conversem entre si sobre a hashtag mais usada no dia.\r\n                        Dessa forma, criaremos mais uma forma de engajamento e interação do usuário com a plataforma.\r\n                    </p>\r\n                </li>\r\n                <li className=\"received\">\r\n                    <p>\r\n                        <h6 className=\"fw-bold mb-1\">Devs Napker</h6>\r\n                        Depois passa no grupo pra nos dizer o que achou dessa ideia. ;)\r\n                    </p>\r\n                </li>\r\n            </div>\r\n            <div\r\n                className=\"d-flex justify-content-center align-items-center w-100 px-1 pt-2 pb-4 my-3 border-bottom\"\r\n                style={{ borderTop: '2px solid var(--border-color)', background: '#fff' }}\r\n            >\r\n                <input\r\n                    placeholder=\"Mensagem\"\r\n                    className=\"message-input w-80\"\r\n                    id=\"chat-message-input\"\r\n                    value={message}\r\n                    onChange={messageChangeHandler}\r\n                />\r\n\r\n                <button\r\n                    className=\"btn btn-primary d-flex justify-content-center align-items-center\"\r\n                    id=\"chat-message-submit\"\r\n                    style={{ height: '35px' }}\r\n                    disabled\r\n                >\r\n                    <i class=\"fas fa-chevron-right\" style={{ fontSize: 'large' }} />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport SidebarSlider from '../SidebarSlider'\r\n\r\nimport FeedAlgorithm from './components/algorithm-settings/AlgorithmSettings'\r\nimport GlobalChat from './components/GlobalChat'\r\n\r\n\r\nexport default function FeedSidebar() {\r\n    const [pageIndex, setPageIndex] = useState(0)\r\n\r\n    const pages = [<FeedAlgorithm />, <GlobalChat />, 'Em breve...']\r\n\r\n    return (\r\n        <>\r\n            {pages[pageIndex]}\r\n            <SidebarSlider handlePageChange={e => setPageIndex(e.target.id)} />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\n\r\nexport default function ProfileListItem(props) {\r\n    const profile = props.profile\r\n    const myProfile = props.myProfile\r\n\r\n    return (\r\n        <Link to={profile.id === myProfile.id ?\r\n            '/perfil' : `/user/${profile.slug}`}\r\n            style={{ color: 'var(--primary-grey)', textDecoration: 'none' }}\r\n        >\r\n            <li\r\n                className=\"position-relative border-0 b-bottom base-hover\"\r\n                key={profile.id}\r\n                style={{ ...props.style, padding: '.75rem 1.25rem' }}\r\n                onClick={props.onClick}\r\n            >\r\n                <div className=\"d-flex\">\r\n                    <div className=\"profile-img-container\">\r\n                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                            className=\"profile-img-med\"\r\n                            style={{ marginRight: '10px' }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"d-flex flex-column w-100\">\r\n                        <div className=\"profile-row-top\">\r\n                            <div className=\"main-profile-data\">\r\n                                <strong style={{ textAlign: 'start' }}>\r\n                                    {profile.first_name} {profile.last_name}\r\n                                </strong>\r\n                                <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                            </div>\r\n                            {props.children}\r\n                        </div>\r\n                        <div className=\"profile-row-bottom\">\r\n                            {profile.bio}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        </Link>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\n\r\nexport default function RecomendedProfilesInfoModal(props) {\r\n    const profileSlug = props.profileSlug\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Perfis recomendados</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <h3>Como decidimos quais perfis aparecem na barra lateral?</h3>\r\n                <p>\r\n                    Os perfis que estão na barra lateral são considerados os perfis que mais \"batem\" com @{profileSlug}.\r\n                    Ou seja, são perfis que possuem bastante afinidade com o usuário.\r\n                </p>\r\n\r\n                <br />\r\n                <br />\r\n\r\n                <h3>Como é calculada a relevância de um perfil para @{profileSlug}?</h3>\r\n                <p>\r\n                    Os critérios presentes nas configurações do algoritmo (Interesses em comum, Semelhança de idade...) são utilizados para calcularmos a\r\n                    relevância de um perfil em relação a outro. Sabendo disso, você pode escolher o peso de cada critério e assim, personalizar o\r\n                    algoritmo que calculará a relevância dos perfis.\r\n                </p>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../../../config/settings'\r\nimport ProfileListItem from '../../../../../../ProfileListItem'\r\n\r\nimport InfoModal from './components/InfoModal'\r\nimport InfoIcon from '../../../InfoIcon'\r\n\r\n\r\nexport default function RecomendedProfiles(props) {\r\n    const [recomendedProfiles, setRecomendedProfiles] = useState(null)\r\n    const myProfile = props.myProfile\r\n    const profileSlug = props.profileSlug\r\n\r\n    const [infoModalIsOpen, setInfoModalIsOpen] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (profileSlug) {\r\n            fetch(`${SERVER_URL}/profile-api/profile-list/${profileSlug}`)\r\n                .then(response => response.json())\r\n                .then(data => setRecomendedProfiles(data))\r\n        }\r\n    }, [props])\r\n\r\n    return (\r\n        <>\r\n            <InfoModal isOpen={infoModalIsOpen} hideModal={() => setInfoModalIsOpen(false)} profileSlug={profileSlug} />\r\n            <div className=\"d-flex justify-content-center align-items-center m-0 b-bottom\" style={{ height: 'var(--header-heigth)' }}>\r\n                <h5>Você pode gostar</h5>\r\n            </div>\r\n            <InfoIcon onClick={() => setInfoModalIsOpen(true)} />\r\n            <div className=\"w-100\" style={{ overflowY: 'hidden' }}>\r\n                {recomendedProfiles !== null ?\r\n                    <>\r\n                        {recomendedProfiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem profile={profile} myProfile={myProfile} />\r\n                            )\r\n                        })}\r\n                    </>\r\n                    :\r\n                    <div className=\"loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport RecomendedProfiles from './components/recomended-profiles/RecomendedProfiles'\r\nimport SidebarSlider from '../SidebarSlider'\r\n\r\n\r\nexport default function ProfileSidebar(props) {\r\n    const [pages, setPages] = useState(null)\r\n    const [pageIndex, setPageIndex] = useState(0)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const urlArr = window.location.href.split('/')\r\n        if (myProfile) {\r\n            const profileSlug = urlArr[urlArr.length - 2] === 'user' ? urlArr[urlArr.length - 1] : urlArr[urlArr.length - 1] === 'perfil' ? myProfile.slug : false\r\n            setPages([\r\n                <RecomendedProfiles myProfile={myProfile} profileSlug={profileSlug} />,\r\n                'Em breve...',\r\n                'Em breve...'\r\n            ])\r\n        } else {\r\n            fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setMyProfile(data)\r\n                    const profileSlug = urlArr[urlArr.length - 2] === 'user' ? urlArr[urlArr.length - 1] : urlArr[urlArr.length - 1] === 'perfil' ? data.slug : false\r\n                    setPages([\r\n                        <RecomendedProfiles myProfile={data} profileSlug={profileSlug} />,\r\n                        'Em breve...',\r\n                        'Em breve...'\r\n                    ])\r\n                })\r\n        }\r\n    }, [props])\r\n\r\n    return (\r\n        <>\r\n            {myProfile !== null && pages !== null ?\r\n                <>\r\n                    {pages[pageIndex]}\r\n                    <SidebarSlider handlePageChange={e => setPageIndex(e.target.id)} />\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport HomeSidebar from './components/home-sidebar/HomeSidebar'\r\nimport ProfileSidebar from './components/profile-sidebar/ProfileSidebar'\r\n\r\n\r\nexport default function SidebarRight(props) {\r\n    const [page, setPage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        setPage(props.match.params.path)\r\n    }, [props])\r\n\r\n    const pages = {\r\n        'home': <HomeSidebar />,\r\n        'perfil': <ProfileSidebar parentsProps={props} />, // passing parent props to rerender the profile sidebar on props change... otherwise it wouldn't update\r\n        'user': <ProfileSidebar parentsProps={props} />,\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\" style={{ right: '0' }}>\r\n            {pages[page]}\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <div className=\"header fixed-top b-bottom\">\r\n            {!props.backArrow ? '' :\r\n                <i class=\"fas fa-arrow-left left-arrow-icon\" onClick={() => window.history.back()} />\r\n            }\r\n            <strong>{props.page}</strong>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport ProfileListItem from './ProfileListItem'\r\n\r\nexport default function LikesModal(props) {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Curtidas</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {props.likes &&\r\n                        props.likes.map(like => like.profile).map(profile => {\r\n                            return (\r\n                                <ProfileListItem\r\n                                    profile={profile}\r\n                                    myProfile={myProfile}\r\n                                    style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    onClick={props.hideModal}\r\n                                />\r\n                            )\r\n                        })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Picker from 'emoji-picker-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport { csrftoken, openCloseEmojiList } from '../../../../../config/utils'\r\n\r\nexport default function PostForm(props) {\r\n    const myProfile = props.myProfile\r\n    const isMobile = visualViewport.width <= 980\r\n\r\n    const [hashtags, setHashtags] = useState([])\r\n    const [taggedUsers, setTaggedUsers] = useState([])\r\n    const [postContent, setPostContent] = useState('')\r\n    const [postFormImagePreview, setPostFormImagePreview] = useState(null)\r\n\r\n    const handlePostContentChange = e => {\r\n        setPostContent(e.target.value)\r\n        const el = document.querySelector('#post-form-submit-btn')\r\n        el.disabled = e.target.value.trim() === '' && !postFormImagePreview\r\n    }\r\n\r\n    const handlePostImageChange = e => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                setPostFormImagePreview(reader.result)\r\n                document.querySelector('#post-img-container').style.display = 'initial'\r\n                document.querySelector('#post-form-submit-btn').disabled = false\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    const handleCloseImage = () => {\r\n        document.querySelector('#post-img-container').style.display = 'none'\r\n        document.querySelector('#post-image').value = ''\r\n        if (postContent.trim() === '') document.querySelector('#post-form-submit-btn').disabled = true\r\n        setPostFormImagePreview(null)\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setPostContent(postContent + emojiObject.emoji)\r\n        document.querySelector('#post-form-submit-btn').disabled = false\r\n    }\r\n\r\n    return (\r\n        <form\r\n            action={`${SERVER_URL}/post-api/create-post`}\r\n            method=\"POST\"\r\n            className=\"create-post-form\"\r\n            encType=\"multipart/form-data\"\r\n        >\r\n            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n            <input type=\"hidden\" name=\"hashtags\" value={hashtags} />\r\n            <input type=\"hidden\" name=\"tagged-usernames\" value={taggedUsers} />\r\n\r\n            <div className=\"d-flex\">\r\n                <Link to=\"/perfil\">\r\n                    <img\r\n                        src={`${SERVER_URL}${myProfile.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n                <textarea\r\n                    className='autoExpand'\r\n                    rows='3'\r\n                    data-min-rows='3'\r\n                    name=\"post-content\"\r\n                    value={postContent}\r\n                    placeholder=\"O que passa pela sua cabeça?\"\r\n                    maxLength={300}\r\n                    autoFocus\r\n                    style={{ color: 'var(--primary-grey)', background: 'var(--theme-base-color)' }}\r\n                    onChange={handlePostContentChange}\r\n                />\r\n            </div>\r\n            <div className=\"w-100 d-flex justify-content-center\">\r\n                <div\r\n                    className=\"post-img-container\"\r\n                    id=\"post-img-container\">\r\n                    <div\r\n                        className=\"post-img-options\"\r\n                    >\r\n                        <i\r\n                            className=\"far fa-times-circle\"\r\n                            onClick={handleCloseImage}\r\n                        />\r\n                    </div>\r\n                    <img\r\n                        src={postFormImagePreview}\r\n                        className=\"post-img mt-0\"\r\n                        id=\"post-form-img-preview\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            <div className=\"d-flex justify-content-between\" style={{ margin: '0px 70px 0 70px' }}>\r\n                <div className=\"post-extra-options\">\r\n                    <label htmlFor=\"post-image\" class=\"far fa-image\" />\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\"image/png, image/jpg, image/jpeg\"\r\n                        name=\"post-image\"\r\n                        id=\"post-image\"\r\n                        style={{ display: 'none' }}\r\n                        onChange={handlePostImageChange}\r\n                    />\r\n                    {!isMobile &&\r\n                        <>\r\n                            <label\r\n                                className=\"far fa-smile\"\r\n                                id=\"emoji-button\"\r\n                                onClick={() => openCloseEmojiList(false)}\r\n                            />\r\n                            <div className=\"emoji-list-container\" id=\"emoji-list-container\">\r\n                                <Picker onEmojiClick={onEmojiSelect} />\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </div>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary\"\r\n                    id=\"post-form-submit-btn\"\r\n                    style={{ height: '40px' }}\r\n                    disabled\r\n                >\r\n                    Postar\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport { csrftoken } from '../config/utils'\r\n\r\nexport default function PostListItem(props) {\r\n    const post = props.post\r\n    const myProfile = props.myProfile\r\n\r\n    const likeUnlikePost = e => {\r\n        e.stopPropagation()\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.renderParent()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            likeBtn.classList.add('animated')\r\n            likeBtn.onanimationend = () => {\r\n                likeBtn.classList.remove('animated')\r\n            }\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.renderParent()\r\n                })\r\n        }\r\n    }\r\n\r\n    const openCloseExtraOptions = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-view-more-select-${postId}`)\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            style.display = 'flex'\r\n        } else {\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ação é irreversível.')) {\r\n            el.style.animationPlayState = 'running'\r\n            el.addEventListener('animationend', () => {\r\n                this.fetchPosts()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"d-flex w-100 base-hover hide-animation b-bottom\"\r\n            id={`profile-post-${post.id}`}\r\n            key={post.id}\r\n            style={{ padding: '5px 15px', background: 'var(--theme-base-color)' }}\r\n            onClick={() => window.location.href = `/post/${post.id}`}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <Link\r\n                    to={post.author.id === myProfile.id ?\r\n                        '/perfil' : `/user/${post.author.slug}`}\r\n                    onClick={e => e.stopPropagation()}\r\n                >\r\n                    <img src={`${SERVER_URL}${post.author.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n            </div>\r\n            <div className=\"d-flex flex-column h-100 w-100\" style={{ marginRight: '10px' }}>\r\n                <div className=\"d-flex justify-content-between w-100\">\r\n                    <div>\r\n                        <Link\r\n                            to={post.author.id === myProfile.id ? '/perfil' : `/user/${post.author.slug}`}\r\n                            className=\"d-flex justify-content-start align-items-start post-author-data-wrapper\"\r\n                            style={{ color: '#000' }}\r\n                            onClick={e => e.stopPropagation()}\r\n                        >\r\n                            <strong className=\"mr-2\" style={{ color: 'var(--primary-grey)' }}>\r\n                                {post.author.first_name} {post.author.last_name}\r\n                            </strong>\r\n                            <p className=\"text-secondary\">\r\n                                @{post.author.user.username} • {post.created.split('-').reverse().join('/')}\r\n                            </p>\r\n                        </Link>\r\n                    </div>\r\n                    <i\r\n                        className=\"fas fa-ellipsis-h d-flex justify-content-center align-items-center text-secondary secondary-hover view-more-icon\"\r\n                        id={`post-view-more-icon-${post.id}`}\r\n                        style={{ textDecoration: 'none', width: '30px', height: '30px', borderRadius: '30px' }}\r\n                        onClick={e => openCloseExtraOptions(e, post.id)}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column position-relative\">\r\n                    <div className=\"view-more-select\" id={`post-view-more-select-${post.id}`} style={{ right: '0%' }}>\r\n                        <div className=\"popover-arrow\" style={{ top: '-9px', right: '8%' }} />\r\n                        {myProfile.id === post.author.id ?\r\n                            <li\r\n                                style={{ color: '#f00' }}\r\n                                onClick={e => deletePost(e, post.id)}\r\n                            >\r\n                                <i class=\"fas fa-trash\" />\r\n                                Excluir\r\n                            </li>\r\n                            :\r\n                            <>\r\n                                <li>\r\n                                    <i class=\"fas fa-exclamation-triangle text-secondary\" />\r\n                                    Denunciar fake news\r\n                                </li>\r\n                                <li>\r\n                                    <i class=\"fas fa-exclamation-circle text-secondary\" />\r\n                                    Denunciar conteúdo impróprio\r\n                                </li>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-start word-break\">\r\n                        {post.content}\r\n                    </div>\r\n                    {post.image &&\r\n                        <div className=\"d-flex justify-content-start w-100\">\r\n                            <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                        </div>\r\n                    }\r\n                    <div className=\"d-flex justify-content-start align-items-start text-secondary mt-2 mb-1\">\r\n                        <Link\r\n                            to={`/post/${post.id}/comentar`}\r\n                            className=\"d-flex align-items-center text-secondary\"\r\n                            style={{ outline: 'none', textDecoration: 'none' }}\r\n                            onClick={e => e.stopPropagation()}\r\n                        >\r\n                            <i\r\n                                class=\"far fa-comment mr-1\"\r\n                            />\r\n                            <p style={{ margin: '0' }}>\r\n                                {post.comments.length}\r\n                            </p>\r\n                        </Link>\r\n                        <div className=\"d-flex align-items-center\">\r\n                            {post.likes.map(like => like.profile.id).includes(myProfile.id) ?\r\n                                <i class=\"fas fa-heart expand-animation mr-1  ml-2\"\r\n                                    data-postid={post.id}\r\n                                    onClick={likeUnlikePost}\r\n                                />\r\n                                :\r\n                                <i class=\"far fa-heart mr-1 ml-2\"\r\n                                    data-postid={post.id}\r\n                                    onClick={likeUnlikePost}\r\n                                />\r\n                            }\r\n                            <p className=\"m-0 likes-number\"\r\n                                onClick={e => {\r\n                                    e.stopPropagation()\r\n                                    props.openLikesModal(post.likes)\r\n                                }\r\n                                }\r\n                            >\r\n                                {post.likes.length}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li >\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport LikesModal from '../../../../components/likesmodal'\r\nimport PostForm from './components/PostForm'\r\nimport PostListItem from '../../../../components/PostListItem'\r\n\r\nexport default class Posts extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            posts: null,\r\n            likesModal: {\r\n                isOpen: false,\r\n                likes: null\r\n            },\r\n            postContent: '',\r\n            postFormImagePreview: null\r\n        }\r\n        this.scrollCount = 1\r\n\r\n        window.onscroll = () => {\r\n            if (Math.ceil(window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\r\n                this.scrollCount++\r\n                this.fetchPosts()\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ myProfile: data }))\r\n        this.fetchPosts()\r\n    }\r\n\r\n    fetchPosts = () => {\r\n        fetch(`${SERVER_URL}/post-api/post-list/${this.scrollCount}`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ posts: data }))\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <LikesModal\r\n                    isOpen={this.state.likesModal.isOpen}\r\n                    likes={this.state.likesModal.likes}\r\n                    hideModal={() => this.setState({ likesModal: { isOpen: false, likes: null } })}\r\n                />\r\n                {this.state.myProfile &&\r\n                    <div className=\"feed-create-post-form\">\r\n                        <PostForm myProfile={this.state.myProfile} />\r\n                    </div>\r\n                }\r\n                <div className=\"d-flex flex-column justify-content-center align-items-center w-100 h-100\">\r\n                    {this.state.posts && this.state.myProfile &&\r\n                        this.state.posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={this.state.myProfile}\r\n                                    renderParent={this.fetchPosts}\r\n                                    openLikesModal={likes => this.setState({ likesModal: { isOpen: true, likes: likes } })}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                    <div className=\"loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\n\r\n\r\nexport default function ProfilesSearchInput(props) {\r\n    const setFilteredProfiles = props.setFilteredProfiles\r\n    const [search, setSearch] = useState('')\r\n    const [searchType, setSearchType] = useState('byName')\r\n\r\n    useEffect(() => {\r\n        if (search.trim() === '') {\r\n            setFilteredProfiles(null)\r\n            return\r\n        }\r\n        if (searchType === 'byName') {\r\n            fetch(`${SERVER_URL}/profile-api/users/${search}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFilteredProfiles(data)\r\n                })\r\n        } else if (searchType === 'byInterest') {\r\n            fetch(`${SERVER_URL}/profile-api/users-by-interest/${search}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFilteredProfiles(data)\r\n                })\r\n        }\r\n    }, [search])\r\n\r\n    const openCloseSearchTypeSelector = () => {\r\n        const el = document.querySelector('#profiles-search-type-selector')\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            document.querySelector('#profiles-search-extra-options-icon').classList.add('profiles-search-extra-options-icon-active')\r\n            style.display = 'flex'\r\n        } else {\r\n            document.querySelector('#profiles-search-extra-options-icon').classList.remove('profiles-search-extra-options-icon-active')\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const handleSearchTypeSelection = () => {\r\n        setSearchType(searchType === 'byName' ? 'byInterest' : 'byName')\r\n        openCloseSearchTypeSelector()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"profiles-filter-container\">\r\n                <div style={{ width: '89%' }}>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"profiles-filter-input\"\r\n                        placeholder={searchType === 'byName' ? 'Pesquisar perfil' : 'Digite um ou mais interesses'}\r\n                        value={search}\r\n                        onChange={e => setSearch(e.target.value)}\r\n                    />\r\n                </div>\r\n                <i\r\n                    className=\"fas fa-ellipsis-h btn profiles-search-extra-options-icon view-more-icon\"\r\n                    id=\"profiles-search-extra-options-icon\"\r\n                    onClick={openCloseSearchTypeSelector}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"view-more-select\"\r\n                id=\"profiles-search-type-selector\"\r\n                style={{ right: '5%', top: '130px' }}\r\n                onClick={handleSearchTypeSelection}\r\n            >\r\n                {searchType === 'byName' ?\r\n                    <div className=\"position-relative\">\r\n                        <div className=\"popover-arrow white-hover\" style={{ top: '-9px', left: '75%' }} />\r\n                        <li className=\"d-flex align-items-center\">\r\n                            <i class=\"fas fa-grin-hearts text-secondary\" style={{ fontSize: 'large', marginRight: '5px' }} />\r\n                            Pesquisar por interesse\r\n                        </li>\r\n                    </div>\r\n                    :\r\n                    <div className=\"position-relative\">\r\n                        <div className=\"popover-arrow white-hover\" style={{ top: '-9px', left: '75%' }} />\r\n                        <li className=\"d-flex align-items-center\">\r\n                            <i class=\"fas fa-user text-secondary\" style={{ fontSize: 'large', marginRight: '5px' }} />\r\n                            Pesquisar por nome\r\n                        </li>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\nimport ProfileListItem from '../../../../components/ProfileListItem'\r\nimport ProfilesSearchInput from './components/ProfilesSearchInput'\r\n\r\nexport default function Profiles() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [profiles, setProfiles] = useState(null)\r\n    const [filteredProfiles, setFilteredProfiles] = useState(null)\r\n    const [scrollCount, setScrollCount] = useState(1)\r\n\r\n    window.onscroll = () => {\r\n        if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\r\n            setScrollCount(scrollCount + 1)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile-list/${scrollCount}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setFilteredProfiles(null)\r\n                setProfiles(data)\r\n            })\r\n    }, [scrollCount])\r\n\r\n    const sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    const cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    const handleRelationshipUpdate = e => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else {\r\n            cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ProfilesSearchInput setFilteredProfiles={setFilteredProfiles} />\r\n            <div className=\"list-group\">\r\n                {myProfile && (profiles || filteredProfiles) &&\r\n                    <div className=\"w-100\" style={{ overflowY: 'hidden' }}>\r\n                        {filteredProfiles ? filteredProfiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem profile={profile} myProfile={myProfile} />\r\n                            )\r\n                        }\r\n                        ) : profiles && profiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem profile={profile} myProfile={myProfile}>\r\n                                    <button className=\"btn btn-secondary\" data-pk={profile.id} onClick={handleRelationshipUpdate}>\r\n                                        Solicitar\r\n                                    </button>\r\n                                </ProfileListItem>\r\n                            )\r\n                        })\r\n                        }\r\n                    </div>\r\n                }\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport ProfileListItem from './ProfileListItem'\r\n\r\nexport default function LikesModal(props) {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\"\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Curtidas</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {props.likes &&\r\n                        props.likes.map(like => like.profile).map(profile => {\r\n                            return (\r\n                                <ProfileListItem\r\n                                    profile={profile}\r\n                                    myProfile={myProfile}\r\n                                    style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    onClick={props.hideModal}\r\n                                />\r\n                            )\r\n                        })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport PostListItem from '../../../../components/PostListItem'\r\nimport LikesModal from '../../../../components/LikesModal'\r\n\r\n\r\nexport default function Explore() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [posts, setPosts] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    let selectedInterest = null\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setMyProfile(data)\r\n            })\r\n        fetchPosts()\r\n    }, [])\r\n\r\n    const fetchPosts = () => {\r\n        if (selectedInterest) {\r\n            fetch(`${SERVER_URL}/post-api/interest-post-list/${selectedInterest}`)\r\n                .then(response => response.json())\r\n                .then(data => setPosts(data))\r\n        } else {\r\n            fetch(`${SERVER_URL}/post-api/explore-post-list`)\r\n                .then(response => response.json())\r\n                .then(data => setPosts(data))\r\n        }\r\n    }\r\n\r\n    const switchPage = e => {\r\n        const element = e.target\r\n        document.querySelectorAll('.hashtag-container').forEach(el => {\r\n            el.classList.remove('active')\r\n        })\r\n        element.classList.add('active')\r\n        selectedInterest = element.innerText !== 'Todos' ? element.innerText : null\r\n        fetchPosts()\r\n    }\r\n\r\n    return (\r\n        <div className=\"explore-page-container\">\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={() => setLikesModal({ isOpen: false, likes: null })}\r\n            />\r\n            {myProfile !== null && posts !== null ?\r\n                <>\r\n                    <div className=\"hashtags-header\">\r\n                        <div className=\"hashtag-container active\" onClick={switchPage}>\r\n                            Todos\r\n                        </div>\r\n                        {myProfile.interests.map(interest => {\r\n                            return (\r\n                                <div className=\"hashtag-container\" onClick={switchPage}>\r\n                                    {interest.title}\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    <div className=\"post-list\">\r\n                        {posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={myProfile}\r\n                                    renderParent={fetchPosts}\r\n                                    openLikesModal={likes => setLikesModal({ isOpen: true, likes: likes })}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function Trending() {\r\n\r\n    return (\r\n        <div className=\"w-100 d-flex justify-content-center align-items-center pt-3\">\r\n            <h4 style={{ color: 'var(--primary-grey)' }}>Em breve...</h4>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default () => (\r\n    <Link to=\"/postar\">\r\n        <i className=\"fas fa-pencil-alt bottom-menu-action-icon btn-primary\" />\r\n    </Link>\r\n)","import React, { useEffect, useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { getActivePageOnLoad, switchPage } from '../../../config/utils'\r\nimport {\r\n    InvitesReceivedContext, UnvisualizedCommentsContext,\r\n    UnvisualizedLikesContext, UnreadMessagesContext\r\n} from '../../../context/app/AppContext'\r\n\r\nexport default function BottomMenu(props) {\r\n    const [invitesReceivedNumber, setInvitesReceived] = useContext(InvitesReceivedContext)\r\n    const [unvisualizedCommentsNumber, setUnvisulaizedComments] = useContext(UnvisualizedCommentsContext)\r\n    const [unvisualizedLikesNumber, setUnvisulaizedLikes] = useContext(UnvisualizedLikesContext)\r\n\r\n    const [unreadMessagesNumber, setUnreadMessagesNumber] = useContext(UnreadMessagesContext)\r\n\r\n    let notificationsNumber = invitesReceivedNumber + unvisualizedLikesNumber + unvisualizedCommentsNumber\r\n\r\n    useEffect(() => {\r\n        getActivePageOnLoad()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <div className=\"bottom-menu-action-icon-container fixed-bottom\">\r\n                {props.children}\r\n            </div>\r\n            <div className=\"bottom-menu fixed-bottom\">\r\n                <ul>\r\n                    <Link to=\"/home\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"bottom-home-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/notificações\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"bottom-notifications-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                            {!notificationsNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {notificationsNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/mensagens\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"bottom-messages-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-envelope sidebar-menu-icon\" />\r\n                            {!unreadMessagesNumber ? '' :\r\n                                <div className=\"notification-text-container\">\r\n                                    <div className=\"notification-text\">\r\n                                        {unreadMessagesNumber}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/perfil\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"bottom-profile-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/configurações\" style={{ textDecoration: 'none' }}>\r\n                        <li className=\"sidebar-menu-item\" id=\"bottom-settings-menu\" onClick={switchPage}>\r\n                            <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                        </li>\r\n                    </Link>\r\n                </ul>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function HomePageMenu(props) {\r\n    const setPage = props.setPage\r\n\r\n    const feedPageTitle = props.feedPageTitle\r\n    const profilesPageTitle = props.profilesPageTitle\r\n    const explorePageTitle = props.explorePageTitle\r\n    const trendsPageTitle = props.trendsPageTitle;\r\n\r\n    const isMobile = visualViewport.width <= 980\r\n\r\n    function handleMouseIn(e, text) {\r\n        if (!isMobile) {\r\n            e.target.innerHTML = text\r\n        }\r\n    }\r\n\r\n    function handleMouseOut(e, icon) {\r\n        if (!isMobile) {\r\n            e.target.innerHTML = icon\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"home-page-menu\">\r\n            <div className=\"home-menu-btn-container b-bottom home-menu-btn-container-active b-right feed\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Feed')}\r\n                    onMouseEnter={e => handleMouseIn(e, feedPageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-home ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-home ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"home-menu-btn-container b-bottom b-right profiles\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Profiles')}\r\n                    onMouseEnter={e => handleMouseIn(e, profilesPageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-user-friends ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-user-friends ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"home-menu-btn-container b-bottom b-right explore\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Explore')}\r\n                    onMouseEnter={e => handleMouseIn(e, explorePageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-search ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-search ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n            <div className=\"home-menu-btn-container b-bottom trending\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-primary\"\r\n                    style={{ margin: '10px 0', borderRadius: '20px' }}\r\n                    onClick={e => setPage('Trending')}\r\n                    onMouseEnter={e => handleMouseIn(e, trendsPageTitle)}\r\n                    onMouseOut={e => handleMouseOut(e, '<i class=\"fas fa-chart-line ml-1 mr-1\" />')}\r\n                >\r\n                    <i class=\"fas fa-chart-line ml-1 mr-1\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport Header from '../../components/fixed/Header'\r\nimport Posts from './components/posts_/Posts'\r\nimport Profiles from './components/profiles/Profiles'\r\nimport Explore from './components/explore/Explore'\r\nimport Trending from './components/trending/Trending'\r\nimport PostIcon from '../../components/fixed/bottom-menu/components/PostIcon'\r\nimport BottomMenu from '../../components/fixed/bottom-menu/BottomMenu'\r\nimport HomePageMenu from './components/HomePageMenu'\r\n\r\nexport default function Home(props) {\r\n    const [page, setPage] = useState('Feed')\r\n\r\n    const pages = {\r\n        'Feed': <Posts />,\r\n        'Profiles': <Profiles />,\r\n        'Explore': <Explore />,\r\n        'Trending': <Trending />,\r\n    }\r\n\r\n    document.title = 'Home / Napker'\r\n\r\n    useEffect(() => {\r\n        const elements = document.querySelectorAll('.' + page.toLowerCase())\r\n        document.querySelectorAll('.home-menu-btn-container-active').forEach(el => el.classList.remove('home-menu-btn-container-active'))\r\n        elements.forEach(el => el.classList.add('home-menu-btn-container-active'))\r\n    }, [page])\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Home\" />\r\n            <div className=\"content\">\r\n                <div className=\"desktop-home-menu\">\r\n                    <HomePageMenu\r\n                        setPage={setPage}\r\n                        feedPageTitle='Feed'\r\n                        profilesPageTitle='Encontrar perfis'\r\n                        explorePageTitle='Descobrir'\r\n                        newsPageTitle='Notícias'\r\n                        trendsPageTitle='Tendências'\r\n                    />\r\n                </div>\r\n                <div className=\"mobile-home-menu\">\r\n                    <HomePageMenu setPage={setPage} />\r\n                </div>\r\n                {pages[page]}\r\n            </div>\r\n            <BottomMenu>\r\n                <PostIcon />\r\n            </BottomMenu>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\n\r\nexport default function InviteListItem(props) {\r\n    const invite = props.invite\r\n    const replyRequest = props.replyRequest\r\n    \r\n    return (\r\n        <li\r\n            className=\"d-flex justify-content-between w-100\"\r\n            style={{\r\n                padding: '30px',\r\n                borderBottom: '1px solid var(--border-color)',\r\n                backgroundColor: 'white',\r\n            }}\r\n            id={`fr-${invite.sender.id}`}\r\n            key={invite.sender.id}\r\n            onClick={() => window.location.href = `/user/${invite.sender.slug}`}\r\n        >\r\n            <div className=\"d-flex\">\r\n                <div className=\"profile-img-container\">\r\n                    <img src={`${SERVER_URL}${invite.sender.photo}`}\r\n                        className=\"profile-img-med\"\r\n                        style={{ marginRight: '10px' }}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column w-100\">\r\n                    <div className=\"profile-row-top\">\r\n                        <div className=\"main-profile-data\">\r\n                            <strong style={{ textAlign: 'start' }}>\r\n                                {invite.sender.first_name} {invite.sender.last_name}\r\n                            </strong>\r\n                            <span className=\"text-secondary text-left\"> @{invite.sender.user.username}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"profile-row-bottom text-left\">\r\n                        {invite.sender.bio}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex align-items-center\">\r\n                <button className=\"btn btn-primary btn-reply-fr mr-1\" data-senderid={invite.sender.id} data-reply='accept' onClick={replyRequest}>\r\n                    Aceitar\r\n                </button>\r\n                <button className=\"btn btn-grey btn-reply-fr\" data-senderid={invite.sender.id} data-reply='decline' onClick={replyRequest}>\r\n                    Excluir\r\n                </button>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\n\r\nexport default function NotificationContent(props) {\r\n    const notification = props.notification\r\n\r\n    if (props.type == \"like\") {\r\n        var author = notification.profile\r\n        var content = notification.post.content\r\n        var icon = \"fas fa-heart\"\r\n        var color = 'var(--heart-color)'\r\n    } else {\r\n        var author = notification.author\r\n        var content = notification.content\r\n        var icon = \"fas fa-comment\"\r\n        var color = 'var(--primary-color)'\r\n    }\r\n\r\n    return (\r\n        <li className=\"d-flex w-100 white-hover\" style={{ padding: '15px 15px', background: '#fff', borderBottom: '1px solid var(--border-color)' }} \r\n            key={author.id}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <i class={icon} style={{ fontSize: '30px', color: color }}/>\r\n            </div>\r\n            <div className=\"d-flex flex-column justify-content-start align-items-start h-100 w-100\">\r\n                <div className=\"d-flex justify-content-center align-items-center\">\r\n                    <Link to={`/user/${author.slug}`}>\r\n                        <img src={`${SERVER_URL}${author.photo}`}\r\n                            className=\"profile-img-med\"\r\n                            style={{ marginRight: '10px' }}\r\n                        />\r\n                    </Link>\r\n                    <p className=\"text-secondary d-inline-block\" style={{ margin: '0' }}>\r\n                        {notification.created.split('-').reverse().join('/')}\r\n                        {\" • \"}\r\n                        {props.children}\r\n                        <Link to={`/user/${author.slug}`} style={{ color: \"#000\" }}>\r\n                            @{author.user.username}\r\n                        </Link> curtiu seu post.\r\n                    </p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-start word-break w-100\"\r\n                     style={{ paddingTop: '10px'}}\r\n                >\r\n                    {content}\r\n                </div>\r\n                <div className=\"d-flex justify-content-end w-100\">\r\n                    <Link to={`/post/${notification.post.id}`}>\r\n                        <button className=\"btn btn-primary\" style={{height: '37px', width: '100px' }}>\r\n                            Ver Post\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function NewLabel() {\r\n    return (\r\n        <div className=\"notification-text-container\">\r\n            <div className=\"notification-text\">\r\n                novo\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../config/settings'\r\nimport { csrftoken } from '../../config/utils'\r\nimport Header from '../../components/fixed/Header'\r\nimport InviteNotification from './components/InviteNotification'\r\nimport NotificationContent from './components/NotificationContent'\r\nimport NewLabel from './components/NewLabel'\r\nimport BottomMenu from '../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function Notifications(props) {\r\n    const [invites, setInvites] = useState(null)\r\n    const [unvisualizedPostLikes, setUnvisualizedPostLikes] = useState(null)\r\n    const [visualizedPostLikes, setVisualizedPostLikes] = useState(null)\r\n    const [unvisualizedComments, setUnvisualizedComments] = useState(null)\r\n    const [visualizedComments, setVisualizedComments] = useState(null)\r\n\r\n    let notificationsFetchInterval\r\n\r\n    document.title = 'Notificações / Napker'\r\n\r\n    const fetchNotifications = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvites(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedComments(data))\r\n        fetch(`${SERVER_URL}/post-api/post-likes-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/post-comments-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedComments(data))\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchNotifications()\r\n        notificationsFetchInterval = window.setInterval(fetchNotifications, 3000)\r\n        return () => window.clearInterval(notificationsFetchInterval)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedPostLikes && unvisualizedPostLikes.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-likes`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedPostLikes])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedComments && unvisualizedComments.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-comments`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedComments])\r\n\r\n    const replyRequest = e => {\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        const requestBody = {\r\n            'senderid': btn.dataset.senderid,\r\n            'reply': btn.dataset.reply\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(requestBody)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                props.updateNotificationsNumber()\r\n            })\r\n        document.getElementById(`fr-${btn.dataset.senderid}`).remove()\r\n        fetchNotifications()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Notificações\" />\r\n            <div className=\"content\">\r\n                <div>\r\n                    {invites !== null && unvisualizedPostLikes && visualizedPostLikes !== null && unvisualizedComments !== null && visualizedComments !== null ?\r\n                        <div>\r\n                            {invites.length || unvisualizedPostLikes.length || visualizedPostLikes.length || unvisualizedComments.length || !!visualizedComments.length ?\r\n                                <div className=\"notifications-container\">\r\n                                    {!!invites.length &&\r\n                                        <div>\r\n                                            {invites.map(invite => {\r\n                                                return (\r\n                                                    <InviteNotification\r\n                                                        invite={invite}\r\n                                                        replyRequest={replyRequest}\r\n                                                    />\r\n                                                )\r\n                                            })}\r\n                                        </div>\r\n                                    }\r\n\r\n                                    {(!!unvisualizedPostLikes.length || !!unvisualizedComments.length) &&\r\n                                        <>\r\n                                            {!!unvisualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {unvisualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={like} type={\"like\"}>\r\n                                                                <NewLabel />\r\n                                                            </NotificationContent>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!unvisualizedComments.length &&\r\n                                                <>\r\n                                                    {unvisualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={comment}>\r\n                                                                <NewLabel />\r\n                                                            </NotificationContent>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                    {(!!visualizedPostLikes.length || !!visualizedComments.length) &&\r\n                                        <>\r\n                                            {!!visualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {visualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={like} type={\"like\"}/>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!visualizedComments.length &&\r\n                                                <>\r\n                                                    {visualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <NotificationContent notification={comment} />\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                </div> :\r\n                                <div className=\"d-flex justify-content-center mt-5\">\r\n                                    <h3>Você não tem nenhuma notificação</h3>\r\n                                </div>\r\n                            }\r\n\r\n                        </div> :\r\n                        <div className=\"d-flex justify-content-center mt-5\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <div className=\"header fixed-top b-bottom\">\r\n            {!props.backArrow ? '' :\r\n                <i class=\"fas fa-arrow-left left-arrow-icon\" onClick={() => window.history.back()} />\r\n            }\r\n            <strong>{props.page}</strong>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\n\r\nexport default function ModalContactSearch(props) {\r\n    const modalProfiles = props.modalProfiles\r\n    const setParentState = props.setParentState\r\n    const addingNewChat = props.addingNewChat\r\n\r\n    const setModalSearch = query => {\r\n        if (query === '') {\r\n            setParentState({\r\n                modalProfiles: []\r\n            })\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/users/${query}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setParentState({\r\n                    modalProfiles: data\r\n                })\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Modal show={addingNewChat}\r\n            onHide={() => setParentState({ addingNewChat: false })}\r\n            size=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Nova conversa</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body style={{ padding: '0' }}>\r\n                <input className=\"modal-search-input\"\r\n                    placeholder=\"Pesquisar pessoas\"\r\n                    onChange={e => setModalSearch(e.target.value)}\r\n                />\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {modalProfiles && modalProfiles.map(profile => {\r\n                        return (\r\n                            <Link to={`/mensagens/${profile.slug}`}\r\n                                style={{ color: '#000', textDecoration: 'none' }}\r\n                                onClick={() => setParentState({ addingNewChat: false })}\r\n                            >\r\n                                <li className=\"list-group-item profile-row modal-profile-li\" key={profile.id}>\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div className=\"profile-col\">\r\n                                            <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                className=\"profile-img-med\"\r\n                                                style={{ marginRight: '10px' }}\r\n                                            />\r\n                                            <div className=\"main-profile-data\">\r\n                                                <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import { SOCKET_URL } from '../../config/settings'\r\n\r\nclass WebSocketService {\r\n  static instance = null;\r\n  callbacks = {};\r\n\r\n  static getInstance() {\r\n    if (!WebSocketService.instance) {\r\n      WebSocketService.instance = new WebSocketService();\r\n    }\r\n    return WebSocketService.instance;\r\n  }\r\n\r\n  constructor() {\r\n    this.socketRef = null;\r\n  }\r\n\r\n  connect(chatUrl) {\r\n    const path = `${SOCKET_URL}/ws/chat/${chatUrl}/`;\r\n    this.socketRef = new WebSocket(path);\r\n    this.socketRef.onopen = () => {\r\n      console.log(\"WebSocket open\");\r\n    };\r\n    this.socketNewMessage(JSON.stringify({\r\n      command: 'fetch-messages'\r\n    }))\r\n    this.socketRef.onmessage = e => {\r\n      this.socketNewMessage(e.data);\r\n    };\r\n    this.socketRef.onerror = e => {\r\n      console.log(e.message);\r\n    };\r\n    this.socketRef.onclose = () => {\r\n      console.log(\"WebSocket closed\");\r\n    };\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socketRef) this.socketRef.close();\r\n  }\r\n\r\n  socketNewMessage(data) {\r\n    const parsedData = JSON.parse(data);\r\n    const command = parsedData.command;\r\n    if (Object.keys(this.callbacks).length === 0) {\r\n      return;\r\n    }\r\n    if (command === \"messages\") {\r\n      this.callbacks[command](parsedData.messages);\r\n    }\r\n    if (command === \"new_message\") {\r\n      this.callbacks[command](parsedData.message);\r\n    }\r\n  }\r\n\r\n  fetchMessages(username, chatId) {\r\n    this.sendMessage({\r\n      command: \"fetch_messages\",\r\n      username: username,\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  newChatMessage(message) {\r\n    this.sendMessage({\r\n      command: \"new_message\",\r\n      from: message.from,\r\n      content: message.content,\r\n      chatId: message.chatId\r\n    });\r\n  }\r\n\r\n  readMessages(chatId) {\r\n    this.sendMessage({\r\n      command: \"read_messages\",\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  addCallbacks(messagesCallback, newMessageCallback) {\r\n    this.callbacks[\"messages\"] = messagesCallback\r\n    this.callbacks[\"new_message\"] = newMessageCallback\r\n  }\r\n\r\n  sendMessage(data) {\r\n    try {\r\n      if (this.state() === 1) {\r\n        this.socketRef.send(JSON.stringify({ ...data }))\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message)\r\n    }\r\n  }\r\n\r\n  state() {\r\n    return this.socketRef ? this.socketRef.readyState : 0\r\n  }\r\n}\r\n\r\nconst WebSocketInstance = WebSocketService.getInstance();\r\n\r\nexport default WebSocketInstance;","import React, { useState } from 'react'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { openCloseEmojiList } from '../../../../../config/utils'\r\n\r\nexport default function SendMessageForm(props) {\r\n    const WebSocketInstance = props.WebSocketInstance\r\n    const chatId = props.chatId\r\n    const username = props.username\r\n    const otherProfile = props.otherProfile\r\n    const myProfile = props.myProfile\r\n    const updateMessagesComponent = props.updateMessagesComponent\r\n\r\n    const [message, setMessage] = useState('')\r\n\r\n    const messageChangeHandler = e => {\r\n        setMessage(e.target.value)\r\n        const el = document.querySelector('#chat-message-submit')\r\n        el.disabled = e.target.value.trim() === ''\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setMessage(message + emojiObject.emoji)\r\n        document.querySelector('#chat-message-submit').disabled = false\r\n    }\r\n\r\n    const sendMessageHandler = e => {\r\n        e.preventDefault()\r\n        const messageObject = {\r\n            from: username,\r\n            content: message,\r\n            chatId: chatId\r\n        };\r\n        setMessage('')\r\n        if (otherProfile.blocked_users.map(u => u.id).includes(myProfile.user.id)) {\r\n            window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\r\n            ${otherProfile.first_name} te bloqueou.`)\r\n            return\r\n        }\r\n        if (myProfile.blocked_users.map(u => u.id).includes(otherProfile.user.id)) {\r\n            window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\r\n            Você bloqueou ${otherProfile.first_name}.`)\r\n            return\r\n        }\r\n        WebSocketInstance.newChatMessage(messageObject)\r\n        document.querySelector('#chat-message-submit').disabled = true\r\n        openCloseEmojiList(true)\r\n        updateMessagesComponent()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                <Picker onEmojiClick={onEmojiSelect} />\r\n            </div>\r\n            <form\r\n                className=\"d-flex justify-content-center align-items-center w-100 p-1\"\r\n                style={{ borderTop: '2px solid var(--border-color)' }}\r\n                onSubmit={sendMessageHandler}\r\n            >\r\n                <label\r\n                    className=\"far fa-smile\"\r\n                    id=\"emoji-button\"\r\n                    onClick={() => openCloseEmojiList(false)}\r\n                />\r\n                <input\r\n                    placeholder=\"Mensagem\"\r\n                    className=\"message-input\"\r\n                    id=\"chat-message-input\"\r\n                    value={message}\r\n                    autoFocus={document.querySelector('#contact-filter-input').value === ''}\r\n                    onChange={messageChangeHandler}\r\n                />\r\n                <button\r\n                    className=\"btn btn-primary d-flex justify-content-center align-items-center\"\r\n                    id=\"chat-message-submit\"\r\n                    style={{ height: '35px' }}\r\n                    disabled\r\n                >\r\n                    <i class=\"fas fa-chevron-right\" style={{ fontSize: 'large' }} />\r\n                </button>\r\n            </form>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function MessageListItem(props) {\r\n    const message = props.message\r\n    const currentUser = props.currentUser\r\n\r\n    const renderTimestamp = timestamp => {\r\n        const ts = new Date(timestamp)\r\n        const day = ts.getDate() >= 10 ? ts.getDate() : `0${ts.getDate()}`\r\n        const month = ts.getMonth() >= 10 ? ts.getMonth() : `0${ts.getMonth()}`\r\n        const hour = ts.getHours() >= 10 ? ts.getHours() : `0${ts.getHours()}`\r\n        const minute = ts.getMinutes() >= 10 ? ts.getMinutes() : `0${ts.getMinutes()}`\r\n        return `${day}/${month}/${ts.getFullYear()} - ${hour}:${minute}`\r\n    }\r\n\r\n    return (\r\n        <li\r\n            key={message.id}\r\n            className={message.author === currentUser ? \"sent\" : \"received\"}\r\n        >\r\n            <p>\r\n                {message.content}\r\n                <br />\r\n                <small>\r\n                    {renderTimestamp(message.timestamp)} {message.author === currentUser ?\r\n                        message.read ?\r\n                            <i class=\"fas fa-check-double\" />\r\n                            :\r\n                            <i class=\"fas fa-check\" />\r\n                        :\r\n                        ''\r\n                    }\r\n                </small>\r\n            </p>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { csrftoken } from '../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport WebSocketInstance from '../../Websocket'\r\nimport SendMessageForm from './components/SendMessageForm'\r\nimport MessageListItem from './components/MessageListItem'\r\n\r\nclass Chat extends React.Component {\r\n    initialiseChat() {\r\n        console.log('initializing chat...')\r\n        this.waitForSocketConnection(() => {\r\n            WebSocketInstance.addCallbacks(\r\n                this.getMessages.bind(this),\r\n                this.addMessage.bind(this),\r\n            )\r\n            WebSocketInstance.fetchMessages(\r\n                this.props.username,\r\n                this.props.chatId\r\n            );\r\n        });\r\n        if (this.props.chatId) WebSocketInstance.connect(this.props.chatId)\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            messages: [],\r\n            scrolledToBottom: false,\r\n            myProfile: null,\r\n            otherUsername: this.props.otherUsername,\r\n            otherProfile: null\r\n        }\r\n        this.initialiseChat();\r\n    }\r\n\r\n    handleComponentChange = () => {\r\n        if (this.state.otherUsername && (!this.state.otherProfile || this.state.otherProfile.user.username !== this.state.otherUsername)) {\r\n            fetch(`${SERVER_URL}/profile-api/user/${this.state.otherUsername}`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({\r\n                    otherProfile: data\r\n                }))\r\n        }\r\n        if (!this.state.myProfile) {\r\n            fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({ myProfile: data }))\r\n        }\r\n        if (this.state.messages.length && !this.state.scrolledToBottom && document.querySelectorAll('.sent, .received').length) {\r\n            this.scrollToBottom()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n        document.querySelector('#contact-filter-input') &&\r\n            document.activeElement !== document.querySelector('#contact-filter-input') &&\r\n            document.querySelector('#chat-message-input') &&\r\n            document.querySelector('#chat-message-input').focus()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        WebSocketInstance.disconnect()\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.chatId && newProps.chatId !== this.props.chatId && newProps.otherUsername && WebSocketInstance.state() !== 1) {\r\n            this.waitForSocketConnection(() => {\r\n                WebSocketInstance.fetchMessages(\r\n                    newProps.username,\r\n                    newProps.chatId\r\n                );\r\n            });\r\n            WebSocketInstance.connect(newProps.chatId)\r\n            this.readMessages(newProps)\r\n\r\n            this.props.updateMessagesComponent()\r\n            this.setState({\r\n                messages: [],\r\n                scrolledToBottom: false,\r\n            })\r\n        }\r\n        if (this.state.otherUsername !== newProps.otherUsername) {\r\n            this.setState({\r\n                otherUsername: newProps.otherUsername\r\n            })\r\n        }\r\n        if (this.props.updateUnreadMessagesNumber) {\r\n            this.props.updateUnreadMessagesNumber()\r\n        }\r\n        if (this.state.otherUsername && !newProps.otherUsername) {\r\n            WebSocketInstance.disconnect()\r\n            this.setState({\r\n                otherUsername: undefined,\r\n                otherProfile: undefined\r\n            })\r\n        }\r\n    }\r\n\r\n    readMessages = props => {\r\n        fetch(`${SERVER_URL}/chat-api/read-messages`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({ chat_id: props.chatId })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                WebSocketInstance.readMessages(this.props.chatId)\r\n            })\r\n    }\r\n\r\n    waitForSocketConnection(callback) {\r\n        const component = this;\r\n        setTimeout(function () {\r\n            if (WebSocketInstance.state() === 1) {\r\n                console.log(\"Connection is made\");\r\n                callback();\r\n                return;\r\n            } else {\r\n                console.log(\"wait for connection...\");\r\n                component.waitForSocketConnection(callback);\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    getMessages(messages) {\r\n        this.setState({ messages: messages.reverse() })\r\n    }\r\n\r\n    addMessage(message) {\r\n        this.setState({\r\n            messages: [...this.state.messages, message],\r\n            scrolledToBottom: false\r\n        })\r\n        this.readMessages(this.props)\r\n    }\r\n\r\n    scrollToBottom = () => {\r\n        if (document.querySelector('#chat-log')) {\r\n            const chatLog = document.querySelector('#chat-log')\r\n            chatLog.scrollTop = chatLog.scrollHeight\r\n            this.setState({\r\n                scrolledToBottom: true\r\n            })\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className=\"d-flex flex-column justify-content-between align-items-center h-100\"\r\n                style={{ width: '60%' }}\r\n            >\r\n                {this.state.otherProfile !== null || !this.props.otherUsername ?\r\n                    <>\r\n                        {this.state.otherProfile ?\r\n                            <div\r\n                                className=\"d-flex flex-column justify-content-between align-items-center w-100 h-100\"\r\n                                style={{ background: '#fcfcfc' }}\r\n                            >\r\n                                <div className=\"current-chat-header\">\r\n                                    <i class=\"fas fa-arrow-left left-arrow-icon d-none\" onClick={() => window.history.back()} />\r\n                                    <Link to={`/user/${this.state.otherProfile.slug}`}>\r\n                                        <img src={`${SERVER_URL}${this.state.otherProfile.photo}`}\r\n                                            className=\"profile-img-sm\"\r\n                                            style={{ marginRight: '5px' }}\r\n                                        />\r\n                                    </Link>\r\n                                    <div className=\"d-flex flex-column align-items-start\" style={{ height: '52px' }}>\r\n                                        <strong>{this.state.otherProfile.first_name} {this.state.otherProfile.last_name}</strong>\r\n                                        <p className=\"text-secondary\">@{this.state.otherProfile.user.username}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"chat-log\" className=\"chat-log\">\r\n                                    {this.state.messages.map(message => {\r\n                                        return (\r\n                                            <MessageListItem message={message} currentUser={this.props.username} />\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                </div>\r\n                                <SendMessageForm\r\n                                    WebSocketInstance={WebSocketInstance}\r\n                                    chatId={this.props.chatId}\r\n                                    username={this.props.username}\r\n                                    otherProfile={this.state.otherProfile}\r\n                                    myProfile={this.state.myProfile}\r\n                                    updateMessagesComponent={this.props.updateMessagesComponent}\r\n                                />\r\n                            </div>\r\n                            :\r\n                            <div className=\"d-flex flex-column justify-content-center align-items-center w-100 h-100\">\r\n                                <div>\r\n                                    <strong style={{ fontSize: 'larger' }}>Você não tem uma conversa selecionada</strong>\r\n                                    <p className=\"text-secondary\">Selecione uma existente ou comece uma nova</p>\r\n                                    <button className=\"btn btn-primary\" onClick={() => this.props.openModal()}>Nova conversa</button>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Chat\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\n\r\nexport default function ContactListItem(props) {\r\n    const profile = props.profile\r\n    const activeChats = props.activeChats\r\n    const activeChatsProfiles = props.activeChatsProfiles\r\n    let unreadMessagesCounter\r\n    let lastChatMessage\r\n\r\n    const resetUnreadMessagesCounter = () => {\r\n        unreadMessagesCounter = 0\r\n    }\r\n\r\n    const incrementUnreadMessagesCounter = () => {\r\n        unreadMessagesCounter++\r\n    }\r\n\r\n    const setLastChatMessage = message => {\r\n        lastChatMessage = message\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {profile !== undefined &&\r\n                <Link to={`/mensagens/${profile.slug}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                    {resetUnreadMessagesCounter()}\r\n                    <li className=\"list-item profile-chat-item\" style={{ whiteSpace: 'nowrap' }}>\r\n                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                            className=\"profile-img-med\"\r\n                            style={{ marginRight: '10px' }}\r\n                        />\r\n                        <div className=\"d-flex flex-column align-items-start\">\r\n                            <div className=\"d-flex\" style={{ maxHeight: '30px' }}>\r\n                                <strong style={{ height: 'fit-content' }}>{profile.first_name} {profile.last_name}</strong>\r\n                                {activeChats[activeChatsProfiles.indexOf(profile)].messages.map((message, i, messages) => {\r\n                                    if (messages[messages.length - 1] === message) setLastChatMessage(message.content)\r\n                                    if (message.read || message.contact.user.username !== profile.user.username) return\r\n                                    incrementUnreadMessagesCounter()\r\n                                })}\r\n                                {unreadMessagesCounter > 0 &&\r\n                                    <div className=\"notification-text-container\">\r\n                                        <div className=\"notification-text\">\r\n                                            {unreadMessagesCounter}\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                <p className=\"text-secondary\" style={{ marginLeft: '5px' }}>@{profile.user.username}</p>\r\n                            </div>\r\n                            <p className=\"text-secondary\">{lastChatMessage.slice(0, 40)}</p>\r\n                        </div>\r\n                    </li>\r\n                </Link>\r\n            }\r\n        </>\r\n    )\r\n}","import React from 'react'\r\n\r\nexport default function ContactFilterInput(props) {\r\n    const activeChatsProfiles = props.activeChatsProfiles\r\n    const setHasFilteredProfiles = props.setHasFilteredProfiles\r\n    const fetchActiveChatProfiles = props.fetchActiveChatProfiles\r\n    const setParentState = props.setParentState\r\n    const openModal = props.openModal\r\n\r\n    const setContactSearch = query => {\r\n        if (query === '') {\r\n            setHasFilteredProfiles(false)\r\n            fetchActiveChatProfiles()\r\n            return\r\n        }\r\n        if (activeChatsProfiles) {\r\n            console.log(activeChatsProfiles)\r\n            const filteredProfiles = activeChatsProfiles.filter(p => p.user.username.includes(query))\r\n            setHasFilteredProfiles(true)\r\n            setParentState({\r\n                renderedActiveChatsProfiles: filteredProfiles\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"search-input-container\">\r\n            <input\r\n                className=\"search-input contact-filter-input\"\r\n                id=\"contact-filter-input\"\r\n                placeholder=\"Pesquisar pessoas\"\r\n                onChange={e => setContactSearch(e.target.value)}\r\n            />\r\n            <i className=\"fas fa-plus add-icon\" onClick={openModal}></i>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport { SERVER_URL } from '../../config/settings'\r\nimport Header from '../../components/fixed/header'\r\nimport ModalContactSearch from './components/ModalContactSearch'\r\nimport Chat from './components/chat_/Chat'\r\nimport ContactListItem from './components/ContactListItem'\r\nimport ContactFilterInput from './components/ContactFilterInput'\r\nimport BottomMenu from '../../components/fixed/bottom-menu/BottomMenu'\r\nimport WebSocketInstance from './Websocket'\r\n\r\nexport default class Messages extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            username: null,\r\n            chatId: null,\r\n            activeChats: null,\r\n            activeChatsProfiles: null,\r\n            renderedActiveChatsProfiles: null,\r\n            addingNewChat: false,\r\n            modalProfiles: [],\r\n        }\r\n        this.rerenderingInterval = null\r\n        this.hasFilteredProfiles = false\r\n    }\r\n\r\n    handleReceiveProps = props => {\r\n        if (props.match.params.slug) {\r\n            if (props.match.params.slug !== this.props.match.params.slug && WebSocketInstance.state() === 1) {\r\n                WebSocketInstance.disconnect()\r\n            }\r\n            const participants = { username: this.state.username, other_username: props.match.params.slug }\r\n            fetch(`${SERVER_URL}/chat-api/chat-id/${JSON.stringify(participants)}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({ chatId: data['chat_id'] })\r\n                })\r\n        } else if (this.state.chatId) {\r\n            this.setState({\r\n                chatId: null\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps === this.props) return\r\n        this.handleReceiveProps(newProps)\r\n    }\r\n\r\n    handleComponentChange() {\r\n        if (!this.state.username) {\r\n            fetch(`${SERVER_URL}/profile-api/logged-user`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({\r\n                        username: data.username\r\n                    })\r\n                    if (this.props.match.params.slug) {\r\n                        this.handleReceiveProps(this.props)\r\n                    }\r\n                })\r\n        }\r\n        if (!this.state.activeChatsProfiles && this.state.activeChatsProfiles !== []) {\r\n            this.fetchActiveChatProfiles()\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.title = 'Mensagens / Napker'\r\n        this.handleComponentChange()\r\n        this.rerenderingInterval = window.setInterval(this.fetchActiveChatProfiles, 4000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.clearInterval(this.rerenderingInterval)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n    fetchActiveChatProfiles = () => {\r\n        fetch(`${SERVER_URL}/chat-api/active-chats-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!this.state.username) return\r\n                if (!this.hasFilteredProfiles) {\r\n                    this.setState({\r\n                        activeChats: data.chats,\r\n                        activeChatsProfiles: data.profiles,\r\n                        renderedActiveChatsProfiles: data.profiles\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({\r\n            addingNewChat: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page=\"Mensagens\" />\r\n                <div className=\"content d-flex messages-wrapper\">\r\n                    <ModalContactSearch\r\n                        addingNewChat={this.state.addingNewChat}\r\n                        setParentState={this.setState.bind(this)}\r\n                        modalProfiles={this.state.modalProfiles}\r\n                    />\r\n                    <div className=\"chats-list h-100\">\r\n                        <ContactFilterInput\r\n                            activeChatsProfiles={this.state.activeChatsProfiles}\r\n                            setHasFilteredProfiles={bool => this.hasFilteredProfiles = bool}\r\n                            fetchActiveChatProfiles={this.fetchActiveChatProfiles}\r\n                            setParentState={this.setState.bind(this)}\r\n                            openModal={this.openModal}\r\n                        />\r\n                        <div className=\"list-group chats-container\">\r\n                            {this.state.renderedActiveChatsProfiles !== null ?\r\n                                this.state.renderedActiveChatsProfiles.map(profile => {\r\n                                    return (\r\n                                        <ContactListItem\r\n                                            profile={profile}\r\n                                            activeChats={this.state.activeChats}\r\n                                            activeChatsProfiles={this.state.activeChatsProfiles}\r\n                                        />\r\n                                    )\r\n                                })\r\n                                :\r\n                                <div className=\"loader-container\">\r\n                                    <div className=\"loader\" />\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <Chat\r\n                        username={this.state.username}\r\n                        otherUsername={this.props.match.params.slug}\r\n                        chatId={this.state.chatId}\r\n                        openModal={this.openModal}\r\n                        updateUnreadMessagesNumber={this.props.updateUnreadMessagesNumber}\r\n                        updateMessagesComponent={this.fetchActiveChatProfiles}\r\n                    />\r\n                </div>\r\n                {!this.props.match.params.slug &&\r\n                    <BottomMenu />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}","import React, { createContext, useState } from 'react'\r\n\r\nexport const ProfileImageContext = createContext()\r\n\r\nexport const ProfileImageProvider = props => {\r\n    const [profileImage, setProfileImage] = useState(null)\r\n\r\n    return (\r\n        <ProfileImageContext.Provider value={[profileImage, setProfileImage]}>\r\n            {props.children}\r\n        </ProfileImageContext.Provider>\r\n    )\r\n}","import React, { createContext } from 'react'\r\n\r\nimport { ProfileImageContext, ProfileImageProvider } from './profile-image/ProfileImageContext'\r\nexport { ProfileImageContext }\r\n\r\nexport const EditProfileContext = createContext()\r\n\r\nexport default function EditProfileProvider(props) {\r\n    return (\r\n        <EditProfileContext.Provider>\r\n            <ProfileImageProvider>\r\n                {props.children}\r\n            </ProfileImageProvider>\r\n        </EditProfileContext.Provider>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useRef } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Cropper from \"cropperjs\";\r\n\r\nimport \"cropperjs/dist/cropper.min.css\";\r\n\r\nimport { ProfileImageContext } from '../../../../../context/edit-profile/EditProfileContext'\r\n\r\n\r\nexport default function CroppieModal(props) {\r\n    const [profileImage, setProfileImage] = useContext(ProfileImageContext)\r\n\r\n    const imageElement = useRef()\r\n\r\n    useEffect(() => {\r\n        const cropper = new Cropper(imageElement.current, {\r\n            viewMode: 1,\r\n            scalable: false,\r\n            aspectRatio: 1,\r\n            crop: () => {\r\n                const canvas = cropper.getCroppedCanvas();\r\n                setProfileImage(canvas.toDataURL(\"image/png\"))\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton>\r\n                <div className=\"d-flex justify-content-between align-items-center w-100\">\r\n                    <div className=\"d-flex justify-content-center align-items-center\">\r\n                        <i class=\"fas fa-arrow-left left-arrow-icon\" onClick={props.stopCropping} />\r\n                        <Modal.Title>Editar perfil</Modal.Title>\r\n                    </div>\r\n                    <button className=\"btn btn-primary\" onClick={props.stopCropping}>\r\n                        Aplicar\r\n                    </button>\r\n                </div>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div>\r\n                    <div className=\"d-flex justify-content-center w-100\" style={{ maxHeight: '480px' }}>\r\n                        <img className=\"mw-100 mh-100\" ref={imageElement} src={profileImage} alt=\"Source\" crossorigin />\r\n                    </div>\r\n                </div>\r\n            </Modal.Body>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport { csrftoken, openCloseEmojiList } from '../../../../../config/utils'\r\nimport { ProfileImageContext } from '../../../../../context/edit-profile/EditProfileContext'\r\n\r\n\r\nexport default function EditProfileModal(props) {\r\n    const profile = props.profile\r\n    const [profileImage, setProfileImage] = useContext(ProfileImageContext)\r\n    const [editingBioContent, setEditingBioContent] = useState('')\r\n\r\n    const handleUsernameChange = e => {\r\n        if (e.target.value.trim() !== '') {\r\n            fetch(`${SERVER_URL}/profile-api/user/${e.target.value}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.bool !== 'false' && data.id !== profile.id) {\r\n                        document.querySelector('#username-taken').style.display = 'initial'\r\n                    } else {\r\n                        document.querySelector('#username-taken').style.display = 'none'\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setEditingBioContent(editingBioContent + emojiObject.emoji)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Editar perfil</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <form\r\n                    action={`${SERVER_URL}/update-profile`}\r\n                    className=\"d-flex flex-column justify-content-center\"\r\n                    id=\"update-profile-form\"\r\n                    method=\"POST\"\r\n                    encType=\"multipart/form-data\"\r\n                >\r\n                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                    <div className=\"d-flex flex-column justify-content-center align-items-center mb-2\">\r\n                        <img src={profileImage ? profileImage : `${SERVER_URL}${profile.photo}`}\r\n                            className=\"profile-img-big\"\r\n                            style={{ marginBottom: '25px' }}\r\n                        />\r\n                        <input\r\n                            type=\"file\"\r\n                            accept=\"image/png, image/jpg, image/jpeg\"\r\n                            className=\"profile-photo-input\"\r\n                            onChange={props.handleProfileImageChange}\r\n                        />\r\n                        <input\r\n                            type=\"hidden\"\r\n                            name=\"profile-photo\"\r\n                            value={profileImage}\r\n                        />\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        Email: {profile.email}\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"first-name\" className=\"profile-field-label\">Nome:</label>\r\n                        <input className=\"profile-field-input\" type=\"text\" name=\"first-name\" id=\"first-name\" placeholder={profile.first_name} />\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"last-name\" className=\"profile-field-label\">Sobrenome:</label>\r\n                        <input className=\"profile-field-input\" type=\"text\" name=\"last-name\" id=\"last-name\" placeholder={profile.last_name} />\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"username\" className=\"profile-field-label\">Nome de usuário:</label>\r\n                        <input\r\n                            className=\"profile-field-input\"\r\n                            type=\"text\"\r\n                            name=\"username\"\r\n                            id=\"username\"\r\n                            placeholder={`@${profile.user.username}`}\r\n                            onChange={handleUsernameChange}\r\n                        />\r\n                    </div>\r\n                    <div\r\n                        id=\"username-taken\"\r\n                        style={{ display: 'none', width: '100%', textAlign: 'center', padding: '3px' }}\r\n                    >\r\n                        <span>Nome de usuário já existe</span>\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"birth-date\" className=\"profile-field-label\">Data de nascimento:</label>\r\n                        <input className=\"profile-field-input\" type=\"date\" name=\"birth-date\" id=\"birth-date\" defaultValue={profile.birth_date} />\r\n                    </div>\r\n                    <div className=\"emoji-list-container bio-emoji-list\" id=\"emoji-list-container\">\r\n                        <Picker onEmojiClick={onEmojiSelect} />\r\n                    </div>\r\n                    <div className=\"edit-profile-input\">\r\n                        <label htmlFor=\"bio\" className=\"profile-field-label\">Bio:</label>\r\n                        <div className=\"email-input-container\">\r\n                            <input\r\n                                className=\"profile-field-input-email\"\r\n                                type=\"email\"\r\n                                name=\"bio\"\r\n                                id=\"bio\"\r\n                                value={editingBioContent}\r\n                                placeholder={profile.bio}\r\n                                maxLength={100}\r\n                                onChange={e => setEditingBioContent(e.target.value)}\r\n                            />\r\n                            <label\r\n                                className=\"far fa-smile\"\r\n                                id=\"emoji-button\"\r\n                                onClick={() => openCloseEmojiList(false)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <button className=\"btn btn-grey\" onClick={props.closeModal}>Fechar</button>\r\n                <button className=\"btn btn-primary\" onClick={() => document.querySelector('form#update-profile-form').submit()}>Salvar</button>\r\n            </Modal.Footer>\r\n        </>\r\n    )\r\n}","import React, { useState, useContext } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nimport { ProfileImageContext } from '../../../../context/edit-profile/EditProfileContext'\r\nimport CroppieModal from './components/CroppieModal'\r\nimport EditProfileModal from './components/EditProfileModal'\r\n\r\n\r\nexport default function EditProfile(props) {\r\n    const [profileImage, setProfileImage] = useContext(ProfileImageContext)\r\n    const [isCroppingImage, setIsCropping] = useState(false)\r\n\r\n    const handleProfileImageChange = (e, isCropping) => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                setProfileImage(reader.result)\r\n                setIsCropping(isCropping)\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.closeModal}\r\n            size=\"lg\"\r\n        >\r\n            {isCroppingImage ?\r\n                <CroppieModal\r\n                    image={profileImage}\r\n                    stopCropping={() => setIsCropping(false)}\r\n                />\r\n                :\r\n                <EditProfileModal\r\n                    profile={props.profile}\r\n                    handleProfileImageChange={e => handleProfileImageChange(e, true)}\r\n                    closeModal={props.closeModal}\r\n                />\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport LikesModal from '../../../components/LikesModal'\r\nimport PostListItem from '../../../components/PostListItem'\r\n\r\nexport default function Posts(props) {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n    const profile = props.profile\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const hideLikesModal = () => {\r\n        setLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={hideLikesModal}\r\n            />\r\n            <div className=\"d-flex flex-column justify-content-center align-items-center w-100 h-100\">\r\n                {profile && myProfile ?\r\n                    <>\r\n                        {profile.posts.length ? profile.posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={myProfile}\r\n                                    renderParent={props.fetchProfile}\r\n                                    openLikesModal={likes => setLikesModal({ isOpen: true, likes: likes })}\r\n                                />\r\n                            )\r\n                        }) :\r\n                            <div className=\"no-posts-container\">\r\n                                {profile.id === myProfile.id ?\r\n                                    <h3 style={{ marginTop: '50px' }}>Você não tem posts</h3>\r\n                                    :\r\n                                    <h3 style={{ marginTop: '50px' }}>{profile.first_name} não tem posts</h3>\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Interests(props) {\r\n    const profile = props.profile\r\n\r\n    return (\r\n        <div className=\"interests-page-container\">\r\n            <h3>Interesses públicos de {profile.first_name}</h3>\r\n            <div className=\"interest-list-container\">\r\n                {profile && profile.interests.filter(i => i.public).map(interest => {\r\n                    return (\r\n                        <>\r\n                            {interest.title &&\r\n                                <>\r\n                                    <hr />\r\n                                    <li className=\"interest-item\">\r\n                                        {interest.title[0].toUpperCase() + interest.title.slice(1)}\r\n                                        <Link to={`/interesses/${interest.title}`}>\r\n                                            <button className=\"btn btn-secondary\" style={{ padding: '5px' }}>Pesquisar usuários</button>\r\n                                        </Link>\r\n                                    </li>\r\n                                </>\r\n                            }\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\n\r\nexport default function ProfileData(props) {\r\n    const profile = props.profile\r\n\r\n    return (\r\n        <div className=\"profile-data-container\">\r\n            <div className=\"d-flex flex-column align-items-start\" style={{ textAlign: 'start' }}>\r\n                <p>\r\n                    <img src={`${SERVER_URL}${profile.photo}`}\r\n                        className=\"profile-img-big\"\r\n                        style={{ marginBottom: '25px' }}\r\n                    />\r\n                </p>\r\n                <p style={{ marginBottom: 0 }}><strong>{profile.first_name} {profile.last_name}</strong></p>\r\n                <p className=\"text-secondary\" style={{ marginTop: 0 }}>@{profile.user.username}</p>\r\n                <p>{profile.bio}</p>\r\n                <p className=\"text-secondary\">\r\n                    <i className=\"far fa-calendar-alt\"></i> Entrou em {profile.created.split('-').reverse().join('/')}\r\n                </p>\r\n                <p>\r\n                    <Link to={`/user/${profile.slug}/amigos`} style={{ color: 'var(--primary-grey)' }}>\r\n                        <strong>{profile.friends.length}</strong> {profile.friends.length === 1 ? 'amigo' : 'amigos'}\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../config/settings'\r\nimport { EditProfileModalContext } from '../../context/edit-profile/EditProfileContext'\r\nimport Header from '../../components/fixed/Header'\r\nimport EditProfile from './components/edit-profile/EditProfile'\r\nimport Posts from './components/Posts'\r\nimport Interests from './components/interests/Interests'\r\nimport ProfileData from './components/ProfileData'\r\nimport BottomMenu from '../../components/fixed/bottom-menu/BottomMenu'\r\n\r\n\r\nexport default function MyProfile() {\r\n    const [myProfile, setProfile] = useState(null)\r\n    const [currentPageIsPosts, setCurrentPageIsPosts] = useState(true)\r\n    const [isEditing, setIsEditing] = useState(false)\r\n\r\n    document.title = 'Perfil / Napker'\r\n\r\n    useEffect(() => {\r\n        fetchProfile()\r\n    }, [])\r\n\r\n    const fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }\r\n\r\n    const switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            setCurrentPageIsPosts(true)\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            setCurrentPageIsPosts(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Perfil\" />\r\n            <div className=\"content\">\r\n                {myProfile ?\r\n                    <>\r\n                        <EditProfile\r\n                            profile={myProfile}\r\n                            isOpen={isEditing}\r\n                            closeModal={() => setIsEditing(false)}\r\n                        />\r\n\r\n                        <ProfileData profile={myProfile}>\r\n                            <div className=\"myprofile-btn-wrapper\">\r\n                                <button\r\n                                    className=\"btn btn-secondary\"\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditing(true)}\r\n                                    style={{ marginBottom: '10px' }}\r\n                                >\r\n                                    Editar perfil\r\n                                </button>\r\n                                <Link to='/perfil/meus-interesses'>\r\n                                    <button className=\"btn btn-secondary\">Editar interesses</button>\r\n                                </Link>\r\n                            </div>\r\n                        </ProfileData>\r\n                        <div className=\"profile-page-menu b-bottom\">\r\n                            <div\r\n                                className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                id=\"profile-posts-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Posts ({myProfile.posts.length})\r\n                            </div>\r\n                            <div\r\n                                className=\"profile-page-menu-item\"\r\n                                id=\"profile-interests-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Interesses ({myProfile.interests.filter(i => i.public).length})\r\n                            </div>\r\n                        </div>\r\n                        {currentPageIsPosts ?\r\n                            <Posts profile={myProfile} fetchProfile={fetchProfile} />\r\n                            :\r\n                            <Interests profile={myProfile} />\r\n                        }\r\n                    </> :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { handleLogout } from '../../../config/utils'\r\n\r\nexport default function SettingsMenu(props) {\r\n\r\n    return (\r\n        <div className=\"settings-page-menu\">\r\n            <div className=\"d-flex flex-column w-100\">\r\n                <Link to=\"/configurações/perfis-bloqueados\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                    <li id=\"blocked-profiles\" onClick={() => props.pageChange('blocked-profiles')}>\r\n                        Perfis bloqueados\r\n                        <i className=\"fas fa-angle-right\" />\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/configurações/segurança\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                    <li id=\"security\" onClick={() => props.pageChange('security')}>\r\n                        Segurança\r\n                        <i className=\"fas fa-angle-right\" />\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/configurações/faq\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                    <li id=\"faq\" onClick={() => props.pageChange('faq')}>\r\n                        FAQ\r\n                        <i className=\"fas fa-angle-right\" />\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/configurações/fale-conosco\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                    <li id=\"feedback\" onClick={() => props.pageChange('feedback')}>\r\n                        Fale conosco\r\n                        <i className=\"fas fa-angle-right\" />\r\n                    </li>\r\n                </Link>\r\n            </div>\r\n            <li className=\"logout-btn\" onClick={handleLogout}>\r\n                Sair da conta\r\n            </li>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport ProfileListItem from '../../../components/ProfileListItem'\r\n\r\nexport default function BlockUser() {\r\n    const [blockedProfiles, setBlockedProfiles] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/get-blocked-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => setBlockedProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            {blockedProfiles !== null && myProfile !== null ?\r\n                <>\r\n                    {!!blockedProfiles.length ?\r\n                        <div className=\"blocked-profiles-list\">\r\n                            <div className=\"blocked-profiles-title\">\r\n                                <h4>\r\n                                    Você possui {blockedProfiles.length} {blockedProfiles.length === 1 ? 'perfil bloqueado' : 'perfis bloqueados'}\r\n                                </h4>\r\n                            </div>\r\n                            {blockedProfiles.map(profile => {\r\n                                return (\r\n                                    <ProfileListItem\r\n                                        profile={profile}\r\n                                        myProfile={myProfile}\r\n                                        style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    />\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                        :\r\n                        <div className=\"no-blocked-profiles\">\r\n                            <h3>Você não possui perfis bloqueados</h3>\r\n                        </div>\r\n                    }\r\n                </>\r\n                :\r\n                <div className=\"settings-loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport default function SecurityMenu(props) {\r\n    return (\r\n        <div className=\"settings-description-container\" style={{ background: 'var(--body-background)' }}>\r\n            <div className=\"security-page-menu\">\r\n                <div className=\"d-flex flex-column w-100\">\r\n                    <li>\r\n                        <strong>Segurança</strong>\r\n                    </li>\r\n                    <Link to=\"/configurações/alterar-senha\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                        <li id=\"change-password\" onClick={() => props.pageChange('change-password')}>\r\n                            Alterar senha\r\n                            <i className=\"fas fa-angle-right\" />\r\n                        </li>\r\n                    </Link>\r\n                    <Link to=\"/configurações/deletar-conta\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                        <li id=\"delete-account\" onClick={() => props.pageChange('delete-account')}>\r\n                            Apagar conta\r\n                            <i className=\"fas fa-angle-right\" />\r\n                        </li>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\n\r\n\r\nexport default function Faq() {\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div style={{ padding: '15px', borderBottom: '1px solid var(--border-color)' }}>\r\n                <h3>FAQ</h3>\r\n            </div>\r\n            <div className=\"faq-content\">\r\n                <div className=\"faq-center\">\r\n                    <details>\r\n                        <summary>\r\n                            <h2>Como alterar minha senha?</h2>\r\n                        </summary>\r\n                        <p>O usuário deverá entrar no menu configurações e abrir a sessão [Segurança], onde encontrará a possibilidade de [Alterar Senha], acompanhada de instruções.</p>\r\n                    </details>\r\n                    <details open>\r\n                        <summary>\r\n                            <h2>O que são interesses?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                    <details>\r\n                        <summary>\r\n                            <h2>Como alterar interesses?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                    <details>\r\n                        <summary>\r\n                            <h2>O que são interesses públicos/privados?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                    <details>\r\n                        <summary>\r\n                            <h2>Como denunciar usuários?</h2>\r\n                        </summary>\r\n                        <p>Lorem ipsum dolor sit amet, vocent viderer tamquam his ad, mei ut atqui gubergren. Aperiri appareat reprehendunt an cum, ullum dicta debet has te. Has posse doming scribentur ex, qui ea rebum soleat. Vel aeterno aperiri in.</p>\r\n                    </details>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\n\r\nexport default function ChangePassword() {\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [successMessage, setSuccessMessage] = useState(null)\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n        let passwordEl = document.querySelector('#password')\r\n        let newPasswordEl = document.querySelector('#new_password')\r\n        let newPasswordcEl = document.querySelector('#new_passwordc')\r\n        let password = passwordEl.value\r\n        let newPassword = newPasswordEl.value\r\n        let newPasswordc = newPasswordcEl.value\r\n        for (let input of document.querySelectorAll('form > input')) {\r\n            if (!input.value) {\r\n                alert('Todos os campos devem ser preenchidos!')\r\n                return\r\n            }\r\n        }\r\n        if (newPassword !== newPasswordc) {\r\n            setErrorMessage('Os campos \"Nova senha\" e \"Confirmar nova senha\" devem ter o mesmo valor!')\r\n            setSuccessMessage(null)\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/change-password`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                password: password,\r\n                new_password: newPassword,\r\n                new_passwordc: newPasswordc,\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'success') {\r\n                    setSuccessMessage('Senha alterada com successo!')\r\n                    setErrorMessage(null)\r\n                    passwordEl.value = newPasswordEl.value = newPasswordcEl.value = ''\r\n                } else {\r\n                    setErrorMessage(data)\r\n                    setSuccessMessage(null)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div\r\n                className=\"d-flex justify-content-start align-items-center\"\r\n                style={{ background: '#fff', padding: '15px', borderBottom: '1px solid var(--border-color)' }}>\r\n                <i\r\n                    class=\"fas fa-arrow-left left-arrow-icon mr-2\"\r\n                    onClick={() => window.history.back()}\r\n                />\r\n                <strong style={{ fontSize: '1.2rem' }}>Segurança</strong>\r\n            </div>\r\n            {errorMessage &&\r\n                <div class=\"alert alert-danger alert\" role=\"alert\">\r\n                    {errorMessage}\r\n                </div>\r\n            }\r\n            {successMessage &&\r\n                <div class=\"alert alert-success alert\" role=\"alert\">\r\n                    {successMessage}\r\n                </div>\r\n            }\r\n            <div className=\"settings-page-title-container\">\r\n                <h3>Alterar senha</h3>\r\n            </div>\r\n            <form className=\"change-password-form\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha atual\" autoFocus />\r\n                <br />\r\n                <a href={`${SERVER_URL}/recuperar-senha`}>Esqueceu sua senha?</a>\r\n                <hr />\r\n                <br />\r\n                <input id=\"new_password\" type=\"password\" placeholder=\"Nova senha\" />\r\n                <br />\r\n                <input id=\"new_passwordc\" type=\"password\" placeholder=\"Confirmar nova senha\" />\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-primary\"\r\n                    type=\"submit\"\r\n                    onClick={handleFormSubmit}\r\n                >Confirmar</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\n\r\nexport default function DeleteAccount() {\r\n    const [displayErrorMessage, setDisplayErrorMessage] = useState(null)\r\n\r\n    const deleteAccount = () => {\r\n        if (window.confirm('Tem certeza que deseja deletar a sua conta ?\\nEsta ação é irreversível?')) {\r\n            const password = document.querySelector('#password').value\r\n            if (!password) {\r\n                window.alert('A senha não pode ficar em branco!')\r\n            } else {\r\n                fetch(`${SERVER_URL}/delete-account`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify({\r\n                        password: password\r\n                    })\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data === 'Wrong password') {\r\n                            setDisplayErrorMessage(true)\r\n                        } else {\r\n                            window.alert('Conta deletada com sucesso.')\r\n                            window.location.href = SERVER_URL\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div\r\n                className=\"d-flex justify-content-start align-items-center\"\r\n                style={{ background: '#fff', padding: '15px', borderBottom: '1px solid var(--border-color)' }}\r\n            >\r\n                <i\r\n                    class=\"fas fa-arrow-left left-arrow-icon mr-2\"\r\n                    onClick={() => window.history.back()}\r\n                />\r\n                <strong style={{ fontSize: '1.2rem' }}>Segurança</strong>\r\n            </div>\r\n            {displayErrorMessage &&\r\n                <div className=\"alert\">\r\n                    <div className=\"alert alert-danger\" role=\"alert\">Senha incorreta!</div>\r\n                </div>\r\n            }\r\n            <div className=\"settings-page-title-container\">\r\n                <h3>Deletar conta</h3>\r\n            </div>\r\n            <div className=\"delete-account-confirmation\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha\" autoFocus />\r\n                <hr />\r\n                <br />\r\n                Tem certeza que deseja apagar a sua conta ?\r\n                <br />\r\n                Esta ação é irreversível\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={deleteAccount}\r\n                    style={{\r\n                        borderRadius : \"20px\",\r\n                        fontWeight: \"bold\"\r\n                    }}\r\n                >Deletar conta</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\n\r\n\r\nexport default function Feedback() {\r\n    const [name, setName] = useState(null)\r\n\r\n    let selectedRating = -1\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setName(data.first_name))\r\n    }, [])\r\n\r\n    const handleFaceMouseEnter = e => {\r\n        const img = e.target\r\n        img.src = `/static/media/feedback-faces/${img.id}.png`\r\n    }\r\n\r\n    const handleFaceMouseLeave = e => {\r\n        const img = e.target\r\n        if (img.dataset.selected === 'false') {\r\n            img.src = `/static/media/feedback-faces/${img.id}bw.png`\r\n        }\r\n    }\r\n\r\n    const selectFace = e => {\r\n        const img = e.target\r\n        document.querySelectorAll('.option-container > img').forEach(image => {\r\n            image.src = `/static/media/feedback-faces/${image.id}bw.png`\r\n            if (image !== img) image.dataset.selected = 'false'\r\n            image.classList.remove('animated')\r\n        })\r\n        if (img.dataset.selected === 'false') {\r\n            img.src = `/static/media/feedback-faces/${img.id}.png`\r\n            img.dataset.selected = 'true'\r\n            img.classList.add('animated')\r\n            img.onanimationend = () => img.classList.remove('animated')\r\n            selectedRating = img.id\r\n        } else {\r\n            img.dataset.selected = 'false'\r\n            selectedRating = -1\r\n        }\r\n    }\r\n\r\n    const thankYouPage = () => {\r\n        document.querySelector('.feedback-form > h3').innerHTML = `Muito obrigado${name !== null ? (`, ${name}`) : ''}!`\r\n        document.querySelector('.feedback-faces-container').innerHTML = 'A sua mensagem nos ajudará a tornar o Napker cada vez mais inclusivo e transparente.\\nCaso pense em mais alguma coisa, sinta-se à vontade para entrar em contato novamente.'\r\n        document.querySelector('.textarea-container').innerHTML = \"<img src='/static/media/feedback-faces/thankyou.png'/>\"\r\n    }\r\n\r\n\r\n    const handleFeedbackSubmit = e => {\r\n        const message = document.querySelector('.feedback-form > .textarea-container > textarea').value\r\n        if (message.trim() === '') {\r\n            alert('A mensagem não pode estar em branco')\r\n        } else {\r\n            fetch(`${SERVER_URL}/settings-api/feedback`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                },\r\n                body: JSON.stringify({\r\n                    'rating': selectedRating,\r\n                    'message': message\r\n                })\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => console.log(data))\r\n            thankYouPage()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div className=\"feedback-form\">\r\n                <h3>Nos ajude a melhorar</h3>\r\n                <hr />\r\n                <div className=\"feedback-faces-container\">\r\n                    <h6>Como está sendo a sua experiência no Napker até agora?</h6>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/5bw.png\"\r\n                                id=\"5\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/4bw.png\"\r\n                                id=\"4\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/3bw.png\"\r\n                                id=\"3\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/2bw.png\"\r\n                                id=\"2\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/1bw.png\"\r\n                                id=\"1\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"textarea-container\">\r\n                    <textarea \r\n                    class='autoExpand' \r\n                    rows='3' \r\n                    data-min-rows='3' \r\n                    placeholder=\"Digite a sua mensagem aqui...\"                     />\r\n                    <button className=\"btn btn-primary w-100\" onClick={handleFeedbackSubmit}>Enviar</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\n\r\nimport Header from '../../components/fixed/Header'\r\nimport SettingsMenu from './components/SettingsMenu'\r\nimport BlockedProfiles from './components/BlockedProfiles'\r\nimport SecurityMenu from './components/security_/SecurityMenu'\r\nimport Faq from './components/Faq'\r\nimport ChangePassword from './components/security_/components/ChangePassword'\r\nimport DeleteAccount from './components/security_/components/DeleteAccount'\r\nimport BottomMenu from '../../components/fixed/bottom-menu/BottomMenu'\r\nimport Feedback from './components/Feedback'\r\n\r\n\r\nexport default function Settings(props) {\r\n    const defaultPage = 'blocked-profiles'\r\n    if (!props.page) props.page = 'default'\r\n\r\n    document.title = 'Configurações / Napker'\r\n\r\n    useEffect(() => {\r\n        document.getElementById(props.page !== 'default' ? props.page : defaultPage) &&\r\n            document.getElementById(props.page !== 'default' ? props.page : defaultPage).classList.add('active')\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (props.page !== 'default') {\r\n            document.querySelector('.settings-description-container') &&\r\n                document.querySelector('.settings-description-container').classList.remove('mobile-d-none')\r\n        } else {\r\n            document.querySelector('.settings-description-container') &&\r\n                document.querySelector('.settings-description-container').classList.add('mobile-d-none')\r\n        }\r\n    }, [props.page])\r\n\r\n    const pageChange = page => {\r\n        document.querySelectorAll('.active').forEach(el => {\r\n            el.classList.remove('active')\r\n        })\r\n        document.getElementById(page).classList.add('active')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {visualViewport.width < 635 ?\r\n                <>\r\n                    {props.page !== 'change-password' && props.page !== 'delete-account' ?\r\n                        < Header page=\"Configurações\" backArrow={props.page !== 'default'} />\r\n                        :\r\n                        <>\r\n                        </>\r\n                    }\r\n                </>\r\n                :\r\n                < Header page=\"Configurações\" />\r\n            }\r\n            <div className=\"content\">\r\n                <div className=\"settings-page-container\">\r\n\r\n                    <SettingsMenu pageChange={pageChange} />\r\n                    {(props.page === 'blocked-profiles' || props.page === 'default') &&\r\n                        <BlockedProfiles />\r\n                    }\r\n\r\n                    {props.page === 'security' &&\r\n                        <SecurityMenu pageChange={pageChange} />\r\n                    }\r\n\r\n                    {props.page === 'change-password' &&\r\n                        <ChangePassword />\r\n                    }\r\n\r\n                    {props.page === 'delete-account' &&\r\n                        <DeleteAccount />\r\n                    }\r\n\r\n                    {props.page === 'faq' &&\r\n                        <Faq />\r\n                    }\r\n\r\n                    {props.page === 'feedback' &&\r\n                        <Feedback />\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../config/settings'\r\nimport { csrftoken } from '../../config/utils'\r\nimport Header from '../../components/fixed/header'\r\nimport Posts from './components/Posts'\r\nimport Interests from './components/interests/Interests'\r\nimport ProfileData from './components/ProfileData'\r\nimport BottomMenu from '../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            profile: null,\r\n            alertMessage: null,\r\n            relationshipButtonLabel: '',\r\n            currentPageIsPosts: true,\r\n        }\r\n        this.slug = this.props.match.params.slug\r\n        this.baseState = this.state\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.fetchProfile()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchRelationship()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let btn = document.querySelector('#profile-page-relationship-btn')\r\n        if (btn) {\r\n            switch (btn.innerHTML, this.state.relationshipButtonLabel) {\r\n                case 'Amigos':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.onmouseenter = () => {\r\n                        if (btn.innerHTML === 'Amigos') btn.innerHTML = 'Remover'\r\n                    }\r\n                    btn.onmouseout = () => {\r\n                        if (btn.innerHTML === 'Remover') btn.innerHTML = 'Amigos'\r\n                    }\r\n                    btn.classList.add('friend-btn')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitado':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Aceitar':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitar':\r\n                    btn.classList.add('btn-secondary')\r\n                    btn.classList.remove('d-none')\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps === this.props) return\r\n        this.setState(this.baseState) //resetting state\r\n        this.slug = newProps.match.params.slug\r\n        this.fetchProfile()\r\n        this.fetchRelationship()\r\n    }\r\n\r\n    fetchRelationship = () => {\r\n        fetch(`${SERVER_URL}/profile-api/relationship/${this.slug}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                let label\r\n                switch (data.relationship) {\r\n                    case 'friends':\r\n                        label = 'Amigos'\r\n                        break\r\n                    case 'invite-sent':\r\n                        label = 'Solicitado'\r\n                        break\r\n                    case 'invite-received':\r\n                        label = 'Aceitar'\r\n                        break\r\n                    case 'none':\r\n                        label = 'Solicitar'\r\n                }\r\n                this.setState({\r\n                    relationshipButtonLabel: label\r\n                })\r\n            })\r\n    }\r\n\r\n    fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${this.slug}`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                profile: data\r\n            }))\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ myProfile: data }))\r\n    }\r\n\r\n    sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    removeFromFriends = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/remove-from-friends`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n    }\r\n\r\n    acceptFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'senderid': pk,\r\n                'reply': 'accept'\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                this.props.updateNotificationsNumber()\r\n            })\r\n    }\r\n\r\n    handleRelationshipUpdate = e => {\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            this.sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else if (btn.innerHTML === 'Solicitado') {\r\n            this.cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        } else if (btn.innerHTML === 'Amigos' || btn.innerHTML === 'Remover') {\r\n            if (window.confirm(`Remover @${this.state.profile.user.username} dos amigos?`)) {\r\n                this.removeFromFriends(btn.dataset.pk)\r\n                btn.innerHTML = 'Solicitar'\r\n                btn.className = 'btn btn-secondary'\r\n            }\r\n        } else if (btn.innerHTML === 'Aceitar') {\r\n            this.acceptFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Amigos'\r\n            btn.className = 'btn btn-primary'\r\n        }\r\n    }\r\n\r\n    blockUnblockUser = () => {\r\n        if (this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id)) {\r\n            if (window.confirm(`Tem certeza que deseja desbloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/unblock-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({ alertMessage: `Você desbloqueou @${this.state.profile.user.username}.` })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        } else {\r\n            if (window.confirm(`Tem certeza que deseja bloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/block-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({\r\n                            alertMessage: `Você bloqueou @${this.state.profile.user.username}.\r\n                         ${this.state.profile.first_name} não conseguirá mais ver o seu perfil ou te enviar mensagens.`\r\n                        })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        }\r\n        this.fetchProfile()\r\n        document.querySelector('#profile-view-more-select').style.display = 'none'\r\n    }\r\n\r\n    openCloseExtraOptions = () => {\r\n        const el = document.querySelector('#profile-view-more-select')\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            document.querySelector('#profile-view-more-icon').classList.add('view-more-icon-active')\r\n            style.display = 'flex'\r\n        } else {\r\n            document.querySelector('#profile-view-more-icon').classList.remove('view-more-icon-active')\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: true })\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page={this.state.profile ? `${this.state.profile.first_name} ${this.state.profile.last_name}` : 'Perfil'}\r\n                    backArrow={true}\r\n                />\r\n                {this.state.myProfile !== null && this.state.profile !== null ?\r\n                    <div className=\"content\">\r\n                        {this.state.profile.blocked_users.map(u => u.id).includes(this.state.myProfile.user.id) ?\r\n                            <div className=\"user-blocked-me-container\">\r\n                                <h3>O usuário te bloqueou</h3>\r\n                            </div>\r\n                            :\r\n                            <>\r\n                                {this.state.alertMessage &&\r\n                                    <div class=\"alert alert-success profile-page-alert-success\" role=\"alert\">\r\n                                        {this.state.alertMessage}\r\n                                    </div>\r\n                                }\r\n                                <ProfileData profile={this.state.profile}>\r\n                                    <div className=\"profile-btn-wrapper\">\r\n                                        <i\r\n                                            className=\"fas fa-ellipsis-h btn btn-secondary mr-2 view-more-icon\"\r\n                                            id=\"profile-view-more-icon\"\r\n                                            onClick={this.openCloseExtraOptions}\r\n                                        />\r\n                                        <div className=\"view-more-select\" id=\"profile-view-more-select\" style={{ top: '60%', right: '10%' }}>\r\n                                            <div className=\"popover-arrow\" style={{ top: '-9px', left: '30%' }} />\r\n                                            <Link to={`/mensagens/${this.state.profile.slug}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                                {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                                    <li>\r\n                                                        <i class=\"fas fa-envelope text-secondary\" />\r\n                                                        Enviar mensagem\r\n                                                    </li>\r\n                                                }\r\n                                            </Link>\r\n                                            <li onClick={this.blockUnblockUser}>\r\n                                                <i class=\"fas fa-user-lock text-secondary\" />\r\n                                                {this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) ?\r\n                                                    'Desbloquear'\r\n                                                    :\r\n                                                    'Bloquear'\r\n                                                }\r\n                                            </li>\r\n                                        </div>\r\n                                        {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                            <button className=\"btn d-none\"\r\n                                                id=\"profile-page-relationship-btn\"\r\n                                                data-pk={this.state.profile.id}\r\n                                                onClick={this.handleRelationshipUpdate}\r\n                                            >{this.state.relationshipButtonLabel}</button>\r\n                                        }\r\n                                    </div>\r\n                                </ProfileData>\r\n                                <div className=\"profile-page-menu b-bottom\">\r\n                                    <div\r\n                                        className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                        id=\"profile-posts-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Posts ({this.state.profile.posts.length})\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"profile-page-menu-item\"\r\n                                        id=\"profile-interests-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Interesses ({this.state.profile.interests.filter(i => i.public).length})\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.currentPageIsPosts ?\r\n                                    <Posts profile={this.state.profile} fetchProfile={this.fetchProfile} /> :\r\n                                    <Interests profile={this.state.profile} />\r\n                                }\r\n                            </>\r\n                        }\r\n                    </div>\r\n                    :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n                <BottomMenu />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport Header from '../../../components/fixed/header'\r\nimport ProfileListItem from '../../../components/ProfileListItem'\r\nimport BottomMenu from '../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function Friends() {\r\n    const [friends, setFriends] = useState(null)\r\n    const [profile, setProfile] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const { slug } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${slug}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (profile) {\r\n            fetch(`${SERVER_URL}/profile-api/get-friends-profiles/${profile.slug}`)\r\n                .then(response => response.json())\r\n                .then(data => setFriends(data))\r\n        }\r\n    }, [profile])\r\n\r\n    return (\r\n        <>\r\n            <Header page={profile !== null ? `${profile.first_name} ${profile.last_name} / Amigos` : 'Perfil / Amigos'}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"list-group profile-friends-container\">\r\n                    {friends !== null && myProfile !== null ?\r\n                        <>\r\n                            {friends.length ? friends.map(friend => {\r\n                                return (\r\n                                    <ProfileListItem\r\n                                        profile={friend}\r\n                                        myProfile={myProfile}\r\n                                        style={{ borderTop: 'none', borderLeft: 'none', borderRight: 'none' }}\r\n                                    />\r\n                                )\r\n                            }) :\r\n                                <h3 style={{ marginTop: '30px' }}>\r\n                                    {profile ? `${profile.first_name} ainda não possui amigos` : 'Você ainda não possui amigos'}\r\n                                </h3>\r\n                            }\r\n                        </>\r\n                        :\r\n                        <div className=\"loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport Header from '../../../../../components/fixed/header'\r\nimport ProfileListItem from '../../../../../components/ProfileListItem'\r\n\r\nexport default function InterestProfiles() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [profiles, setProfiles] = useState(null)\r\n\r\n    const { interest } = useParams()\r\n\r\n    document.title = `${interest[0].toUpperCase() + interest.slice(1)} / Napker`\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/interest-profile-list/${interest}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                page={`Interesse / ${interest[0].toUpperCase() + interest.slice(1)}`}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"interests-title-container\">\r\n                    <h3>Perfis interessados em \"{interest}\"</h3>\r\n                </div>\r\n                <div className=\"list-group interest-profile-list\">\r\n                    {myProfile !== null && profiles !== null ?\r\n                        profiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem\r\n                                    profile={profile}\r\n                                    myProfile={myProfile}\r\n                                    style={{ borderLeft: 'none', borderTop: 'none', borderRight: 'none' }}\r\n                                />\r\n                            )\r\n                        }) :\r\n                        <div className=\"loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\n\r\nexport default function PublicInterests(props) {\r\n\r\n    useEffect(() => {\r\n        if (document.querySelector('.public-interests-container')) {\r\n            const tagContainer = document.querySelector('.public-tag-container');\r\n            const input = document.querySelector('.public-tag-container input');\r\n\r\n            let tags = props.myProfile.interests.filter(i => i.public).map(i => i.title);\r\n            const interestsInput = document.querySelector('#public-interests')\r\n            addTags()\r\n\r\n            function createTag(label) {\r\n                const div = document.createElement('div');\r\n                div.classList.add('tag');\r\n                div.classList.add('public-tag');\r\n                const span = document.createElement('span');\r\n                span.innerHTML = label;\r\n                const closeIcon = document.createElement('i');\r\n                closeIcon.classList.add('public-close-icon')\r\n                closeIcon.innerHTML = '×';\r\n                closeIcon.classList.add('material-icons')\r\n                closeIcon.setAttribute('data-item', label);\r\n                div.appendChild(span);\r\n                div.appendChild(closeIcon);\r\n                if (!interestsInput.value.includes(label)) interestsInput.value += ` ${label}`;\r\n                return div;\r\n            }\r\n\r\n            function clearTags() {\r\n                document.querySelectorAll('.public-tag').forEach(tag => {\r\n                    tag.parentElement.removeChild(tag);\r\n                });\r\n            }\r\n\r\n            function addTags() {\r\n                clearTags();\r\n                tags.sort()\r\n                tags.slice().reverse().forEach(tag => {\r\n                    tagContainer.prepend(createTag(tag));\r\n                });\r\n                props.setInterests(tags)\r\n            }\r\n\r\n            input.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.target.value.split(',').forEach(tag => {\r\n                        if (tag.length < 3) {\r\n                            window.alert('Os interesses devem ter no mínimo 3 caracteres!')\r\n                        } else {\r\n                            tags.push(tag)\r\n                        }\r\n                    });\r\n\r\n                    e.preventDefault()\r\n\r\n                    addTags();\r\n                    input.value = '';\r\n                    return false; //prevent the form to submit\r\n                }\r\n            });\r\n            document.addEventListener('click', (e) => {\r\n                if (e.target.classList.contains('public-close-icon')) {\r\n                    const tagLabel = e.target.getAttribute('data-item');\r\n                    const index = tags.indexOf(tagLabel);\r\n                    tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\r\n                    addTags();\r\n                }\r\n            })\r\n\r\n            input.focus();\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"public-interests-container\">\r\n            <h3>Interesses públicos</h3>\r\n            <p>\r\n                Os interesses públicos são visíveis para os outros usuários.\r\n                Coloque aqui interesses que sem eles seu perfil ficaria incompleto.\r\n            </p>\r\n            <div class=\"tag-container public-tag-container\">\r\n                <input placeholder=\"Digite e pressione 'Enter'\" maxLength=\"50\" />\r\n                <input type=\"hidden\" name=\"public-interests\" id=\"public-interests\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\n\r\nexport default function PrivateInterests(props) {\r\n\r\n    useEffect(() => {\r\n        if (document.querySelector('.private-interests-container')) {\r\n            const tagContainer = document.querySelector('.private-tag-container');\r\n            const input = document.querySelector('.private-tag-container input');\r\n\r\n            let tags = props.myProfile.interests.filter(i => !i.public).map(i => i.title);\r\n            const interestsInput = document.querySelector('#private-interests')\r\n            addTags()\r\n\r\n            function createTag(label) {\r\n                const div = document.createElement('div');\r\n                div.classList.add('tag');\r\n                div.classList.add('private-tag');\r\n                const span = document.createElement('span');\r\n                span.innerHTML = label;\r\n                const closeIcon = document.createElement('i');\r\n                closeIcon.classList.add('private-close-icon')\r\n                closeIcon.classList.add('material-icons')\r\n                closeIcon.innerHTML = '×';\r\n                closeIcon.setAttribute('data-item', label);\r\n                div.appendChild(span);\r\n                div.appendChild(closeIcon);\r\n                if (!interestsInput.value.includes(label)) interestsInput.value += ` ${label}`;\r\n                return div;\r\n            }\r\n\r\n            function clearTags() {\r\n                document.querySelectorAll('.private-tag').forEach(tag => {\r\n                    tag.parentElement.removeChild(tag);\r\n                });\r\n            }\r\n\r\n            function addTags() {\r\n                clearTags();\r\n                tags.sort()\r\n                tags.slice().reverse().forEach(tag => {\r\n                    tagContainer.prepend(createTag(tag));\r\n                });\r\n                props.setInterests(tags)\r\n            }\r\n\r\n            input.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.target.value.split(',').forEach(tag => {\r\n                        if (tag.length < 3) {\r\n                            window.alert('Os interesses devem ter no mínimo 3 caracteres!')\r\n                        } else {\r\n                            tags.push(tag)\r\n                        }\r\n                    });\r\n\r\n                    e.preventDefault()\r\n\r\n                    addTags();\r\n                    input.value = '';\r\n                    return false; //prevent the form to submit\r\n                }\r\n            });\r\n            document.addEventListener('click', (e) => {\r\n                if (e.target.classList.contains('private-close-icon')) {\r\n                    const tagLabel = e.target.getAttribute('data-item');\r\n                    const index = tags.indexOf(tagLabel);\r\n                    tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\r\n                    addTags();\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"private-interests-container\">\r\n            <h3>Interesses privados</h3>\r\n            <p>\r\n                Os interesses privados não são visíveis para os outros usuários.\r\n                Eles servem para aumentar a precisão das recomendações de perfis que\r\n                possuem o máximo de afinidade possível com você.\r\n            </p>\r\n            <div class=\"tag-container private-tag-container\">\r\n                <input placeholder=\"Digite e pressione 'Enter'\" maxLength=\"50\" />\r\n                <input type=\"hidden\" name=\"private-interests\" id=\"private-interests\" />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport { csrftoken } from '../../../../config/utils'\r\nimport Header from '../../../../components/fixed/header'\r\nimport PublicInterests from './components/PublicInterests'\r\nimport PrivateInterests from './components/PrivateInterests'\r\nimport BottomMenu from '../../../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function EditInterests() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    let [publicInterests, setPublicInterests] = [null, value => publicInterests = value]\r\n    let [privateInterests, setPrivateInterests] = [null, value => privateInterests = value]\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const submitInterests = () => {\r\n        fetch(`${SERVER_URL}/profile-api/set-myinterests`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                public_interests: publicInterests.sort(),\r\n                private_interests: privateInterests.sort()\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                document.querySelector('#interests-updated-message').style.display = 'block'\r\n                document.documentElement.scrollTop = 0\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Meus interesses\" backArrow={true} />\r\n            <div className=\"content\">\r\n                <p\r\n                    className=\"edit-interests-success-message\"\r\n                    id=\"interests-updated-message\"\r\n                >\r\n                    Interesses atualizados com sucesso\r\n                </p>\r\n                {myProfile ?\r\n                    <div className=\"interests-page-container\">\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={submitInterests}\r\n                        >\r\n                            Salvar\r\n                        </button>\r\n                        <hr />\r\n                        <PublicInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPublicInterests}\r\n                        />\r\n\r\n                        <br />\r\n                        <hr />\r\n                        <br />\r\n\r\n                        <PrivateInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPrivateInterests}\r\n                        />\r\n                    </div> :\r\n                    <div className=\"edit-interests-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { csrftoken, openCloseEmojiList } from '../config/utils'\r\nimport { SERVER_URL } from '../config/settings'\r\n\r\nexport default function CommentModal(props) {\r\n    const [commentContent, setCommentContent] = useState('')\r\n\r\n    const post = props.post\r\n\r\n    const handleCommentChange = e => {\r\n        setCommentContent(e.target.value)\r\n        const el = document.querySelector('#comment-form-submit')\r\n        el.disabled = e.target.value === ''\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setCommentContent(commentContent + emojiObject.emoji)\r\n        document.querySelector('#comment-form-submit').disabled = false\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Comentar</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"post-container\">\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"post-row\">\r\n                            <div className=\"post-col\">\r\n                                <img src={`${SERVER_URL}${post.author.photo}`}\r\n                                    className=\"profile-img-med\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"post-col\">\r\n                                <div>\r\n                                    <strong>{post.author.first_name} {post.author.last_name} </strong>\r\n                                    <p className=\"text-secondary d-inline-block\">\r\n                                        @{post.author.user.username} • {post.created.split('-').reverse().join('/')}\r\n                                    </p>\r\n                                </div>\r\n                                <div style={{ textAlign: 'start' }}>\r\n                                    {post.content}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <form action={`${SERVER_URL}/post-api/comment-post/${post.id}`} method=\"POST\" className=\"comment-form\">\r\n                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                    <label\r\n                        className=\"far fa-smile\"\r\n                        id=\"emoji-button\"\r\n                        onClick={() => openCloseEmojiList(false)}\r\n                    />\r\n                    <textarea\r\n                        type=\"text\"\r\n                        class='autoExpand' \r\n                        rows='3' \r\n                        data-min-rows='3' \r\n                        className=\"form-control\"\r\n                        name=\"comment-content\"\r\n                        value={commentContent}\r\n                        placeholder=\"Comente alguma coisa\"\r\n                        style={{ marginRight: '5px', height: '40px' }}\r\n                        onChange={handleCommentChange}\r\n                    />\r\n                    <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                        <Picker onEmojiClick={onEmojiSelect} />\r\n                    </div>\r\n                    <button\r\n                        className=\"btn btn-primary\"\r\n                        id=\"comment-form-submit\"\r\n                        type=\"submit\"\r\n                        disabled\r\n                    >\r\n                        Enviar\r\n                    </button>\r\n                </form>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../../config/settings'\r\nimport { csrftoken } from '../../../../../../../config/utils'\r\n\r\nexport default function CommentListItem(props) {\r\n    const comment = props.comment\r\n    const myProfile = props.myProfile\r\n    const fetchPost = props.fetchPost\r\n    const setPostLikesModal = props.setPostLikesModal\r\n\r\n    const likeUnlikeComment = e => {\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        }\r\n    }\r\n\r\n    const deleteComment = (e, commentId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-comment-${commentId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o comentário?\\nEssa ação é irreversível.')) {\r\n            el.style.animationPlayState = 'running'\r\n            console.log(el, el.style.animationPlayState)\r\n            el.addEventListener('animationend', () => {\r\n                fetchPost()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-comment/${commentId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"d-flex w-100 white-hover hide-animation\"\r\n            id={`post-comment-${comment.id}`}\r\n            key={comment.id}\r\n            style={{ padding: '5px 15px', background: '#fff', borderBottom: '1px solid var(--border-color)' }}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <Link to={comment.author.id === myProfile.id ?\r\n                    '/perfil' : `/user/${comment.author.slug}`}\r\n                >\r\n                    <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n            </div>\r\n            <div className=\"d-flex flex-column h-100 w-100\" style={{ marginRight: '10px' }}>\r\n                <div className=\"d-flex justify-content-between w-100\">\r\n                    <div>\r\n                        <Link to={comment.author.id === myProfile.id ?\r\n                            '/perfil' : `/user/${comment.author.slug}`}\r\n                            style={{ color: '#000' }}\r\n                        >\r\n                            <strong style={{ marginRight: '5px' }}>\r\n                                {comment.author.first_name} {comment.author.last_name}\r\n                            </strong>\r\n                            <p className=\"text-secondary d-inline-block\">\r\n                                @{comment.author.user.username} • {comment.created.split('-').reverse().join('/')}\r\n                            </p>\r\n                        </Link>\r\n                    </div>\r\n                    <i\r\n                        className=\"fas fa-ellipsis-h d-flex justify-content-center align-items-center text-secondary secondary-hover\"\r\n                        style={{ textDecoration: 'none', width: '30px', height: '30px', borderRadius: '30px' }}\r\n                        onClick={e => deleteComment(e, comment.id)}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column\">\r\n                    <div className=\"d-flex justify-content-start word-break\">\r\n                        {comment.content}\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-start align-items-start text-secondary mt-2 mb-1\">\r\n                        <div className=\"d-flex align-items-center\">\r\n                            {comment.likes.map(like => like.profile.id).includes(myProfile.id) ?\r\n                                <i class=\"fas fa-heart\"\r\n                                    data-commentid={comment.id}\r\n                                    onClick={likeUnlikeComment}\r\n                                />\r\n                                :\r\n                                <i class=\"far fa-heart\"\r\n                                    data-commentid={comment.id}\r\n                                    onClick={likeUnlikeComment}\r\n                                />\r\n                            }\r\n                            <p\r\n                                className=\"post-likes-number m-0\"\r\n                                onClick={() => setPostLikesModal({ isOpen: true, likes: comment.likes })}\r\n                            >\r\n                                {comment.likes.length}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default props => (\r\n    <Link to={`/post/${props.postId}/comentar`}>\r\n        <i className=\"far fa-comment bottom-menu-action-icon btn-primary\" />\r\n    </Link>\r\n)","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport CommentModal from '../../../../../../components/CommentModal'\r\nimport LikesModal from '../../../../../../components/LikesModal'\r\nimport Header from '../../../../../../components/fixed/Header'\r\nimport CommentListItem from './components/CommentListItem'\r\nimport BottomMenu from '../../../../../../components/fixed/bottom-menu/BottomMenu'\r\nimport CommentIcon from '../../../../../../components/fixed/bottom-menu/components/CommentIcon'\r\nimport PostListItem from '../../../../../../components/PostListItem'\r\n\r\nexport default function Post(props) {\r\n    const [post, setPost] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [commentModalIsOpen, setCommentModalIsOpen] = useState(props.commentModalIsOpen)\r\n    const [postLikesModal, setPostLikesModal] = useState({ isOpen: false, likes: null })\r\n    const [commentLikesModal, setCommentLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    const { id } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        console.log('got here')\r\n        setCommentModalIsOpen(!!props.commentModalIsOpen)\r\n    }, [props.commentModalIsOpen])\r\n\r\n    const fetchPost = () => {\r\n        fetch(`${SERVER_URL}/post-api/post/${id}`)\r\n            .then(response => response.json())\r\n            .then(data => setPost(data))\r\n    }\r\n\r\n    const hideCommentModal = () => {\r\n        setCommentModalIsOpen(false)\r\n        window.history.back()\r\n    }\r\n\r\n    const hidePostLikesModal = () => {\r\n        setPostLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    const hideCommentLikesModal = () => {\r\n        setCommentLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-100\">\r\n            {post &&\r\n                <CommentModal\r\n                    isOpen={commentModalIsOpen}\r\n                    hideModal={hideCommentModal}\r\n                    post={post}\r\n                />\r\n            }\r\n            <LikesModal\r\n                isOpen={postLikesModal.isOpen}\r\n                likes={postLikesModal.likes}\r\n                hideModal={hidePostLikesModal}\r\n            />\r\n            <LikesModal\r\n                isOpen={commentLikesModal.isOpen}\r\n                likes={commentLikesModal.likes}\r\n                hideModal={hideCommentLikesModal}\r\n            />\r\n            <Header page=\"Post\" backArrow={true} />\r\n            <div className=\"content\">\r\n                {post && myProfile ?\r\n                    <>\r\n                        <PostListItem post={post} myProfile={myProfile} />\r\n                        <div className=\"comment-list\">\r\n                            {post.comments.map(comment => {\r\n                                return (\r\n                                    <CommentListItem\r\n                                        comment={comment}\r\n                                        myProfile={myProfile}\r\n                                        fetchPost={fetchPost}\r\n                                        setPostLikesModal={setPostLikesModal}\r\n                                    />\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                    </> :\r\n                    <div className=\"loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu>\r\n                <CommentIcon postId={id} />\r\n            </BottomMenu>\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport Header from '../components/fixed/header'\r\nimport PostForm from './home/components/posts_/components/PostForm'\r\n\r\nexport default function Posts() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <Header page=\"Novo post\" backArrow={true} />\r\n            <div className=\"post-form-page-container\">\r\n                {myProfile !== null ?\r\n                    <PostForm myProfile={myProfile} />\r\n                    :\r\n                    <div className=\"posts-loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from './config/settings'\r\nimport { onExpandableTextareaInput } from './config/utils'\r\nimport {\r\n    InvitesReceivedContext, UnvisualizedCommentsContext,\r\n    UnvisualizedLikesContext, UnreadMessagesContext\r\n} from './context/app/AppContext'\r\n\r\nimport SidebarLeft from './components/fixed/SidebarLeft'\r\nimport SidebarRight from './components/fixed/sidebar-right/SidebarRight'\r\nimport Home from './pages/home/Home'\r\nimport Notifications from './pages/notifications/Notifications'\r\nimport Messages from './pages/messages_/Messages'\r\nimport MyProfile from './pages/profile/MyProfile'\r\nimport Settings from './pages/settings_/Settings'\r\nimport Profile from './pages/profile/Profile'\r\nimport ProfileFriends from './pages/profile/pages/Friends'\r\nimport InterestProfiles from './pages/profile/components/interests/pages/InterestProfiles'\r\nimport EditInterests from './pages/profile/pages/edit_interests/EditInterests'\r\nimport Post from './pages/home/components/posts_/pages/post_/Post'\r\n\r\nimport PostFormPage from './pages/PostFormPage'\r\nimport EditProfileProvider from './context/edit-profile/EditProfileContext'\r\n\r\nexport default function App() {\r\n    const [, setInvitesReceived] = useContext(InvitesReceivedContext)\r\n    const [, setUnvisulaizedComments] = useContext(UnvisualizedCommentsContext)\r\n    const [, setUnvisulaizedLikes] = useContext(UnvisualizedLikesContext)\r\n\r\n    const [, setUnreadMessagesNumber] = useContext(UnreadMessagesContext)\r\n\r\n    // global event listeners\r\n    document.addEventListener('input', onExpandableTextareaInput)\r\n    document.addEventListener('click', e => {\r\n        if (!e.target.classList.contains('view-more-select') && !e.target.classList.contains('view-more-icon')) {\r\n            document.querySelectorAll('.view-more-select').forEach(el => {\r\n                el.style.display = 'none'\r\n            })\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        updateNotificationsNumber()\r\n        updateUnreadMessagesNumber()\r\n        window.setInterval(() => {\r\n            updateNotificationsNumber()\r\n            updateUnreadMessagesNumber()\r\n        }, 6000)\r\n    }, [])\r\n\r\n    const updateNotificationsNumber = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvitesReceived(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedLikes(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedComments(data.length))\r\n    }\r\n\r\n    const updateUnreadMessagesNumber = () => {\r\n        fetch(`${SERVER_URL}/chat-api/all-unread-messages-number`)\r\n            .then(response => response.json())\r\n            .then(data => setUnreadMessagesNumber(data['unread_messages_number']))\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <SidebarLeft />\r\n            <div className=\"main-content\">\r\n                <Switch>\r\n                    <Route path=\"/home\" render={props => (\r\n                        <Home {...props} />\r\n                    )} />\r\n                    <Route path=\"/notificações\" render={props => (\r\n                        <Notifications {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                    )} />\r\n                    <Route path=\"/mensagens\" exact component={Messages} />\r\n                    <Route path=\"/mensagens/:slug\" render={props => (\r\n                        <Messages {...props} updateUnreadMessagesNumber={updateUnreadMessagesNumber} />\r\n                    )} />\r\n                    <Route path=\"/perfil\" exact render={props => (\r\n                        <EditProfileProvider>\r\n                            <MyProfile />\r\n                        </EditProfileProvider>\r\n                    )} />\r\n                    <Route path=\"/perfil/meus-interesses\" component={EditInterests} />\r\n                    <Route path=\"/configurações\" exact component={Settings} />\r\n                    <Route path=\"/configurações/perfis-bloqueados\" exact render={props => (\r\n                        <Settings {...props} page={'blocked-profiles'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/segurança\" exact render={props => (\r\n                        <Settings {...props} page={'security'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/alterar-senha\" exact render={props => (\r\n                        <Settings {...props} page={'change-password'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/deletar-conta\" exact render={props => (\r\n                        <Settings {...props} page={'delete-account'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/faq\" exact render={props => (\r\n                        <Settings {...props} page={'faq'} />\r\n                    )} />\r\n                    <Route path=\"/configurações/fale-conosco\" exact render={props => (\r\n                        <Settings {...props} page={'feedback'} />\r\n                    )} />\r\n                    <Route path=\"/user/:slug\" exact render={props => (\r\n                        <Profile {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                    )} />\r\n                    <Route path=\"/user/:slug/amigos\" component={ProfileFriends} />\r\n                    <Route path=\"/post/:id\" exact component={Post} />\r\n                    <Route path=\"/post/:id/comentar\" render={props => (\r\n                        <Post {...props} commentModalIsOpen={true} />\r\n                    )} />\r\n                    <Route path=\"/interesses/:interest\" component={InterestProfiles} />\r\n\r\n                    <Route path=\"/postar\" component={PostFormPage} />\r\n                </Switch>\r\n            </div>\r\n            <Switch>\r\n                <Route path=\"/:path\" component={SidebarRight} />\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './assets/bottomMenu.css'\r\nimport './assets/chat.css'\r\nimport './assets/commentModal.css'\r\nimport './assets/explore.css'\r\nimport './assets/animations.css'\r\nimport './assets/home.css'\r\nimport './assets/posts.css'\r\nimport './assets/profile.css'\r\nimport './assets/profiles.css'\r\nimport './assets/settings.css'\r\nimport './assets/sidebar.css'\r\nimport './assets/style.css'\r\nimport './assets/responsivity.css'\r\n\r\nimport AppContextProvider from './context/app/AppContext'\r\nimport App from './App'\r\n\r\nReactDOM.render((<AppContextProvider><App /></AppContextProvider>), document.querySelector('#root'))\r\n"],"sourceRoot":""}