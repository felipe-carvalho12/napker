{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\fabio\\\\CodeProjects\\\\Django\\\\napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{SERVER_URL}from'../../../../config/settings';import PostListItem from'../../../../components/PostListItem';import LikesModal from'../../../../components/LikesModal';export default function Explore(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),myProfile=_useState2[0],setMyProfile=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];var _useState5=useState({isOpen:false,likes:null}),_useState6=_slicedToArray(_useState5,2),likesModal=_useState6[0],setLikesModal=_useState6[1];var selectedInterest=null;useEffect(function(){fetch(\"\".concat(SERVER_URL,\"/profile-api/myprofile\")).then(function(response){return response.json();}).then(function(data){setMyProfile(data);});fetchPosts();},[]);var fetchPosts=function fetchPosts(){if(selectedInterest){fetch(\"\".concat(SERVER_URL,\"/post-api/interest-post-list/\").concat(selectedInterest)).then(function(response){return response.json();}).then(function(data){return setPosts(data);});}else{fetch(\"\".concat(SERVER_URL,\"/post-api/explore-post-list\")).then(function(response){return response.json();}).then(function(data){return setPosts(data);});}};var switchPage=function switchPage(e){var element=e.target;document.querySelectorAll('.hashtag-container').forEach(function(el){el.classList.remove('active');});element.classList.add('active');selectedInterest=element.innerText!=='Todos'?element.innerText:null;fetchPosts();};return/*#__PURE__*/React.createElement(\"div\",{className:\"explore-page-container\"},/*#__PURE__*/React.createElement(LikesModal,{isOpen:likesModal.isOpen,likes:likesModal.likes,hideModal:function hideModal(){return setLikesModal({isOpen:false,likes:null});}}),myProfile!==null&&posts!==null?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"hashtags-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"hashtag-container active\",onClick:switchPage},\"Todos\"),myProfile.interests.map(function(interest){return/*#__PURE__*/React.createElement(\"div\",{className:\"hashtag-container\",onClick:switchPage},interest.title);})),/*#__PURE__*/React.createElement(\"div\",{className:\"post-list\"},posts.map(function(post){return/*#__PURE__*/React.createElement(PostListItem,{post:post,myProfile:myProfile,renderParent:fetchPosts,openLikesModal:function openLikesModal(likes){return setLikesModal({isOpen:true,likes:likes});}});}))):/*#__PURE__*/React.createElement(\"div\",{className:\"loader-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"})));}","map":{"version":3,"sources":["C:/Users/fabio/CodeProjects/Django/napker/frontend/src/pages/home/components/explore/Explore.js"],"names":["React","useEffect","useState","SERVER_URL","PostListItem","LikesModal","Explore","myProfile","setMyProfile","posts","setPosts","isOpen","likes","likesModal","setLikesModal","selectedInterest","fetch","then","response","json","data","fetchPosts","switchPage","e","element","target","document","querySelectorAll","forEach","el","classList","remove","add","innerText","interests","map","interest","title","post"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../config/settings'\r\nimport PostListItem from '../../../../components/PostListItem'\r\nimport LikesModal from '../../../../components/LikesModal'\r\n\r\n\r\nexport default function Explore() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [posts, setPosts] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    let selectedInterest = null\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setMyProfile(data)\r\n            })\r\n        fetchPosts()\r\n    }, [])\r\n\r\n    const fetchPosts = () => {\r\n        if (selectedInterest) {\r\n            fetch(`${SERVER_URL}/post-api/interest-post-list/${selectedInterest}`)\r\n                .then(response => response.json())\r\n                .then(data => setPosts(data))\r\n        } else {\r\n            fetch(`${SERVER_URL}/post-api/explore-post-list`)\r\n                .then(response => response.json())\r\n                .then(data => setPosts(data))\r\n        }\r\n    }\r\n\r\n    const switchPage = e => {\r\n        const element = e.target\r\n        document.querySelectorAll('.hashtag-container').forEach(el => {\r\n            el.classList.remove('active')\r\n        })\r\n        element.classList.add('active')\r\n        selectedInterest = element.innerText !== 'Todos' ? element.innerText : null\r\n        fetchPosts()\r\n    }\r\n\r\n    return (\r\n        <div className=\"explore-page-container\">\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={() => setLikesModal({ isOpen: false, likes: null })}\r\n            />\r\n            {myProfile !== null && posts !== null ?\r\n                <>\r\n                    <div className=\"hashtags-header\">\r\n                        <div className=\"hashtag-container active\" onClick={switchPage}>\r\n                            Todos\r\n                        </div>\r\n                        {myProfile.interests.map(interest => {\r\n                            return (\r\n                                <div className=\"hashtag-container\" onClick={switchPage}>\r\n                                    {interest.title}\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    <div className=\"post-list\">\r\n                        {posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={myProfile}\r\n                                    renderParent={fetchPosts}\r\n                                    openLikesModal={likes => setLikesModal({ isOpen: true, likes: likes })}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}