{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\felip\\\\CodeProjects\\\\Web\\\\Napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import Header from'../../components/fixed/Header';import EditProfileModal from'./components/EditProfileModal';import Posts from'./components/Posts';import Interests from'./components/interests/Interests';import{SERVER_URL}from'../../config/settings';export default function MyProfile(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),profile=_useState2[0],setProfile=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isEditing=_useState4[0],setIsEditing=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),currentPageIsPosts=_useState6[0],setCurrentPageIsPosts=_useState6[1];document.title='Perfil / Napker';useEffect(function(){fetchProfile();},[]);var fetchProfile=function fetchProfile(){fetch(\"\".concat(SERVER_URL,\"/profile-api/myprofile\")).then(function(response){return response.json();}).then(function(data){return setProfile(data);});};var switchPage=function switchPage(e){document.querySelectorAll('.profile-page-menu-item-active').forEach(function(el){el.classList.remove('profile-page-menu-item-active');});e.target.classList.add('profile-page-menu-item-active');if(e.target.id==='profile-posts-page-menu-item'){setCurrentPageIsPosts(true);}else if(e.target.id==='profile-interests-page-menu-item'){setCurrentPageIsPosts(false);}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{page:\"Perfil\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},profile?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(EditProfileModal,{profile:profile,isOpen:isEditing,closeModal:function closeModal(){return setIsEditing(false);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-data-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column align-items-start\",style:{textAlign:'start'}},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(SERVER_URL).concat(profile.photo),className:\"profile-img-big\",style:{marginBottom:'25px'}})),/*#__PURE__*/React.createElement(\"p\",{style:{marginBottom:0}},/*#__PURE__*/React.createElement(\"strong\",null,profile.first_name,\" \",profile.last_name)),/*#__PURE__*/React.createElement(\"p\",{className:\"text-secondary\",style:{marginTop:0}},\"@\",profile.user.username),/*#__PURE__*/React.createElement(\"p\",null,profile.bio),/*#__PURE__*/React.createElement(\"p\",{className:\"text-secondary\"},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-calendar-alt\"}),\" Entrou em \",profile.created.split('-').reverse().join('/')),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Link,{to:\"/user/\".concat(profile.slug,\"/amigos\"),style:{color:'#000'}},/*#__PURE__*/React.createElement(\"strong\",null,profile.friends.length),\" \",profile.friends.length===1?'amigo':'amigos'))),/*#__PURE__*/React.createElement(\"div\",{className:\"myprofile-btn-wrapper\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-secondary\",type:\"button\",onClick:function onClick(){return setIsEditing(true);},style:{marginBottom:'10px'}},\"Editar perfil\"),/*#__PURE__*/React.createElement(Link,{to:\"/perfil/meus-interesses\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-secondary\"},\"Editar interesses\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-page-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-page-menu-item profile-page-menu-item-active\",id:\"profile-posts-page-menu-item\",onClick:switchPage},\"Posts (\",profile.posts.length,\")\"),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-page-menu-item\",id:\"profile-interests-page-menu-item\",onClick:switchPage},\"Interesses (\",profile.interests.filter(function(i){return i.public;}).length,\")\")),currentPageIsPosts?/*#__PURE__*/React.createElement(Posts,{profile:profile,fetchProfile:fetchProfile}):/*#__PURE__*/React.createElement(Interests,{profile:profile})):/*#__PURE__*/React.createElement(\"div\",{className:\"profile-page-loader-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}))));}","map":{"version":3,"sources":["C:/Users/felip/CodeProjects/Web/Napker/frontend/src/pages/profile/MyProfile.js"],"names":["React","useEffect","useState","Link","Header","EditProfileModal","Posts","Interests","SERVER_URL","MyProfile","profile","setProfile","isEditing","setIsEditing","currentPageIsPosts","setCurrentPageIsPosts","document","title","fetchProfile","fetch","then","response","json","data","switchPage","e","querySelectorAll","forEach","el","classList","remove","target","add","id","textAlign","photo","marginBottom","first_name","last_name","marginTop","user","username","bio","created","split","reverse","join","slug","color","friends","length","posts","interests","filter","i","public"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from '../../components/fixed/Header'\r\nimport EditProfileModal from './components/EditProfileModal'\r\nimport Posts from './components/Posts'\r\nimport Interests from './components/interests/Interests'\r\nimport { SERVER_URL } from '../../config/settings'\r\n\r\nexport default function MyProfile() {\r\n    const [profile, setProfile] = useState(null)\r\n    const [isEditing, setIsEditing] = useState(false)\r\n    const [currentPageIsPosts, setCurrentPageIsPosts] = useState(true)\r\n\r\n    document.title = 'Perfil / Napker'\r\n\r\n    useEffect(() => {\r\n        fetchProfile()\r\n    }, [])\r\n\r\n    const fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }\r\n\r\n    const switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            setCurrentPageIsPosts(true)\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            setCurrentPageIsPosts(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Perfil\" />\r\n            <div className=\"content\">\r\n                {profile ?\r\n                    <>\r\n                        <EditProfileModal\r\n                            profile={profile}\r\n                            isOpen={isEditing}\r\n                            closeModal={() => setIsEditing(false)}\r\n                        />\r\n\r\n                        <div className=\"profile-data-container\">\r\n                            <div className=\"d-flex flex-column align-items-start\" style={{ textAlign: 'start' }}>\r\n                                <p>\r\n                                    <img src={`${SERVER_URL}${profile.photo}`}\r\n                                        className=\"profile-img-big\"\r\n                                        style={{ marginBottom: '25px' }}\r\n                                    />\r\n                                </p>\r\n                                <p style={{ marginBottom: 0 }}><strong>{profile.first_name} {profile.last_name}</strong></p>\r\n                                <p className=\"text-secondary\" style={{ marginTop: 0 }}>@{profile.user.username}</p>\r\n                                <p>{profile.bio}</p>\r\n                                <p className=\"text-secondary\">\r\n                                    <i className=\"far fa-calendar-alt\"></i> Entrou em {profile.created.split('-').reverse().join('/')}\r\n                                </p>\r\n                                <p>\r\n                                    <Link to={`/user/${profile.slug}/amigos`} style={{ color: '#000' }}>\r\n                                        <strong>{profile.friends.length}</strong> {profile.friends.length === 1 ? 'amigo' : 'amigos'}\r\n                                    </Link>\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"myprofile-btn-wrapper\">\r\n                                <button\r\n                                    className=\"btn btn-secondary\"\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditing(true)}\r\n                                    style={{ marginBottom: '10px' }}\r\n                                >\r\n                                    Editar perfil\r\n                                </button>\r\n                                <Link to='/perfil/meus-interesses'>\r\n                                    <button className=\"btn btn-secondary\">Editar interesses</button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-page-menu\">\r\n                            <div\r\n                                className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                id=\"profile-posts-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Posts ({profile.posts.length})\r\n                            </div>\r\n                            <div\r\n                                className=\"profile-page-menu-item\"\r\n                                id=\"profile-interests-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Interesses ({profile.interests.filter(i => i.public).length})\r\n                            </div>\r\n                        </div>\r\n                        {currentPageIsPosts ?\r\n                            <Posts profile={profile} fetchProfile={fetchProfile} />\r\n                            :\r\n                            <Interests profile={profile} />\r\n                        }\r\n                    </> :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}