{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\felip\\\\CodeProjects\\\\Web\\\\Napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{SERVER_URL}from'../../../../../config/settings';export default function ProfilesSearchInput(props){var setFilteredProfiles=props.setFilteredProfiles;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState('byName'),_useState4=_slicedToArray(_useState3,2),searchType=_useState4[0],setSearchType=_useState4[1];useEffect(function(){if(search===''){setFilteredProfiles(null);return;}if(searchType==='byName'){fetch(\"\".concat(SERVER_URL,\"/profile-api/users/\").concat(search)).then(function(response){return response.json();}).then(function(data){setFilteredProfiles(data);});}else if(searchType==='byInterest'){fetch(\"\".concat(SERVER_URL,\"/profile-api/users/\").concat(search)).then(function(response){return response.json();}).then(function(data){setFilteredProfiles(data);});}},[search]);var openCloseSearchTypeSelector=function openCloseSearchTypeSelector(){var el=document.querySelector('#search-type-selector');var style=el.style;if(!style.display)style.display='none';if(style.display==='none'){document.querySelector('#profiles-search-extra-options-icon').classList.add('profiles-search-extra-options-icon-active');style.display='flex';}else{document.querySelector('#profiles-search-extra-options-icon').classList.remove('profiles-search-extra-options-icon-active');style.display='none';}};var handleSearchTypeSelection=function handleSearchTypeSelection(type){setSearchType(type);openCloseSearchTypeSelector();};return/*#__PURE__*/React.createElement(React.Fragment,null,console.log(searchType),/*#__PURE__*/React.createElement(\"div\",{className:\"profiles-filter-container\"},/*#__PURE__*/React.createElement(\"div\",{style:{width:'89%'}},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"profiles-filter-input\",placeholder:searchType==='byName'?'Pesquisar perfil':'Digite um ou mais interesses',value:search,onChange:function onChange(e){return setSearch(e.target.value);}})),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ellipsis-h btn profiles-search-extra-options-icon\",id:\"profiles-search-extra-options-icon\",onClick:openCloseSearchTypeSelector})),/*#__PURE__*/React.createElement(\"div\",{className:\"profiles-search-type-selector\",id:\"search-type-selector\"},searchType==='byName'?/*#__PURE__*/React.createElement(\"li\",{className:\"d-flex align-items-center\",onClick:function onClick(){return handleSearchTypeSelection('byInterest');}},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-grin-hearts text-secondary\",style:{fontSize:'large',marginRight:'5px'}}),\"Pesquisar por interesse\"):/*#__PURE__*/React.createElement(\"li\",{className:\"d-flex align-items-center\",onClick:function onClick(){return handleSearchTypeSelection('byName');}},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-user text-secondary\",style:{fontSize:'large',marginRight:'5px'}}),\"Pesquisar por nome\")));}","map":{"version":3,"sources":["C:/Users/felip/CodeProjects/Web/Napker/frontend/src/pages/home/components/profiles/components/ProfilesSearchInput.js"],"names":["React","useEffect","useState","SERVER_URL","ProfilesSearchInput","props","setFilteredProfiles","search","setSearch","searchType","setSearchType","fetch","then","response","json","data","openCloseSearchTypeSelector","el","document","querySelector","style","display","classList","add","remove","handleSearchTypeSelection","type","console","log","width","e","target","value","fontSize","marginRight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\n\r\n\r\nexport default function ProfilesSearchInput(props) {\r\n    const setFilteredProfiles = props.setFilteredProfiles\r\n    const [search, setSearch] = useState('')\r\n    const [searchType, setSearchType] = useState('byName')\r\n\r\n    useEffect(() => {\r\n        if (search === '') {\r\n            setFilteredProfiles(null)\r\n            return\r\n        }\r\n        if (searchType === 'byName') {\r\n            fetch(`${SERVER_URL}/profile-api/users/${search}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFilteredProfiles(data)\r\n                })\r\n        } else if (searchType === 'byInterest') {\r\n            fetch(`${SERVER_URL}/profile-api/users/${search}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setFilteredProfiles(data)\r\n                })\r\n        }\r\n    }, [search])\r\n\r\n    const openCloseSearchTypeSelector = () => {\r\n        const el = document.querySelector('#search-type-selector')\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            document.querySelector('#profiles-search-extra-options-icon').classList.add('profiles-search-extra-options-icon-active')\r\n            style.display = 'flex'\r\n        } else {\r\n            document.querySelector('#profiles-search-extra-options-icon').classList.remove('profiles-search-extra-options-icon-active')\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const handleSearchTypeSelection = type => {\r\n        setSearchType(type)\r\n        openCloseSearchTypeSelector()\r\n    }\r\n\r\n    return (\r\n        <>{console.log(searchType)}\r\n            <div className=\"profiles-filter-container\">\r\n                <div style={{ width: '89%' }}>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"profiles-filter-input\"\r\n                        placeholder={searchType === 'byName' ? 'Pesquisar perfil' : 'Digite um ou mais interesses'}\r\n                        value={search}\r\n                        onChange={e => setSearch(e.target.value)}\r\n                    />\r\n                </div>\r\n                <i\r\n                    className=\"fas fa-ellipsis-h btn profiles-search-extra-options-icon\"\r\n                    id=\"profiles-search-extra-options-icon\"\r\n                    onClick={openCloseSearchTypeSelector}\r\n                />\r\n            </div>\r\n            <div className=\"profiles-search-type-selector\" id=\"search-type-selector\" >\r\n                {searchType === 'byName' ?\r\n                    <li className=\"d-flex align-items-center\" onClick={() => handleSearchTypeSelection('byInterest')}>\r\n                        <i class=\"fas fa-grin-hearts text-secondary\" style={{ fontSize: 'large', marginRight: '5px' }} />\r\n                        Pesquisar por interesse\r\n                    </li>\r\n                    :\r\n                    <li className=\"d-flex align-items-center\" onClick={() => handleSearchTypeSelection('byName')}>\r\n                        <i class=\"fas fa-user text-secondary\" style={{ fontSize: 'large', marginRight: '5px' }} />\r\n                        Pesquisar por nome\r\n                    </li>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}