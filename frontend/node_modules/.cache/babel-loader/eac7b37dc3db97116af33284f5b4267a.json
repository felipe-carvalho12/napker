{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\fabio\\\\CodeProjects\\\\Django\\\\napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{SERVER_URL}from'../../../../../config/settings';import Header from'../../../../../components/fixed/header';import ProfileListItem from'../../../../../components/ProfileListItem';export default function InterestProfiles(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),myProfile=_useState2[0],setMyProfile=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),profiles=_useState4[0],setProfiles=_useState4[1];var scrollCount=1;var _useParams=useParams(),interest=_useParams.interest;document.title=\"\".concat(interest[0].toUpperCase()+interest.slice(1),\" / Napker\");window.onscroll=function(){if(window.innerHeight+window.scrollY>=document.body.offsetHeight){scrollCount++;fetchPosts();}};useEffect(function(){fetch(\"\".concat(SERVER_URL,\"/profile-api/myprofile\")).then(function(response){return response.json();}).then(function(data){return setMyProfile(data);});fetchPosts();},[]);var fetchPosts=function fetchPosts(){fetch(\"\".concat(SERVER_URL,\"/profile-api/interest-profile-list/\").concat(interest,\"/\").concat(scrollCount)).then(function(response){return response.json();}).then(function(data){return setProfiles(data);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{page:\"Interesse / \".concat(interest[0].toUpperCase()+interest.slice(1)),backArrow:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"interests-title-container\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Perfis interessados em \\\"\",interest,\"\\\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"list-group interest-profile-list\"},myProfile!==null&&profiles!==null&&profiles.map(function(profile){return/*#__PURE__*/React.createElement(ProfileListItem,{profile:profile,myProfile:myProfile,style:{borderLeft:'none',borderTop:'none',borderRight:'none'}});}),/*#__PURE__*/React.createElement(\"div\",{className:\"profiles-loader-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"})))));}","map":{"version":3,"sources":["C:/Users/fabio/CodeProjects/Django/napker/frontend/src/pages/profile/components/interests/pages/InterestProfiles.js"],"names":["React","useEffect","useState","useParams","SERVER_URL","Header","ProfileListItem","InterestProfiles","myProfile","setMyProfile","profiles","setProfiles","scrollCount","interest","document","title","toUpperCase","slice","window","onscroll","innerHeight","scrollY","body","offsetHeight","fetchPosts","fetch","then","response","json","data","map","profile","borderLeft","borderTop","borderRight"],"mappings":"oLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,OAASC,UAAT,KAA2B,gCAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,wCAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,2CAA5B,CAEA,cAAe,SAASC,CAAAA,gBAAT,EAA4B,eACLL,QAAQ,CAAC,IAAD,CADH,wCAChCM,SADgC,eACrBC,YADqB,8BAEPP,QAAQ,CAAC,IAAD,CAFD,yCAEhCQ,QAFgC,eAEtBC,WAFsB,eAGvC,GAAIC,CAAAA,WAAW,CAAG,CAAlB,CAHuC,eAKlBT,SAAS,EALS,CAK/BU,QAL+B,YAK/BA,QAL+B,CAOvCC,QAAQ,CAACC,KAAT,WAAoBF,QAAQ,CAAC,CAAD,CAAR,CAAYG,WAAZ,GAA4BH,QAAQ,CAACI,KAAT,CAAe,CAAf,CAAhD,cAEAC,MAAM,CAACC,QAAP,CAAkB,UAAM,CACpB,GAAID,MAAM,CAACE,WAAP,CAAqBF,MAAM,CAACG,OAA5B,EAAuCP,QAAQ,CAACQ,IAAT,CAAcC,YAAzD,CAAuE,CACnEX,WAAW,GACXY,UAAU,GACb,CACJ,CALD,CAOAvB,SAAS,CAAC,UAAM,CACZwB,KAAK,WAAIrB,UAAJ,2BAAL,CACKsB,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIpB,CAAAA,YAAY,CAACoB,IAAD,CAAhB,EAFd,EAGAL,UAAU,GACb,CALQ,CAKN,EALM,CAAT,CAOA,GAAMA,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBC,KAAK,WAAIrB,UAAJ,+CAAoDS,QAApD,aAAgED,WAAhE,EAAL,CACKc,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIlB,CAAAA,WAAW,CAACkB,IAAD,CAAf,EAFd,EAGH,CAJD,CAMA,mBACI,qDACI,oBAAC,MAAD,EACI,IAAI,uBAAiBhB,QAAQ,CAAC,CAAD,CAAR,CAAYG,WAAZ,GAA4BH,QAAQ,CAACI,KAAT,CAAe,CAAf,CAA7C,CADR,CAEI,SAAS,CAAE,IAFf,EADJ,cAKI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,2BAAf,eACI,0DAA6BJ,QAA7B,MADJ,CADJ,cAII,2BAAK,SAAS,CAAC,kCAAf,EACKL,SAAS,GAAK,IAAd,EAAsBE,QAAQ,GAAK,IAAnC,EACGA,QAAQ,CAACoB,GAAT,CAAa,SAAAC,OAAO,CAAI,CACpB,mBACI,oBAAC,eAAD,EACI,OAAO,CAAEA,OADb,CAEI,SAAS,CAAEvB,SAFf,CAGI,KAAK,CAAE,CAAEwB,UAAU,CAAE,MAAd,CAAsBC,SAAS,CAAE,MAAjC,CAAyCC,WAAW,CAAE,MAAtD,CAHX,EADJ,CAOH,CARD,CAFR,cAYI,2BAAK,SAAS,CAAC,2BAAf,eACI,2BAAK,SAAS,CAAC,QAAf,EADJ,CAZJ,CAJJ,CALJ,CADJ,CA6BH","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport Header from '../../../../../components/fixed/header'\r\nimport ProfileListItem from '../../../../../components/ProfileListItem'\r\n\r\nexport default function InterestProfiles() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [profiles, setProfiles] = useState(null)\r\n    let scrollCount = 1\r\n\r\n    const { interest } = useParams()\r\n\r\n    document.title = `${interest[0].toUpperCase() + interest.slice(1)} / Napker`\r\n\r\n    window.onscroll = () => {\r\n        if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\r\n            scrollCount++\r\n            fetchPosts()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetchPosts()\r\n    }, [])\r\n\r\n    const fetchPosts = () => {\r\n        fetch(`${SERVER_URL}/profile-api/interest-profile-list/${interest}/${scrollCount}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfiles(data))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                page={`Interesse / ${interest[0].toUpperCase() + interest.slice(1)}`}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"interests-title-container\">\r\n                    <h3>Perfis interessados em \"{interest}\"</h3>\r\n                </div>\r\n                <div className=\"list-group interest-profile-list\">\r\n                    {myProfile !== null && profiles !== null &&\r\n                        profiles.map(profile => {\r\n                            return (\r\n                                <ProfileListItem\r\n                                    profile={profile}\r\n                                    myProfile={myProfile}\r\n                                    style={{ borderLeft: 'none', borderTop: 'none', borderRight: 'none' }}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                    <div className=\"profiles-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}