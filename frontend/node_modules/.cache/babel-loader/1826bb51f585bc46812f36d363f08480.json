{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felip\\\\CodeProjects\\\\Web\\\\Napker\\\\frontend\\\\src\\\\pages\\\\profile\\\\pages\\\\edit_interests\\\\components\\\\PublicInterests.js\";\nimport React, { useEffect, useState } from 'react';\nimport { SERVER_URL } from '../../../../../config/settings';\nexport default function PublicInterests(props) {\n  useEffect(() => {\n    if (document.querySelector('.public-interests-container')) {\n      const tagContainer = document.querySelector('.public-tag-container');\n      const input = document.querySelector('.public-tag-container input');\n      let tags = props.myProfile.interests.filter(i => i.public).map(i => i.title);\n      const interestsInput = document.querySelector('#public-interests');\n      addTags();\n\n      function createTag(label) {\n        const div = document.createElement('div');\n        div.classList.add('tag');\n        div.classList.add('public-tag');\n        const span = document.createElement('span');\n        span.innerHTML = label;\n        const closeIcon = document.createElement('i');\n        closeIcon.classList.add('public-close-icon');\n        closeIcon.innerHTML = '×';\n        closeIcon.classList.add('material-icons');\n        closeIcon.setAttribute('data-item', label);\n        div.appendChild(span);\n        div.appendChild(closeIcon);\n        if (!interestsInput.value.includes(label)) interestsInput.value += ` ${label}`;\n        return div;\n      }\n\n      function clearTags() {\n        document.querySelectorAll('.public-tag').forEach(tag => {\n          tag.parentElement.removeChild(tag);\n        });\n      }\n\n      function addTags() {\n        clearTags();\n        tags.sort();\n        tags.slice().reverse().forEach(tag => {\n          tagContainer.prepend(createTag(tag));\n        });\n        props.setInterests(tags);\n      }\n\n      input.addEventListener('keydown', e => {\n        if (e.key === 'Enter') {\n          e.target.value.split(',').forEach(tag => {\n            if (tag.length < 3) {\n              window.alert('Os interesses devem ter no mínimo 3 caracteres!');\n            } else {\n              tags.push(tag);\n            }\n          });\n          e.preventDefault();\n          addTags();\n          input.value = '';\n          return false; //prevent the form to submit\n        }\n      });\n      document.addEventListener('click', e => {\n        if (e.target.classList.contains('public-close-icon')) {\n          const tagLabel = e.target.getAttribute('data-item');\n          const index = tags.indexOf(tagLabel);\n          tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\n          addTags();\n        }\n      });\n      input.focus();\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"public-interests-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Interesses p\\xFAblicos\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Os interesses p\\xFAblicos s\\xE3o vis\\xEDveis para os outros usu\\xE1rios. Coloque aqui interesses que sem eles seu perfil ficaria incompleto.\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"tag-container public-tag-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Digite e pressione 'Enter'\",\n    maxLength: \"50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"public-interests\",\n    id: \"public-interests\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/felip/CodeProjects/Web/Napker/frontend/src/pages/profile/pages/edit_interests/components/PublicInterests.js"],"names":["React","useEffect","useState","SERVER_URL","PublicInterests","props","document","querySelector","tagContainer","input","tags","myProfile","interests","filter","i","public","map","title","interestsInput","addTags","createTag","label","div","createElement","classList","add","span","innerHTML","closeIcon","setAttribute","appendChild","value","includes","clearTags","querySelectorAll","forEach","tag","parentElement","removeChild","sort","slice","reverse","prepend","setInterests","addEventListener","e","key","target","split","length","window","alert","push","preventDefault","contains","tagLabel","getAttribute","index","indexOf","focus"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\n\r\nexport default function PublicInterests(props) {\r\n\r\n    useEffect(() => {\r\n        if (document.querySelector('.public-interests-container')) {\r\n            const tagContainer = document.querySelector('.public-tag-container');\r\n            const input = document.querySelector('.public-tag-container input');\r\n\r\n            let tags = props.myProfile.interests.filter(i => i.public).map(i => i.title);\r\n            const interestsInput = document.querySelector('#public-interests')\r\n            addTags()\r\n\r\n            function createTag(label) {\r\n                const div = document.createElement('div');\r\n                div.classList.add('tag');\r\n                div.classList.add('public-tag');\r\n                const span = document.createElement('span');\r\n                span.innerHTML = label;\r\n                const closeIcon = document.createElement('i');\r\n                closeIcon.classList.add('public-close-icon')\r\n                closeIcon.innerHTML = '×';\r\n                closeIcon.classList.add('material-icons')\r\n                closeIcon.setAttribute('data-item', label);\r\n                div.appendChild(span);\r\n                div.appendChild(closeIcon);\r\n                if (!interestsInput.value.includes(label)) interestsInput.value += ` ${label}`;\r\n                return div;\r\n            }\r\n\r\n            function clearTags() {\r\n                document.querySelectorAll('.public-tag').forEach(tag => {\r\n                    tag.parentElement.removeChild(tag);\r\n                });\r\n            }\r\n\r\n            function addTags() {\r\n                clearTags();\r\n                tags.sort()\r\n                tags.slice().reverse().forEach(tag => {\r\n                    tagContainer.prepend(createTag(tag));\r\n                });\r\n                props.setInterests(tags)\r\n            }\r\n\r\n            input.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.target.value.split(',').forEach(tag => {\r\n                        if (tag.length < 3) {\r\n                            window.alert('Os interesses devem ter no mínimo 3 caracteres!')\r\n                        } else {\r\n                            tags.push(tag)\r\n                        }\r\n                    });\r\n\r\n                    e.preventDefault()\r\n\r\n                    addTags();\r\n                    input.value = '';\r\n                    return false; //prevent the form to submit\r\n                }\r\n            });\r\n            document.addEventListener('click', (e) => {\r\n                if (e.target.classList.contains('public-close-icon')) {\r\n                    const tagLabel = e.target.getAttribute('data-item');\r\n                    const index = tags.indexOf(tagLabel);\r\n                    tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\r\n                    addTags();\r\n                }\r\n            })\r\n\r\n            input.focus();\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"public-interests-container\">\r\n            <h3>Interesses públicos</h3>\r\n            <p>\r\n                Os interesses públicos são visíveis para os outros usuários.\r\n                Coloque aqui interesses que sem eles seu perfil ficaria incompleto.\r\n            </p>\r\n            <div class=\"tag-container public-tag-container\">\r\n                <input placeholder=\"Digite e pressione 'Enter'\" maxLength=\"50\" />\r\n                <input type=\"hidden\" name=\"public-interests\" id=\"public-interests\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}