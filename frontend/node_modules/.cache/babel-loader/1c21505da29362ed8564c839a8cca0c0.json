{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felip\\\\CodeProjects\\\\Web\\\\Napker\\\\frontend\\\\src\\\\pages\\\\profile\\\\MyProfile.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { SERVER_URL } from '../../config/settings';\nimport Header from '../../components/fixed/Header';\nimport EditProfileModal from './components/EditProfileModal';\nimport Posts from './components/Posts';\nimport Interests from './components/interests/Interests';\nimport ProfileData from './components/ProfileData';\nimport BottomMenu from '../../components/fixed/bottom-menu/BottomMenu';\nexport default function MyProfile() {\n  const [myProfile, setProfile] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [currentPageIsPosts, setCurrentPageIsPosts] = useState(true);\n  document.title = 'Perfil / Napker';\n  useEffect(() => {\n    fetchProfile();\n  }, []);\n\n  const fetchProfile = () => {\n    fetch(`${SERVER_URL}/profile-api/myprofile`).then(response => response.json()).then(data => setProfile(data));\n  };\n\n  const switchPage = e => {\n    document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\n      el.classList.remove('profile-page-menu-item-active');\n    });\n    e.target.classList.add('profile-page-menu-item-active');\n\n    if (e.target.id === 'profile-posts-page-menu-item') {\n      setCurrentPageIsPosts(true);\n    } else if (e.target.id === 'profile-interests-page-menu-item') {\n      setCurrentPageIsPosts(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    page: \"Perfil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, myProfile ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EditProfileModal, {\n    profile: myProfile,\n    isOpen: isEditing,\n    closeModal: () => setIsEditing(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(ProfileData, {\n    profile: myProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"myprofile-btn-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    type: \"button\",\n    onClick: () => setIsEditing(true),\n    style: {\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, \"Editar perfil\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/perfil/meus-interesses\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, \"Editar interesses\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-page-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-page-menu-item profile-page-menu-item-active\",\n    id: \"profile-posts-page-menu-item\",\n    onClick: switchPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, \"Posts (\", myProfile.posts.length, \")\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-page-menu-item\",\n    id: \"profile-interests-page-menu-item\",\n    onClick: switchPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, \"Interesses (\", myProfile.interests.filter(i => i.public).length, \")\")), currentPageIsPosts ? /*#__PURE__*/React.createElement(Posts, {\n    profile: myProfile,\n    fetchProfile: fetchProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(Interests, {\n    profile: myProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-page-loader-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(BottomMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/felip/CodeProjects/Web/Napker/frontend/src/pages/profile/MyProfile.js"],"names":["React","useEffect","useState","Link","SERVER_URL","Header","EditProfileModal","Posts","Interests","ProfileData","BottomMenu","MyProfile","myProfile","setProfile","isEditing","setIsEditing","currentPageIsPosts","setCurrentPageIsPosts","document","title","fetchProfile","fetch","then","response","json","data","switchPage","e","querySelectorAll","forEach","el","classList","remove","target","add","id","marginBottom","posts","length","interests","filter","i","public"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,SAASC,UAAT,QAA2B,uBAA3B;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,UAAP,MAAuB,+CAAvB;AAEA,eAAe,SAASC,SAAT,GAAqB;AAChC,QAAM,CAACC,SAAD,EAAYC,UAAZ,IAA0BX,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACc,kBAAD,EAAqBC,qBAArB,IAA8Cf,QAAQ,CAAC,IAAD,CAA5D;AAEAgB,EAAAA,QAAQ,CAACC,KAAT,GAAiB,iBAAjB;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AACZmB,IAAAA,YAAY;AACf,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,YAAY,GAAG,MAAM;AACvBC,IAAAA,KAAK,CAAE,GAAEjB,UAAW,wBAAf,CAAL,CACKkB,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IAAIZ,UAAU,CAACY,IAAD,CAF5B;AAGH,GAJD;;AAMA,QAAMC,UAAU,GAAGC,CAAC,IAAI;AACpBT,IAAAA,QAAQ,CAACU,gBAAT,CAA0B,gCAA1B,EAA4DC,OAA5D,CAAoEC,EAAE,IAAI;AACtEA,MAAAA,EAAE,CAACC,SAAH,CAAaC,MAAb,CAAoB,+BAApB;AACH,KAFD;AAGAL,IAAAA,CAAC,CAACM,MAAF,CAASF,SAAT,CAAmBG,GAAnB,CAAuB,+BAAvB;;AACA,QAAIP,CAAC,CAACM,MAAF,CAASE,EAAT,KAAgB,8BAApB,EAAoD;AAChDlB,MAAAA,qBAAqB,CAAC,IAAD,CAArB;AACH,KAFD,MAEO,IAAIU,CAAC,CAACM,MAAF,CAASE,EAAT,KAAgB,kCAApB,EAAwD;AAC3DlB,MAAAA,qBAAqB,CAAC,KAAD,CAArB;AACH;AACJ,GAVD;;AAYA,sBACI,uDACI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKL,SAAS,gBACN,uDACI,oBAAC,gBAAD;AACI,IAAA,OAAO,EAAEA,SADb;AAEI,IAAA,MAAM,EAAEE,SAFZ;AAGI,IAAA,UAAU,EAAE,MAAMC,YAAY,CAAC,KAAD,CAHlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAOI,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEH,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,SAAS,EAAC,mBADd;AAEI,IAAA,IAAI,EAAC,QAFT;AAGI,IAAA,OAAO,EAAE,MAAMG,YAAY,CAAC,IAAD,CAH/B;AAII,IAAA,KAAK,EAAE;AAAEqB,MAAAA,YAAY,EAAE;AAAhB,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eASI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,yBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,SAAS,EAAC,mBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,CATJ,CADJ,CAPJ,eAsBI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,SAAS,EAAC,sDADd;AAEI,IAAA,EAAE,EAAC,8BAFP;AAGI,IAAA,OAAO,EAAEV,UAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAKYd,SAAS,CAACyB,KAAV,CAAgBC,MAL5B,MADJ,eAQI;AACI,IAAA,SAAS,EAAC,wBADd;AAEI,IAAA,EAAE,EAAC,kCAFP;AAGI,IAAA,OAAO,EAAEZ,UAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKiBd,SAAS,CAAC2B,SAAV,CAAoBC,MAApB,CAA2BC,CAAC,IAAIA,CAAC,CAACC,MAAlC,EAA0CJ,MAL3D,MARJ,CAtBJ,EAsCKtB,kBAAkB,gBACf,oBAAC,KAAD;AAAO,IAAA,OAAO,EAAEJ,SAAhB;AAA2B,IAAA,YAAY,EAAEQ,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADe,gBAGf,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAER,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzCR,CADM,gBA6CN;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CA9CR,CAFJ,eAqDI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArDJ,CADJ;AAyDH","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../config/settings'\r\nimport Header from '../../components/fixed/Header'\r\nimport EditProfileModal from './components/EditProfileModal'\r\nimport Posts from './components/Posts'\r\nimport Interests from './components/interests/Interests'\r\nimport ProfileData from './components/ProfileData'\r\nimport BottomMenu from '../../components/fixed/bottom-menu/BottomMenu'\r\n\r\nexport default function MyProfile() {\r\n    const [myProfile, setProfile] = useState(null)\r\n    const [isEditing, setIsEditing] = useState(false)\r\n    const [currentPageIsPosts, setCurrentPageIsPosts] = useState(true)\r\n\r\n    document.title = 'Perfil / Napker'\r\n\r\n    useEffect(() => {\r\n        fetchProfile()\r\n    }, [])\r\n\r\n    const fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }\r\n\r\n    const switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            setCurrentPageIsPosts(true)\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            setCurrentPageIsPosts(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Perfil\" />\r\n            <div className=\"content\">\r\n                {myProfile ?\r\n                    <>\r\n                        <EditProfileModal\r\n                            profile={myProfile}\r\n                            isOpen={isEditing}\r\n                            closeModal={() => setIsEditing(false)}\r\n                        />\r\n\r\n                        <ProfileData profile={myProfile}>\r\n                            <div className=\"myprofile-btn-wrapper\">\r\n                                <button\r\n                                    className=\"btn btn-secondary\"\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditing(true)}\r\n                                    style={{ marginBottom: '10px' }}\r\n                                >\r\n                                    Editar perfil\r\n                                </button>\r\n                                <Link to='/perfil/meus-interesses'>\r\n                                    <button className=\"btn btn-secondary\">Editar interesses</button>\r\n                                </Link>\r\n                            </div>\r\n                        </ProfileData>\r\n                        <div className=\"profile-page-menu\">\r\n                            <div\r\n                                className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                id=\"profile-posts-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Posts ({myProfile.posts.length})\r\n                            </div>\r\n                            <div\r\n                                className=\"profile-page-menu-item\"\r\n                                id=\"profile-interests-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Interesses ({myProfile.interests.filter(i => i.public).length})\r\n                            </div>\r\n                        </div>\r\n                        {currentPageIsPosts ?\r\n                            <Posts profile={myProfile} fetchProfile={fetchProfile} />\r\n                            :\r\n                            <Interests profile={myProfile} />\r\n                        }\r\n                    </> :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu />\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}