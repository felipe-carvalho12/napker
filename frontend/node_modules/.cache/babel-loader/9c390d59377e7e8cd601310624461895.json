{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\fabio\\\\CodeProjects\\\\Django\\\\napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{SERVER_URL}from'../../../../../config/settings';import RecomendedProfiles from'./components/RecomendedProfiles';import SidebarSlider from'../SidebarSlider';export default function ProfileSidebar(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),pages=_useState2[0],setPages=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),pageIndex=_useState4[0],setPageIndex=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),myProfile=_useState6[0],setMyProfile=_useState6[1];useEffect(function(){var urlArr=window.location.href.split('/');if(myProfile){var profileSlug=urlArr[urlArr.length-2]==='user'?urlArr[urlArr.length-1]:urlArr[urlArr.length-1]==='perfil'?myProfile.slug:false;setPages([/*#__PURE__*/React.createElement(RecomendedProfiles,{myProfile:myProfile,profileSlug:profileSlug}),'Em breve...','Em breve...']);}else{fetch(\"\".concat(SERVER_URL,\"/profile-api/myprofile\")).then(function(response){return response.json();}).then(function(data){setMyProfile(data);var profileSlug=urlArr[urlArr.length-2]==='user'?urlArr[urlArr.length-1]:urlArr[urlArr.length-1]==='perfil'?data.slug:false;setPages([/*#__PURE__*/React.createElement(RecomendedProfiles,{myProfile:data,profileSlug:profileSlug}),'Em breve...','Em breve...']);});}},[props]);return/*#__PURE__*/React.createElement(React.Fragment,null,console.log('component rendered!'),myProfile!==null&&pages!==null?/*#__PURE__*/React.createElement(React.Fragment,null,pages[pageIndex],/*#__PURE__*/React.createElement(SidebarSlider,{handlePageChange:function handlePageChange(e){return setPageIndex(e.target.id);}})):/*#__PURE__*/React.createElement(\"div\",{className:\"loader-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"})));}","map":{"version":3,"sources":["C:/Users/fabio/CodeProjects/Django/napker/frontend/src/components/fixed/sidebar-right/components/profile-sidebar/ProfileSidebar.js"],"names":["React","useState","useEffect","SERVER_URL","RecomendedProfiles","SidebarSlider","ProfileSidebar","props","pages","setPages","pageIndex","setPageIndex","myProfile","setMyProfile","urlArr","window","location","href","split","profileSlug","length","slug","fetch","then","response","json","data","console","log","e","target","id"],"mappings":"oLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,OAASC,UAAT,KAA2B,gCAA3B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,iCAA/B,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CAGA,cAAe,SAASC,CAAAA,cAAT,CAAwBC,KAAxB,CAA+B,eAChBN,QAAQ,CAAC,IAAD,CADQ,wCACnCO,KADmC,eAC5BC,QAD4B,8BAERR,QAAQ,CAAC,CAAD,CAFA,yCAEnCS,SAFmC,eAExBC,YAFwB,8BAGRV,QAAQ,CAAC,IAAD,CAHA,yCAGnCW,SAHmC,eAGxBC,YAHwB,eAK1CX,SAAS,CAAC,UAAM,CACZ,GAAMY,CAAAA,MAAM,CAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,CAAf,CACA,GAAIN,SAAJ,CAAe,CACX,GAAMO,CAAAA,WAAW,CAAGL,MAAM,CAACA,MAAM,CAACM,MAAP,CAAgB,CAAjB,CAAN,GAA8B,MAA9B,CAAuCN,MAAM,CAACA,MAAM,CAACM,MAAP,CAAgB,CAAjB,CAA7C,CAAmEN,MAAM,CAACA,MAAM,CAACM,MAAP,CAAgB,CAAjB,CAAN,GAA8B,QAA9B,CAAyCR,SAAS,CAACS,IAAnD,CAA0D,KAAjJ,CACAZ,QAAQ,CAAC,cACL,oBAAC,kBAAD,EAAoB,SAAS,CAAEG,SAA/B,CAA0C,WAAW,CAAEO,WAAvD,EADK,CAEL,aAFK,CAGL,aAHK,CAAD,CAAR,CAKH,CAPD,IAOO,CACHG,KAAK,WAAInB,UAAJ,2BAAL,CACKoB,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACVb,YAAY,CAACa,IAAD,CAAZ,CACA,GAAMP,CAAAA,WAAW,CAAGL,MAAM,CAACA,MAAM,CAACM,MAAP,CAAgB,CAAjB,CAAN,GAA8B,MAA9B,CAAuCN,MAAM,CAACA,MAAM,CAACM,MAAP,CAAgB,CAAjB,CAA7C,CAAmEN,MAAM,CAACA,MAAM,CAACM,MAAP,CAAgB,CAAjB,CAAN,GAA8B,QAA9B,CAAyCM,IAAI,CAACL,IAA9C,CAAqD,KAA5I,CACAZ,QAAQ,CAAC,cACL,oBAAC,kBAAD,EAAoB,SAAS,CAAEiB,IAA/B,CAAqC,WAAW,CAAEP,WAAlD,EADK,CAEL,aAFK,CAGL,aAHK,CAAD,CAAR,CAKH,CAVL,EAWH,CACJ,CAtBQ,CAsBN,CAACZ,KAAD,CAtBM,CAAT,CAwBA,mBACI,wCAAGoB,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAH,CACKhB,SAAS,GAAK,IAAd,EAAsBJ,KAAK,GAAK,IAAhC,cACG,wCACKA,KAAK,CAACE,SAAD,CADV,cAEI,oBAAC,aAAD,EAAe,gBAAgB,CAAE,0BAAAmB,CAAC,QAAIlB,CAAAA,YAAY,CAACkB,CAAC,CAACC,MAAF,CAASC,EAAV,CAAhB,EAAlC,EAFJ,CADH,cAMG,2BAAK,SAAS,CAAC,kBAAf,eACI,2BAAK,SAAS,CAAC,QAAf,EADJ,CAPR,CADJ,CAcH","sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\nimport RecomendedProfiles from './components/RecomendedProfiles'\r\nimport SidebarSlider from '../SidebarSlider'\r\n\r\n\r\nexport default function ProfileSidebar(props) {\r\n    const [pages, setPages] = useState(null)\r\n    const [pageIndex, setPageIndex] = useState(0)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const urlArr = window.location.href.split('/')\r\n        if (myProfile) {\r\n            const profileSlug = urlArr[urlArr.length - 2] === 'user' ? urlArr[urlArr.length - 1] : urlArr[urlArr.length - 1] === 'perfil' ? myProfile.slug : false\r\n            setPages([\r\n                <RecomendedProfiles myProfile={myProfile} profileSlug={profileSlug} />,\r\n                'Em breve...',\r\n                'Em breve...'\r\n            ])\r\n        } else {\r\n            fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setMyProfile(data)\r\n                    const profileSlug = urlArr[urlArr.length - 2] === 'user' ? urlArr[urlArr.length - 1] : urlArr[urlArr.length - 1] === 'perfil' ? data.slug : false\r\n                    setPages([\r\n                        <RecomendedProfiles myProfile={data} profileSlug={profileSlug} />,\r\n                        'Em breve...',\r\n                        'Em breve...'\r\n                    ])\r\n                })\r\n        }\r\n    }, [props])\r\n\r\n    return (\r\n        <>{console.log('component rendered!')}\r\n            {myProfile !== null && pages !== null ?\r\n                <>\r\n                    {pages[pageIndex]}\r\n                    <SidebarSlider handlePageChange={e => setPageIndex(e.target.id)} />\r\n                </>\r\n                :\r\n                <div className=\"loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}