{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\felip\\\\CodeProjects\\\\Web\\\\Napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{SERVER_URL}from'./settings';import{InvitesReceivedContext,UnvisualizedCommentsContext,UnvisualizedLikesContext,UnreadMessagesContext}from'../context/app/AppContext';export var csrftoken=getCookie('csrftoken');export function getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!==''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=cookies[i].trim();// Does this cookie string begin with the name we want?\nif(cookie.substring(0,name.length+1)===name+'='){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}export function handleLogout(){var bool=window.confirm('Sair do Napker?\\nVocê poderá entrar novamente quando quiser.');if(bool){window.location.replace(\"\".concat(SERVER_URL,\"/logout\"));}}export function openCloseEmojiList(){var closing=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var el=document.querySelector('#emoji-list-container');var style=el.style;if(closing){style.display='none';document.querySelector('#emoji-button').classList.remove('emoji-button-active');}else{if(!style.display||style.display==='none'){style.display='initial';document.querySelector('#emoji-button').classList.add('emoji-button-active');}else{style.display='none';document.querySelector('#emoji-button').classList.remove('emoji-button-active');}}}// APP CONTEXT\nvar _useContext=useContext(InvitesReceivedContext),_useContext2=_slicedToArray(_useContext,2),invitesReceivedNumber=_useContext2[0],setInvitesReceived=_useContext2[1];var _useContext3=useContext(UnvisualizedCommentsContext),_useContext4=_slicedToArray(_useContext3,2),unvisualizedCommentsNumber=_useContext4[0],setUnvisulaizedComments=_useContext4[1];var _useContext5=useContext(UnvisualizedLikesContext),_useContext6=_slicedToArray(_useContext5,2),unvisualizedLikesNumber=_useContext6[0],setUnvisulaizedLikes=_useContext6[1];export function updateNotificationsNumber(){fetch(\"\".concat(SERVER_URL,\"/profile-api/myinvites\")).then(function(response){return response.json();}).then(function(data){return setInvitesReceived(data.length);});fetch(\"\".concat(SERVER_URL,\"/post-api/unvisualized-post-likes\")).then(function(response){return response.json();}).then(function(data){return setUnvisulaizedLikes(data.length);});fetch(\"\".concat(SERVER_URL,\"/post-api/unvisualized-post-comments\")).then(function(response){return response.json();}).then(function(data){return setUnvisulaizedComments(data.length);});}var _useContext7=useContext(UnreadMessagesContext),_useContext8=_slicedToArray(_useContext7,2),unreadMessagesNumber=_useContext8[0],setUnreadMessagesNumber=_useContext8[1];export function updateUnreadMessagesNumber(){fetch(\"\".concat(SERVER_URL,\"/chat-api/all-unread-messages-number\")).then(function(response){return response.json();}).then(function(data){return setUnreadMessagesNumber(data['unread_messages_number']);});}","map":{"version":3,"sources":["C:/Users/felip/CodeProjects/Web/Napker/frontend/src/config/utils.js"],"names":["SERVER_URL","InvitesReceivedContext","UnvisualizedCommentsContext","UnvisualizedLikesContext","UnreadMessagesContext","csrftoken","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","handleLogout","bool","window","confirm","location","replace","openCloseEmojiList","closing","el","querySelector","style","display","classList","remove","add","useContext","invitesReceivedNumber","setInvitesReceived","unvisualizedCommentsNumber","setUnvisulaizedComments","unvisualizedLikesNumber","setUnvisulaizedLikes","updateNotificationsNumber","fetch","then","response","json","data","unreadMessagesNumber","setUnreadMessagesNumber","updateUnreadMessagesNumber"],"mappings":"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","sourcesContent":["import { SERVER_URL } from './settings'\r\nimport {\r\n  InvitesReceivedContext, UnvisualizedCommentsContext,\r\n  UnvisualizedLikesContext, UnreadMessagesContext\r\n} from '../context/app/AppContext'\r\n\r\nexport const csrftoken = getCookie('csrftoken')\r\n\r\nexport function getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== '') {\r\n    const cookies = document.cookie.split(';');\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      // Does this cookie string begin with the name we want?\r\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nexport function handleLogout() {\r\n  const bool = window.confirm('Sair do Napker?\\nVocê poderá entrar novamente quando quiser.')\r\n  if (bool) {\r\n    window.location.replace(`${SERVER_URL}/logout`)\r\n  }\r\n}\r\n\r\nexport function openCloseEmojiList(closing = false) {\r\n  const el = document.querySelector('#emoji-list-container')\r\n  const style = el.style\r\n  if (closing) {\r\n    style.display = 'none'\r\n    document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n  } else {\r\n    if (!style.display || style.display === 'none') {\r\n      style.display = 'initial'\r\n      document.querySelector('#emoji-button').classList.add('emoji-button-active')\r\n    } else {\r\n      style.display = 'none'\r\n      document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n    }\r\n  }\r\n}\r\n\r\n// APP CONTEXT\r\n\r\nconst [invitesReceivedNumber, setInvitesReceived] = useContext(InvitesReceivedContext)\r\nconst [unvisualizedCommentsNumber, setUnvisulaizedComments] = useContext(UnvisualizedCommentsContext)\r\nconst [unvisualizedLikesNumber, setUnvisulaizedLikes] = useContext(UnvisualizedLikesContext)\r\n\r\nexport function updateNotificationsNumber() {\r\n  fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n    .then(response => response.json())\r\n    .then(data => setInvitesReceived(data.length))\r\n  fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n    .then(response => response.json())\r\n    .then(data => setUnvisulaizedLikes(data.length))\r\n  fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n    .then(response => response.json())\r\n    .then(data => setUnvisulaizedComments(data.length))\r\n}\r\n\r\nconst [unreadMessagesNumber, setUnreadMessagesNumber] = useContext(UnreadMessagesContext)\r\n\r\nexport function updateUnreadMessagesNumber() {\r\n  fetch(`${SERVER_URL}/chat-api/all-unread-messages-number`)\r\n    .then(response => response.json())\r\n    .then(data => setUnreadMessagesNumber(data['unread_messages_number']))\r\n}"]},"metadata":{},"sourceType":"module"}