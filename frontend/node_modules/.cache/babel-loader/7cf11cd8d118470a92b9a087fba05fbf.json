{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\felip\\\\CodeProjects\\\\Django\\\\Napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Header from'../../../components/main/header';import PublicInterests from'./publicInterests';import PrivateInterests from'./privateInterests';import{SERVER_URL}from'../../../settings';import{csrftoken}from'../../../utils';export default function EditInterests(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),myProfile=_useState2[0],setMyProfile=_useState2[1];var _ref=[null,function(value){return publicInterests=value;}],publicInterests=_ref[0],setPublicInterests=_ref[1];var _ref2=[null,function(value){return privateInterests=value;}],privateInterests=_ref2[0],setPrivateInterests=_ref2[1];useEffect(function(){fetch(\"\".concat(SERVER_URL,\"/profile-api/myprofile\")).then(function(response){return response.json();}).then(function(data){return setMyProfile(data);});},[]);var submitInterests=function submitInterests(){fetch(\"\".concat(SERVER_URL,\"/profile-api/set-myinterests\"),{method:'POST',headers:{'Content-type':'application/json','X-CSRFToken':csrftoken},body:JSON.stringify({public_interests:publicInterests.sort(),private_interests:privateInterests.sort()})}).then(function(response){return response.json();}).then(function(data){console.log(data);document.querySelector('#interests-updated-message').style.display='block';document.documentElement.scrollTop=0;});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{page:\"Meus interesses\",backArrow:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"p\",{className:\"edit-interests-success-message\",id:\"interests-updated-message\"},\"Interesses atualizados com sucesso\"),myProfile?/*#__PURE__*/React.createElement(\"div\",{className:\"interests-page-container\"},/*#__PURE__*/React.createElement(PublicInterests,{myProfile:myProfile,setInterests:setPublicInterests}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(PrivateInterests,{myProfile:myProfile,setInterests:setPrivateInterests}),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:submitInterests},\"Salvar\")):/*#__PURE__*/React.createElement(\"div\",{className:\"edit-interests-loader-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}))));}","map":{"version":3,"sources":["C:/Users/felip/CodeProjects/Django/Napker/frontend/src/pages/profile-components/edit-interests/editinterests.js"],"names":["React","useEffect","useState","Header","PublicInterests","PrivateInterests","SERVER_URL","csrftoken","EditInterests","myProfile","setMyProfile","value","publicInterests","setPublicInterests","privateInterests","setPrivateInterests","fetch","then","response","json","data","submitInterests","method","headers","body","JSON","stringify","public_interests","sort","private_interests","console","log","document","querySelector","style","display","documentElement","scrollTop"],"mappings":"oLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,MAAP,KAAmB,iCAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,OAASC,UAAT,KAA2B,mBAA3B,CACA,OAASC,SAAT,KAA0B,gBAA1B,CAEA,cAAe,SAASC,CAAAA,aAAT,EAAyB,eACFN,QAAQ,CAAC,IAAD,CADN,wCAC7BO,SAD6B,eAClBC,YADkB,wBAEQ,CAAC,IAAD,CAAO,SAAAC,KAAK,QAAIC,CAAAA,eAAe,CAAGD,KAAtB,EAAZ,CAFR,CAE/BC,eAF+B,SAEdC,kBAFc,mBAGU,CAAC,IAAD,CAAO,SAAAF,KAAK,QAAIG,CAAAA,gBAAgB,CAAGH,KAAvB,EAAZ,CAHV,CAG/BG,gBAH+B,UAGbC,mBAHa,UAKpCd,SAAS,CAAC,UAAM,CACZe,KAAK,WAAIV,UAAJ,2BAAL,CACKW,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIV,CAAAA,YAAY,CAACU,IAAD,CAAhB,EAFd,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1BL,KAAK,WAAIV,UAAJ,iCAA8C,CAC/CgB,MAAM,CAAE,MADuC,CAE/CC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,cAAehB,SAFV,CAFsC,CAM/CiB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,gBAAgB,CAAEf,eAAe,CAACgB,IAAhB,EADD,CAEjBC,iBAAiB,CAAEf,gBAAgB,CAACc,IAAjB,EAFF,CAAf,CANyC,CAA9C,CAAL,CAWKX,IAXL,CAWU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAXlB,EAYKF,IAZL,CAYU,SAAAG,IAAI,CAAI,CACVU,OAAO,CAACC,GAAR,CAAYX,IAAZ,EACAY,QAAQ,CAACC,aAAT,CAAuB,4BAAvB,EAAqDC,KAArD,CAA2DC,OAA3D,CAAqE,OAArE,CACAH,QAAQ,CAACI,eAAT,CAAyBC,SAAzB,CAAqC,CAArC,CACH,CAhBL,EAiBH,CAlBD,CAoBA,mBACI,qDACI,oBAAC,MAAD,EAAQ,IAAI,CAAC,iBAAb,CAA+B,SAAS,CAAE,IAA1C,EADJ,cAEI,2BAAK,SAAS,CAAC,SAAf,eACI,yBACI,SAAS,CAAC,gCADd,CAEI,EAAE,CAAC,2BAFP,uCADJ,CAOK5B,SAAS,cACN,2BAAK,SAAS,CAAC,0BAAf,eACI,oBAAC,eAAD,EACI,SAAS,CAAEA,SADf,CAEI,YAAY,CAAEI,kBAFlB,EADJ,cAMI,8BANJ,cAOI,8BAPJ,cAQI,8BARJ,cAUI,oBAAC,gBAAD,EACI,SAAS,CAAEJ,SADf,CAEI,YAAY,CAAEM,mBAFlB,EAVJ,cAeI,8BAfJ,cAgBI,8BACI,SAAS,CAAC,iBADd,CAEI,OAAO,CAAEM,eAFb,WAhBJ,CADM,cAwBN,2BAAK,SAAS,CAAC,iCAAf,eACI,2BAAK,SAAS,CAAC,QAAf,EADJ,CA/BR,CAFJ,CADJ,CAyCH","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport Header from '../../../components/main/header'\r\nimport PublicInterests from './publicInterests'\r\nimport PrivateInterests from './privateInterests'\r\nimport { SERVER_URL } from '../../../settings'\r\nimport { csrftoken } from '../../../utils'\r\n\r\nexport default function EditInterests() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    let [publicInterests, setPublicInterests] = [null, value => publicInterests = value]\r\n    let [privateInterests, setPrivateInterests] = [null, value => privateInterests = value]\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const submitInterests = () => {\r\n        fetch(`${SERVER_URL}/profile-api/set-myinterests`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                public_interests: publicInterests.sort(),\r\n                private_interests: privateInterests.sort()\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                document.querySelector('#interests-updated-message').style.display = 'block'\r\n                document.documentElement.scrollTop = 0\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Meus interesses\" backArrow={true} />\r\n            <div className=\"content\">\r\n                <p\r\n                    className=\"edit-interests-success-message\"\r\n                    id=\"interests-updated-message\"\r\n                >\r\n                    Interesses atualizados com sucesso\r\n                </p>\r\n                {myProfile ?\r\n                    <div className=\"interests-page-container\">\r\n                        <PublicInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPublicInterests}\r\n                        />\r\n\r\n                        <br />\r\n                        <hr />\r\n                        <br />\r\n\r\n                        <PrivateInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPrivateInterests}\r\n                        />\r\n\r\n                        <hr />\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={submitInterests}\r\n                        >\r\n                            Salvar\r\n                        </button>\r\n                    </div> :\r\n                    <div className=\"edit-interests-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}