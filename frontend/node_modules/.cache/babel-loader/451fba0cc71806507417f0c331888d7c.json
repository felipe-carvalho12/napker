{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\felip\\\\CodeProjects\\\\Web\\\\Napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import React,{useEffect,useState}from'react';import{SERVER_URL}from'../../../settings';export default function PrivateInterests(props){useEffect(function(){if(document.querySelector('.private-interests-container')){var createTag=function createTag(label){var div=document.createElement('div');div.classList.add('tag');div.classList.add('private-tag');var span=document.createElement('span');span.innerHTML=label;var closeIcon=document.createElement('i');closeIcon.classList.add('private-close-icon');closeIcon.classList.add('material-icons');closeIcon.innerHTML='×';closeIcon.setAttribute('data-item',label);div.appendChild(span);div.appendChild(closeIcon);if(!interestsInput.value.includes(label))interestsInput.value+=\" \".concat(label);return div;};var clearTags=function clearTags(){document.querySelectorAll('.private-tag').forEach(function(tag){tag.parentElement.removeChild(tag);});};var addTags=function addTags(){clearTags();tags.sort();tags.slice().reverse().forEach(function(tag){tagContainer.prepend(createTag(tag));});props.setInterests(tags);};var tagContainer=document.querySelector('.private-tag-container');var input=document.querySelector('.private-tag-container input');var tags=props.myProfile.interests.filter(function(i){return!i.public;}).map(function(i){return i.title;});var interestsInput=document.querySelector('#private-interests');addTags();input.addEventListener('keydown',function(e){if(e.key==='Enter'){e.target.value.split(',').forEach(function(tag){if(tag.length<3){window.alert('Os interesses devem ter no mínimo 3 caracteres!');}else{tags.push(tag);}});e.preventDefault();addTags();input.value='';return false;//prevent the form to submit\n}});document.addEventListener('click',function(e){if(e.target.classList.contains('private-close-icon')){var tagLabel=e.target.getAttribute('data-item');var index=tags.indexOf(tagLabel);tags=[].concat(_toConsumableArray(tags.slice(0,index)),_toConsumableArray(tags.slice(index+1)));addTags();}});}});return/*#__PURE__*/React.createElement(\"div\",{className:\"private-interests-container\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Interesses privados\"),/*#__PURE__*/React.createElement(\"p\",null,\"Os interesses privados n\\xE3o s\\xE3o vis\\xEDveis para os outros usu\\xE1rios. Eles servem para aumentar a precis\\xE3o das recomenda\\xE7\\xF5es de perfis que possuem o m\\xE1ximo de afinidade poss\\xEDvel com voc\\xEA.\"),/*#__PURE__*/React.createElement(\"div\",{class:\"tag-container private-tag-container\"},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Digite e pressione 'Enter'\",maxLength:\"50\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"hidden\",name:\"private-interests\",id:\"private-interests\"})));}","map":{"version":3,"sources":["C:/Users/felip/CodeProjects/Web/Napker/frontend/src/pages/profile-components/edit-interests/privateInterests.js"],"names":["React","useEffect","useState","SERVER_URL","PrivateInterests","props","document","querySelector","createTag","label","div","createElement","classList","add","span","innerHTML","closeIcon","setAttribute","appendChild","interestsInput","value","includes","clearTags","querySelectorAll","forEach","tag","parentElement","removeChild","addTags","tags","sort","slice","reverse","tagContainer","prepend","setInterests","input","myProfile","interests","filter","i","public","map","title","addEventListener","e","key","target","split","length","window","alert","push","preventDefault","contains","tagLabel","getAttribute","index","indexOf"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../settings'\r\n\r\nexport default function PrivateInterests(props) {\r\n\r\n    useEffect(() => {\r\n        if (document.querySelector('.private-interests-container')) {\r\n            const tagContainer = document.querySelector('.private-tag-container');\r\n            const input = document.querySelector('.private-tag-container input');\r\n\r\n            let tags = props.myProfile.interests.filter(i => !i.public).map(i => i.title);\r\n            const interestsInput = document.querySelector('#private-interests')\r\n            addTags()\r\n\r\n            function createTag(label) {\r\n                const div = document.createElement('div');\r\n                div.classList.add('tag');\r\n                div.classList.add('private-tag');\r\n                const span = document.createElement('span');\r\n                span.innerHTML = label;\r\n                const closeIcon = document.createElement('i');\r\n                closeIcon.classList.add('private-close-icon')\r\n                closeIcon.classList.add('material-icons')\r\n                closeIcon.innerHTML = '×';\r\n                closeIcon.setAttribute('data-item', label);\r\n                div.appendChild(span);\r\n                div.appendChild(closeIcon);\r\n                if (!interestsInput.value.includes(label)) interestsInput.value += ` ${label}`;\r\n                return div;\r\n            }\r\n\r\n            function clearTags() {\r\n                document.querySelectorAll('.private-tag').forEach(tag => {\r\n                    tag.parentElement.removeChild(tag);\r\n                });\r\n            }\r\n\r\n            function addTags() {\r\n                clearTags();\r\n                tags.sort()\r\n                tags.slice().reverse().forEach(tag => {\r\n                    tagContainer.prepend(createTag(tag));\r\n                });\r\n                props.setInterests(tags)\r\n            }\r\n\r\n            input.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.target.value.split(',').forEach(tag => {\r\n                        if (tag.length < 3) {\r\n                            window.alert('Os interesses devem ter no mínimo 3 caracteres!')\r\n                        } else {\r\n                            tags.push(tag)\r\n                        }\r\n                    });\r\n\r\n                    e.preventDefault()\r\n\r\n                    addTags();\r\n                    input.value = '';\r\n                    return false; //prevent the form to submit\r\n                }\r\n            });\r\n            document.addEventListener('click', (e) => {\r\n                if (e.target.classList.contains('private-close-icon')) {\r\n                    const tagLabel = e.target.getAttribute('data-item');\r\n                    const index = tags.indexOf(tagLabel);\r\n                    tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\r\n                    addTags();\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"private-interests-container\">\r\n            <h3>Interesses privados</h3>\r\n            <p>\r\n                Os interesses privados não são visíveis para os outros usuários.\r\n                Eles servem para aumentar a precisão das recomendações de perfis que\r\n                possuem o máximo de afinidade possível com você.\r\n            </p>\r\n            <div class=\"tag-container private-tag-container\">\r\n                <input placeholder=\"Digite e pressione 'Enter'\" maxLength=\"50\" />\r\n                <input type=\"hidden\" name=\"private-interests\" id=\"private-interests\" />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}