{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\carlo\\\\Projects\\\\napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{SERVER_URL}from'../../../config/settings';import LikesModal from'../../../components/LikesModal';import PostListItem from'../../../components/PostListItem';export default function Posts(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),myProfile=_useState2[0],setMyProfile=_useState2[1];var _useState3=useState({isOpen:false,likes:null}),_useState4=_slicedToArray(_useState3,2),likesModal=_useState4[0],setLikesModal=_useState4[1];var profile=props.profile;useEffect(function(){fetch(\"\".concat(SERVER_URL,\"/profile-api/myprofile\")).then(function(response){return response.json();}).then(function(data){return setMyProfile(data);});},[]);var hideLikesModal=function hideLikesModal(){setLikesModal({isOpen:false,likes:null});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(LikesModal,{isOpen:likesModal.isOpen,likes:likesModal.likes,hideModal:hideLikesModal}),/*#__PURE__*/React.createElement(\"div\",{className:\"post-list\"},profile&&myProfile?/*#__PURE__*/React.createElement(React.Fragment,null,profile.posts.length?profile.posts.map(function(post){return/*#__PURE__*/React.createElement(PostListItem,{post:post,myProfile:myProfile,renderParent:props.fetchProfile,openLikesModal:function openLikesModal(likes){return setLikesModal({isOpen:true,likes:likes});}});}):/*#__PURE__*/React.createElement(\"div\",{className:\"no-posts-container\"},profile.id===myProfile.id?/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:'50px'}},\"Voc\\xEA n\\xE3o tem posts\"):/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:'50px'}},profile.first_name,\" n\\xE3o tem posts\"))):/*#__PURE__*/React.createElement(\"div\",{className:\"posts-loader-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}))));}","map":{"version":3,"sources":["C:/Users/carlo/Projects/napker/frontend/src/pages/profile/components/Posts.js"],"names":["React","useEffect","useState","SERVER_URL","LikesModal","PostListItem","Posts","props","myProfile","setMyProfile","isOpen","likes","likesModal","setLikesModal","profile","fetch","then","response","json","data","hideLikesModal","posts","length","map","post","fetchProfile","id","marginTop","first_name"],"mappings":"wKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,gCAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CAEA,cAAe,SAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,eACCL,QAAQ,CAAC,IAAD,CADT,wCAC1BM,SAD0B,eACfC,YADe,8BAEGP,QAAQ,CAAC,CAAEQ,MAAM,CAAE,KAAV,CAAiBC,KAAK,CAAE,IAAxB,CAAD,CAFX,yCAE1BC,UAF0B,eAEdC,aAFc,eAGjC,GAAMC,CAAAA,OAAO,CAAGP,KAAK,CAACO,OAAtB,CAEAb,SAAS,CAAC,UAAM,CACZc,KAAK,WAAIZ,UAAJ,2BAAL,CACKa,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIV,CAAAA,YAAY,CAACU,IAAD,CAAhB,EAFd,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzBP,aAAa,CAAC,CACVH,MAAM,CAAE,KADE,CAEVC,KAAK,CAAE,IAFG,CAAD,CAAb,CAIH,CALD,CAQA,mBACI,qDACI,oBAAC,UAAD,EACI,MAAM,CAAEC,UAAU,CAACF,MADvB,CAEI,KAAK,CAAEE,UAAU,CAACD,KAFtB,CAGI,SAAS,CAAES,cAHf,EADJ,cAMI,2BAAK,SAAS,CAAC,WAAf,EACKN,OAAO,EAAIN,SAAX,cACG,wCACKM,OAAO,CAACO,KAAR,CAAcC,MAAd,CAAuBR,OAAO,CAACO,KAAR,CAAcE,GAAd,CAAkB,SAAAC,IAAI,CAAI,CAC9C,mBACI,oBAAC,YAAD,EACI,IAAI,CAAEA,IADV,CAEI,SAAS,CAAEhB,SAFf,CAGI,YAAY,CAAED,KAAK,CAACkB,YAHxB,CAII,cAAc,CAAE,wBAAAd,KAAK,QAAIE,CAAAA,aAAa,CAAC,CAAEH,MAAM,CAAE,IAAV,CAAgBC,KAAK,CAAEA,KAAvB,CAAD,CAAjB,EAJzB,EADJ,CAQH,CATuB,CAAvB,cAUG,2BAAK,SAAS,CAAC,oBAAf,EACKG,OAAO,CAACY,EAAR,GAAelB,SAAS,CAACkB,EAAzB,cACG,0BAAI,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAb,CAAX,6BADH,cAGG,0BAAI,KAAK,CAAE,CAAEA,SAAS,CAAE,MAAb,CAAX,EAAmCb,OAAO,CAACc,UAA3C,qBAJR,CAXR,CADH,cAsBG,2BAAK,SAAS,CAAC,wBAAf,eACI,2BAAK,SAAS,CAAC,QAAf,EADJ,CAvBR,CANJ,CADJ,CAqCH","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport LikesModal from '../../../components/LikesModal'\r\nimport PostListItem from '../../../components/PostListItem'\r\n\r\nexport default function Posts(props) {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n    const profile = props.profile\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const hideLikesModal = () => {\r\n        setLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={hideLikesModal}\r\n            />\r\n            <div className=\"post-list\">\r\n                {profile && myProfile ?\r\n                    <>\r\n                        {profile.posts.length ? profile.posts.map(post => {\r\n                            return (\r\n                                <PostListItem\r\n                                    post={post}\r\n                                    myProfile={myProfile}\r\n                                    renderParent={props.fetchProfile}\r\n                                    openLikesModal={likes => setLikesModal({ isOpen: true, likes: likes })}\r\n                                />\r\n                            )\r\n                        }) :\r\n                            <div className=\"no-posts-container\">\r\n                                {profile.id === myProfile.id ?\r\n                                    <h3 style={{ marginTop: '50px' }}>Você não tem posts</h3>\r\n                                    :\r\n                                    <h3 style={{ marginTop: '50px' }}>{profile.first_name} não tem posts</h3>\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"posts-loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}