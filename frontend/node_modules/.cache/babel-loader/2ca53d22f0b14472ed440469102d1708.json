{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\fabio\\\\CodeProjects\\\\Django\\\\napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{SERVER_URL}from'../../../config/settings';import{csrftoken}from'../../../config/utils';export default function Feedback(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var selectedRating=0;useEffect(function(){fetch(\"\".concat(SERVER_URL,\"/profile-api/myprofile\")).then(function(response){return response.json();}).then(function(data){return setName(data.first_name);});document.querySelectorAll('.option-container > img').forEach(function(image){image.onmouseenter=function(){return image.src=\"/static/media/feedback-faces/\".concat(image.id,\".png\");};image.onmouseout=function(){if(image.dataset.selected){image.src=\"/static/media/feedback-faces/\".concat(image.id,\"bw.png\");}};});},[]);var selectFace=function selectFace(e){var img=e.target;document.querySelectorAll('.option-container > img').forEach(function(image){image.src=\"/static/media/feedback-faces/\".concat(image.id,\"bw.png\");image.dataset.selected=false;image.style.animationPlayState='paused';});img.src=\"/static/media/feedback-faces/\".concat(img.id,\".png\");img.dataset.selected=true;img.style.animationPlayState='running';selectedRating=img.id;};var thankYouPage=function thankYouPage(){document.querySelector('.feedback-form > h3').innerHTML=\"Muito obrigado\".concat(name!==null?\", \".concat(name):'',\"!\");document.querySelector('.feedback-faces-container').innerHTML='A sua mensagem nos ajudará a tornar o Napker cada vez mais inclusivo e transparente.\\nCaso pense em mais alguma coisa, sinta-se à vontade para entrar em contato novamente.';document.querySelector('.textarea-container').innerHTML=\"<img src='/static/media/feedback-faces/thankyou.png'/>\";};var handleFormSubmit=function handleFormSubmit(e){var message=document.querySelector('.feedback-form > .textarea-container > textarea').value;e.preventDefault();fetch(\"\".concat(SERVER_URL,\"/settings-api/feedback\"),{method:'POST',headers:{'Content-type':'application/json','X-CSRFToken':csrftoken},body:JSON.stringify({'rating':selectedRating,'message':message})}).then(function(response){return response.json();}).then(function(data){return console.log(data);});thankYouPage();};return/*#__PURE__*/React.createElement(\"div\",{className:\"settings-description-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"feedback-form\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Nos ajude a melhorar\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"feedback-faces-container\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Como est\\xE1 sendo a sua experi\\xEAncia no Napker at\\xE9 agora?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/5bw.png\",id:\"5\",\"data-selected\":false,onClick:selectFace})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/4bw.png\",id:\"4\",\"data-selected\":false,onClick:selectFace})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/3bw.png\",id:\"3\",\"data-selected\":false,onClick:selectFace})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/2bw.png\",id:\"2\",\"data-selected\":false,onClick:selectFace})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/1bw.png\",id:\"1\",\"data-selected\":false,onClick:selectFace})))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"textarea-container\"},/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"Digite a sua mensagem aqui...\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary w-100\",onClick:handleFormSubmit},\"Enviar\"))));}","map":{"version":3,"sources":["C:/Users/fabio/CodeProjects/Django/napker/frontend/src/pages/settings_/components/Feedback.js"],"names":["React","useEffect","useState","SERVER_URL","csrftoken","Feedback","name","setName","selectedRating","fetch","then","response","json","data","first_name","document","querySelectorAll","forEach","image","onmouseenter","src","id","onmouseout","dataset","selected","selectFace","e","img","target","style","animationPlayState","thankYouPage","querySelector","innerHTML","handleFormSubmit","message","value","preventDefault","method","headers","body","JSON","stringify","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\n\r\n\r\nexport default function Feedback() {\r\n    const [name, setName] = useState(null)\r\n\r\n    let selectedRating = 0\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setName(data.first_name))\r\n        document.querySelectorAll('.option-container > img').forEach(image => {\r\n            image.onmouseenter = () => image.src = `/static/media/feedback-faces/${image.id}.png`\r\n            image.onmouseout = () => {\r\n                if (image.dataset.selected) {\r\n                    image.src = `/static/media/feedback-faces/${image.id}bw.png`\r\n                }\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const selectFace = e => {\r\n        const img = e.target\r\n        document.querySelectorAll('.option-container > img').forEach(image => {\r\n            image.src = `/static/media/feedback-faces/${image.id}bw.png`\r\n            image.dataset.selected = false\r\n            image.style.animationPlayState = 'paused'\r\n        })\r\n        img.src = `/static/media/feedback-faces/${img.id}.png`\r\n        img.dataset.selected = true\r\n        img.style.animationPlayState = 'running'\r\n        selectedRating = img.id\r\n    }\r\n\r\n    const thankYouPage = () => {\r\n        document.querySelector('.feedback-form > h3').innerHTML = `Muito obrigado${name !== null ? (`, ${name}`) : ''}!`\r\n        document.querySelector('.feedback-faces-container').innerHTML = 'A sua mensagem nos ajudará a tornar o Napker cada vez mais inclusivo e transparente.\\nCaso pense em mais alguma coisa, sinta-se à vontade para entrar em contato novamente.'\r\n        document.querySelector('.textarea-container').innerHTML = \"<img src='/static/media/feedback-faces/thankyou.png'/>\"\r\n    }\r\n\r\n\r\n    const handleFormSubmit = e => {\r\n        const message = document.querySelector('.feedback-form > .textarea-container > textarea').value\r\n        e.preventDefault()\r\n        fetch(`${SERVER_URL}/settings-api/feedback`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'rating': selectedRating,\r\n                'message': message\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n        thankYouPage()\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div className=\"feedback-form\">\r\n                <h3>Nos ajude a melhorar</h3>\r\n                <hr />\r\n                <div className=\"feedback-faces-container\">\r\n                    <h6>Como está sendo a sua experiência no Napker até agora?</h6>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/5bw.png\"\r\n                                id=\"5\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/4bw.png\"\r\n                                id=\"4\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/3bw.png\"\r\n                                id=\"3\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/2bw.png\"\r\n                                id=\"2\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/1bw.png\"\r\n                                id=\"1\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"textarea-container\">\r\n                    <textarea placeholder=\"Digite a sua mensagem aqui...\" />\r\n                    <button className=\"btn btn-primary w-100\" onClick={handleFormSubmit}>Enviar</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}