{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{SERVER_URL}from'../config/settings';import{csrftoken}from'../config/utils';export default function PostListItem(props){var _this=this;var post=props.post;var myProfile=props.myProfile;var likeUnlikePost=function likeUnlikePost(e){e.stopPropagation();var likeBtn=e.target;if(likeBtn.classList.contains('fas')){likeBtn.classList.remove('fas');//border heart\nlikeBtn.classList.add('far');//filled heart\nfetch(\"\".concat(SERVER_URL,\"/post-api/unlike-post/\").concat(likeBtn.dataset.postid)).then(function(response){return response.json();}).then(function(data){console.log(data);props.renderParent();});}else{likeBtn.classList.remove('far');//border heart\nlikeBtn.classList.add('fas');//filled heart\nlikeBtn.classList.add('animated');likeBtn.onanimationend=function(){likeBtn.classList.remove('animated');};fetch(\"\".concat(SERVER_URL,\"/post-api/like-post/\").concat(likeBtn.dataset.postid)).then(function(response){return response.json();}).then(function(data){console.log(data);props.renderParent();});}};var openCloseExtraOptions=function openCloseExtraOptions(e,postId){e.stopPropagation();var el=document.querySelector(\"#post-view-more-select-\".concat(postId));var style=el.style;if(!style.display)style.display='none';if(style.display==='none'){style.display='flex';}else{style.display='none';}};var deletePost=function deletePost(e,postId){e.stopPropagation();var el=document.querySelector(\"#profile-post-\".concat(postId));if(window.confirm('Tem certeza que deseja apagar o post?\\nEssa ação é irreversível.')){el.style.animationPlayState='running';el.addEventListener('animationend',function(){_this.fetchPosts();});fetch(\"\".concat(SERVER_URL,\"/post-api/delete-post/\").concat(postId),{method:'POST',headers:{'Content-type':'application/json','X-CSRFToken':csrftoken}}).then(function(response){return response.json();}).then(function(data){console.log(data);});}};var reportFakeNews=function reportFakeNews(e,postId){e.stopPropagation();if(window.confirm('Denúnciar esse post por fake news?')){alert('Ainda estamos desenvolvendo esse sistema (:');}};var reportImproperContent=function reportImproperContent(e,postId){e.stopPropagation();if(window.confirm('Denúnciar esse post por conteúdo impróprio?')){alert('Ainda estamos desenvolvendo esse sistema (:');}};return/*#__PURE__*/React.createElement(\"li\",{className:\"d-flex w-100 white-hover hide-animation\",id:\"profile-post-\".concat(post.id),key:post.id,style:{padding:'5px 15px',background:'#fff',borderBottom:'1px solid var(--border-color)'},onClick:function onClick(){return window.location.href=\"/post/\".concat(post.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column h-100\",style:{marginRight:'10px'}},/*#__PURE__*/React.createElement(Link,{to:post.author.id===myProfile.id?'/perfil':\"/user/\".concat(post.author.slug),onClick:function onClick(e){return e.stopPropagation();}},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(SERVER_URL).concat(post.author.photo),className:\"profile-img-sm\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column h-100 w-100\",style:{marginRight:'10px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between w-100\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:post.author.id===myProfile.id?'/perfil':\"/user/\".concat(post.author.slug),className:\"d-flex justify-content-start align-items-start post-author-data-wrapper\",style:{color:'#000'},onClick:function onClick(e){return e.stopPropagation();}},/*#__PURE__*/React.createElement(\"strong\",{className:\"mr-2\"},post.author.first_name,\" \",post.author.last_name),/*#__PURE__*/React.createElement(\"p\",{className:\"text-secondary\"},\"@\",post.author.user.username,\" \\u2022 \",post.created.split('-').reverse().join('/')))),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ellipsis-h d-flex justify-content-center align-items-center text-secondary secondary-hover view-more-icon\",id:\"post-view-more-icon-\".concat(post.id),style:{textDecoration:'none',width:'30px',height:'30px',borderRadius:'30px'},onClick:function onClick(e){return openCloseExtraOptions(e,post.id);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"view-more-select\",id:\"post-view-more-select-\".concat(post.id),style:{right:'0%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"popover-arrow\",style:{top:'-9px',right:'8%'}}),myProfile.id===post.author.id?/*#__PURE__*/React.createElement(\"li\",{style:{color:'#f00'},onClick:function onClick(e){return deletePost(e,post.id);}},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-trash\"}),\"Excluir\"):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(e){return reportFakeNews(e,post.id);}},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-exclamation-triangle text-secondary\"}),\"Denunciar fake news\"),/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(e){return reportImproperContent(e,post.id);}},/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-exclamation-circle text-secondary\"}),\"Denunciar conte\\xFAdo impr\\xF3prio\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start word-break\"},post.content),post.image&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start w-100\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(SERVER_URL).concat(post.image),className:\"post-img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-start align-items-start text-secondary mt-2 mb-1\"},/*#__PURE__*/React.createElement(Link,{to:\"/post/\".concat(post.id,\"/comentar\"),className:\"d-flex align-items-center text-secondary\",style:{outline:'none',textDecoration:'none'},onClick:function onClick(e){return e.stopPropagation();}},/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-comment mr-1\"}),/*#__PURE__*/React.createElement(\"p\",{style:{margin:'0'}},post.comments.length)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},post.likes.map(function(like){return like.profile.id;}).includes(myProfile.id)?/*#__PURE__*/React.createElement(\"i\",{class:\"fas fa-heart expand-animation mr-1  ml-2\",\"data-postid\":post.id,onClick:likeUnlikePost}):/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-heart mr-1 ml-2\",\"data-postid\":post.id,onClick:likeUnlikePost}),/*#__PURE__*/React.createElement(\"p\",{className:\"m-0 likes-number\",onClick:function onClick(e){e.stopPropagation();props.openLikesModal(post.likes);}},post.likes.length))))));}","map":{"version":3,"sources":["C:/Users/fabio/CodeProjects/Django/napker/frontend/src/components/PostListItem.js"],"names":["React","Link","SERVER_URL","csrftoken","PostListItem","props","post","myProfile","likeUnlikePost","e","stopPropagation","likeBtn","target","classList","contains","remove","add","fetch","dataset","postid","then","response","json","data","console","log","renderParent","onanimationend","openCloseExtraOptions","postId","el","document","querySelector","style","display","deletePost","window","confirm","animationPlayState","addEventListener","fetchPosts","method","headers","reportFakeNews","alert","reportImproperContent","id","padding","background","borderBottom","location","href","marginRight","author","slug","photo","color","first_name","last_name","user","username","created","split","reverse","join","textDecoration","width","height","borderRadius","right","top","content","image","outline","margin","comments","length","likes","map","like","profile","includes","openLikesModal"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../config/settings'\r\nimport { csrftoken } from '../config/utils'\r\n\r\nexport default function PostListItem(props) {\r\n    const post = props.post\r\n    const myProfile = props.myProfile\r\n\r\n    const likeUnlikePost = e => {\r\n        e.stopPropagation()\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.renderParent()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            likeBtn.classList.add('animated')\r\n            likeBtn.onanimationend = () => {\r\n                likeBtn.classList.remove('animated')\r\n            }\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.renderParent()\r\n                })\r\n        }\r\n    }\r\n\r\n    const openCloseExtraOptions = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-view-more-select-${postId}`)\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            style.display = 'flex'\r\n        } else {\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    const deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ação é irreversível.')) {\r\n            el.style.animationPlayState = 'running'\r\n            el.addEventListener('animationend', () => {\r\n                this.fetchPosts()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    const reportFakeNews = (e, postId) => {\r\n        e.stopPropagation()\r\n        if (window.confirm('Denúnciar esse post por fake news?')) {\r\n            alert('Ainda estamos desenvolvendo esse sistema (:')\r\n        }\r\n    }\r\n\r\n    const reportImproperContent = (e, postId) => {\r\n        e.stopPropagation()\r\n        if (window.confirm('Denúnciar esse post por conteúdo impróprio?')) {\r\n            alert('Ainda estamos desenvolvendo esse sistema (:')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"d-flex w-100 white-hover hide-animation\"\r\n            id={`profile-post-${post.id}`}\r\n            key={post.id}\r\n            style={{ padding: '5px 15px', background: '#fff', borderBottom: '1px solid var(--border-color)' }}\r\n            onClick={() => window.location.href = `/post/${post.id}`}\r\n        >\r\n            <div className=\"d-flex flex-column h-100\" style={{ marginRight: '10px' }}>\r\n                <Link\r\n                    to={post.author.id === myProfile.id ?\r\n                        '/perfil' : `/user/${post.author.slug}`}\r\n                    onClick={e => e.stopPropagation()}\r\n                >\r\n                    <img src={`${SERVER_URL}${post.author.photo}`}\r\n                        className=\"profile-img-sm\"\r\n                    />\r\n                </Link>\r\n            </div>\r\n            <div className=\"d-flex flex-column h-100 w-100\" style={{ marginRight: '10px' }}>\r\n                <div className=\"d-flex justify-content-between w-100\">\r\n                    <div>\r\n                        <Link\r\n                            to={post.author.id === myProfile.id ? '/perfil' : `/user/${post.author.slug}`}\r\n                            className=\"d-flex justify-content-start align-items-start post-author-data-wrapper\"\r\n                            style={{ color: '#000' }}\r\n                            onClick={e => e.stopPropagation()}\r\n                        >\r\n                            <strong className=\"mr-2\">\r\n                                {post.author.first_name} {post.author.last_name}\r\n                            </strong>\r\n                            <p className=\"text-secondary\">\r\n                                @{post.author.user.username} • {post.created.split('-').reverse().join('/')}\r\n                            </p>\r\n                        </Link>\r\n                    </div>\r\n                    <i\r\n                        className=\"fas fa-ellipsis-h d-flex justify-content-center align-items-center text-secondary secondary-hover view-more-icon\"\r\n                        id={`post-view-more-icon-${post.id}`}\r\n                        style={{ textDecoration: 'none', width: '30px', height: '30px', borderRadius: '30px' }}\r\n                        onClick={e => openCloseExtraOptions(e, post.id)}\r\n                    />\r\n                </div>\r\n                <div className=\"d-flex flex-column position-relative\">\r\n                    <div className=\"view-more-select\" id={`post-view-more-select-${post.id}`} style={{ right: '0%' }}>\r\n                        <div className=\"popover-arrow\" style={{ top: '-9px', right: '8%' }} />\r\n                        {myProfile.id === post.author.id ?\r\n                            <li\r\n                                style={{ color: '#f00' }}\r\n                                onClick={e => deletePost(e, post.id)}\r\n                            >\r\n                                <i class=\"fas fa-trash\" />\r\n                                Excluir\r\n                            </li>\r\n                            :\r\n                            <>\r\n                                <li onClick={e => reportFakeNews(e, post.id)}>\r\n                                    <i class=\"fas fa-exclamation-triangle text-secondary\" />\r\n                                    Denunciar fake news\r\n                                </li>\r\n                                <li onClick={e => reportImproperContent(e, post.id)}>\r\n                                    <i class=\"fas fa-exclamation-circle text-secondary\" />\r\n                                    Denunciar conteúdo impróprio\r\n                                </li>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-start word-break\">\r\n                        {post.content}\r\n                    </div>\r\n                    {post.image &&\r\n                        <div className=\"d-flex justify-content-start w-100\">\r\n                            <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                        </div>\r\n                    }\r\n                    <div className=\"d-flex justify-content-start align-items-start text-secondary mt-2 mb-1\">\r\n                        <Link\r\n                            to={`/post/${post.id}/comentar`}\r\n                            className=\"d-flex align-items-center text-secondary\"\r\n                            style={{ outline: 'none', textDecoration: 'none' }}\r\n                            onClick={e => e.stopPropagation()}\r\n                        >\r\n                            <i\r\n                                class=\"far fa-comment mr-1\"\r\n                            />\r\n                            <p style={{ margin: '0' }}>\r\n                                {post.comments.length}\r\n                            </p>\r\n                        </Link>\r\n                        <div className=\"d-flex align-items-center\">\r\n                            {post.likes.map(like => like.profile.id).includes(myProfile.id) ?\r\n                                <i class=\"fas fa-heart expand-animation mr-1  ml-2\"\r\n                                    data-postid={post.id}\r\n                                    onClick={likeUnlikePost}\r\n                                />\r\n                                :\r\n                                <i class=\"far fa-heart mr-1 ml-2\"\r\n                                    data-postid={post.id}\r\n                                    onClick={likeUnlikePost}\r\n                                />\r\n                            }\r\n                            <p className=\"m-0 likes-number\"\r\n                                onClick={e => {\r\n                                    e.stopPropagation()\r\n                                    props.openLikesModal(post.likes)\r\n                                }\r\n                                }\r\n                            >\r\n                                {post.likes.length}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li >\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}