{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felip\\\\CodeProjects\\\\Web\\\\Napker\\\\frontend\\\\src\\\\pages\\\\messages_\\\\components\\\\chat_\\\\components\\\\SendMessageForm.js\";\nimport React, { useState } from 'react';\nimport Picker from 'emoji-picker-react';\nimport { openCloseEmojiList } from '../../../../../config/utils';\nexport default function SendMessageForm(props) {\n  const WebSocketInstance = props.WebSocketInstance;\n  const chatId = props.chatId;\n  const username = props.username;\n  const otherProfile = props.otherProfile;\n  const myProfile = props.myProfile;\n  const updateMessagesComponent = props.updateMessagesComponent;\n  const [message, setMessage] = useState('');\n\n  const messageChangeHandler = e => {\n    setMessage(e.target.value);\n    const el = document.querySelector('#chat-message-submit');\n    el.disabled = e.target.value.trim() === '';\n  };\n\n  const onEmojiSelect = (event, emojiObject) => {\n    setMessage(message + emojiObject.emoji);\n    document.querySelector('#chat-message-submit').disabled = false;\n  };\n\n  const sendMessageHandler = e => {\n    e.preventDefault();\n    const messageObject = {\n      from: username,\n      content: message,\n      chatId: chatId\n    };\n    setMessage('');\n\n    if (otherProfile.blocked_users.map(u => u.id).includes(myProfile.user.id)) {\n      window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\n            ${otherProfile.first_name} te bloqueou.`);\n      return;\n    }\n\n    if (myProfile.blocked_users.map(u => u.id).includes(otherProfile.user.id)) {\n      window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\n            Você bloqueou ${otherProfile.first_name}.`);\n      return;\n    }\n\n    WebSocketInstance.newChatMessage(messageObject);\n    document.querySelector('#chat-message-submit').disabled = true;\n    openCloseEmojiList(true);\n    updateMessagesComponent();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"emoji-list-container chat-emoji-list\",\n    id: \"emoji-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Picker, {\n    onEmojiClick: onEmojiSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"send-message-container\",\n    onSubmit: sendMessageHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"far fa-smile\",\n    id: \"emoji-button\",\n    onClick: () => openCloseEmojiList(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Mensagem\",\n    className: \"message-input\",\n    id: \"chat-message-input\",\n    value: message,\n    autoFocus: document.querySelector('#contact-filter-input').value === '',\n    onChange: messageChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary chat-message-submit\",\n    id: \"chat-message-submit\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-chevron-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/felip/CodeProjects/Web/Napker/frontend/src/pages/messages_/components/chat_/components/SendMessageForm.js"],"names":["React","useState","Picker","openCloseEmojiList","SendMessageForm","props","WebSocketInstance","chatId","username","otherProfile","myProfile","updateMessagesComponent","message","setMessage","messageChangeHandler","e","target","value","el","document","querySelector","disabled","trim","onEmojiSelect","event","emojiObject","emoji","sendMessageHandler","preventDefault","messageObject","from","content","blocked_users","map","u","id","includes","user","window","alert","first_name","newChatMessage"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { openCloseEmojiList } from '../../../../../config/utils'\r\n\r\nexport default function SendMessageForm(props) {\r\n    const WebSocketInstance = props.WebSocketInstance\r\n    const chatId = props.chatId\r\n    const username = props.username\r\n    const otherProfile = props.otherProfile\r\n    const myProfile = props.myProfile\r\n    const updateMessagesComponent = props.updateMessagesComponent\r\n\r\n    const [message, setMessage] = useState('')\r\n\r\n    const messageChangeHandler = e => {\r\n        setMessage(e.target.value)\r\n        const el = document.querySelector('#chat-message-submit')\r\n        el.disabled = e.target.value.trim() === ''\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setMessage(message + emojiObject.emoji)\r\n        document.querySelector('#chat-message-submit').disabled = false\r\n    }\r\n\r\n    const sendMessageHandler = e => {\r\n        e.preventDefault()\r\n        const messageObject = {\r\n            from: username,\r\n            content: message,\r\n            chatId: chatId\r\n        };\r\n        setMessage('')\r\n        if (otherProfile.blocked_users.map(u => u.id).includes(myProfile.user.id)) {\r\n            window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\r\n            ${otherProfile.first_name} te bloqueou.`)\r\n            return\r\n        }\r\n        if (myProfile.blocked_users.map(u => u.id).includes(otherProfile.user.id)) {\r\n            window.alert(`Você não pode enviar mensagens para ${otherProfile.first_name}.\r\n            Você bloqueou ${otherProfile.first_name}.`)\r\n            return\r\n        }\r\n        WebSocketInstance.newChatMessage(messageObject)\r\n        document.querySelector('#chat-message-submit').disabled = true\r\n        openCloseEmojiList(true)\r\n        updateMessagesComponent()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                <Picker onEmojiClick={onEmojiSelect} />\r\n            </div>\r\n            <form className=\"send-message-container\" onSubmit={sendMessageHandler}>\r\n                <label\r\n                    className=\"far fa-smile\"\r\n                    id=\"emoji-button\"\r\n                    onClick={() => openCloseEmojiList(false)}\r\n                />\r\n                <input\r\n                    placeholder=\"Mensagem\"\r\n                    className=\"message-input\"\r\n                    id=\"chat-message-input\"\r\n                    value={message}\r\n                    autoFocus={document.querySelector('#contact-filter-input').value === ''}\r\n                    onChange={messageChangeHandler}\r\n                />\r\n                <button\r\n                    className=\"btn btn-primary chat-message-submit\"\r\n                    id=\"chat-message-submit\"\r\n                    disabled\r\n                >\r\n                    <i class=\"fas fa-chevron-right\" />\r\n                </button>\r\n            </form>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}