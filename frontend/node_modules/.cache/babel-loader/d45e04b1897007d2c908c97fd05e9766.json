{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Carlos\\\\napker\\\\frontend\\\\src\\\\pages\\\\settings_\\\\components\\\\security_\\\\components\\\\DeleteAccount.js\";\nimport React, { useState } from 'react';\nimport { csrftoken } from '../../../../../config/utils';\nimport { SERVER_URL } from '../../../../../config/settings';\nexport default function DeleteAccount() {\n  const [displayErrorMessage, setDisplayErrorMessage] = useState(null);\n\n  const deleteAccount = () => {\n    if (window.confirm('Tem certeza que deseja deletar a sua conta ?\\nEsta ação é irreversível?')) {\n      const password = document.querySelector('#password').value;\n\n      if (!password) {\n        window.alert('A senha não pode ficar em branco!');\n      } else {\n        fetch(`${SERVER_URL}/delete-account`, {\n          method: 'POST',\n          headers: {\n            'Content-type': 'application/json',\n            'X-CSRFToken': csrftoken\n          },\n          body: JSON.stringify({\n            password: password\n          })\n        }).then(response => response.json()).then(data => {\n          if (data === 'Wrong password') {\n            setDisplayErrorMessage(true);\n          } else {\n            window.alert('Conta deletada com sucesso.');\n            window.location.href = SERVER_URL;\n          }\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"settings-description-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-start align-items-center\",\n    style: {\n      background: '#fff',\n      padding: '15px',\n      borderBottom: '1px solid var(--border-color)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-arrow-left left-arrow-icon mr-2\",\n    onClick: () => window.history.back(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    style: {\n      fontSize: '1.2rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"Seguran\\xE7a\")), displayErrorMessage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"Senha incorreta!\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"settings-page-title-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Deletar conta\")), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"delete-account-confirmation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"password\",\n    type: \"password\",\n    placeholder: \"Senha\",\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }), \"Tem certeza que deseja apagar a sua conta ?\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }), \"Esta a\\xE7\\xE3o \\xE9 irrevers\\xEDvel\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: deleteAccount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Deletar conta\")));\n}","map":{"version":3,"sources":["C:/Users/Carlos/napker/frontend/src/pages/settings_/components/security_/components/DeleteAccount.js"],"names":["React","useState","csrftoken","SERVER_URL","DeleteAccount","displayErrorMessage","setDisplayErrorMessage","deleteAccount","window","confirm","password","document","querySelector","value","alert","fetch","method","headers","body","JSON","stringify","then","response","json","data","location","href","background","padding","borderBottom","history","back","fontSize"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,SAASC,SAAT,QAA0B,6BAA1B;AACA,SAASC,UAAT,QAA2B,gCAA3B;AAEA,eAAe,SAASC,aAAT,GAAyB;AACpC,QAAM,CAACC,mBAAD,EAAsBC,sBAAtB,IAAgDL,QAAQ,CAAC,IAAD,CAA9D;;AAEA,QAAMM,aAAa,GAAG,MAAM;AACxB,QAAIC,MAAM,CAACC,OAAP,CAAe,yEAAf,CAAJ,EAA+F;AAC3F,YAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,KAArD;;AACA,UAAI,CAACH,QAAL,EAAe;AACXF,QAAAA,MAAM,CAACM,KAAP,CAAa,mCAAb;AACH,OAFD,MAEO;AACHC,QAAAA,KAAK,CAAE,GAAEZ,UAAW,iBAAf,EAAiC;AAClCa,UAAAA,MAAM,EAAE,MAD0B;AAElCC,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAEL,2BAAef;AAFV,WAFyB;AAMlCgB,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBV,YAAAA,QAAQ,EAAEA;AADO,WAAf;AAN4B,SAAjC,CAAL,CAUKW,IAVL,CAUUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAVtB,EAWKF,IAXL,CAWUG,IAAI,IAAI;AACV,cAAIA,IAAI,KAAK,gBAAb,EAA+B;AAC3BlB,YAAAA,sBAAsB,CAAC,IAAD,CAAtB;AACH,WAFD,MAEO;AACHE,YAAAA,MAAM,CAACM,KAAP,CAAa,6BAAb;AACAN,YAAAA,MAAM,CAACiB,QAAP,CAAgBC,IAAhB,GAAuBvB,UAAvB;AACH;AACJ,SAlBL;AAmBH;AACJ;AACJ,GA3BD;;AA6BA,sBACI;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,SAAS,EAAC,iDADd;AAEI,IAAA,KAAK,EAAE;AAAEwB,MAAAA,UAAU,EAAE,MAAd;AAAsBC,MAAAA,OAAO,EAAE,MAA/B;AAAuCC,MAAAA,YAAY,EAAE;AAArD,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAII;AACI,IAAA,KAAK,EAAC,wCADV;AAEI,IAAA,OAAO,EAAE,MAAMrB,MAAM,CAACsB,OAAP,CAAeC,IAAf,EAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,eAQI;AAAQ,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARJ,CADJ,EAWK3B,mBAAmB,iBAChB;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,IAAI,EAAC,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CAZR,eAgBI;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CAhBJ,eAmBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBJ,eAoBI;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,EAAE,EAAC,UAAV;AAAqB,IAAA,IAAI,EAAC,UAA1B;AAAqC,IAAA,WAAW,EAAC,OAAjD;AAAyD,IAAA,SAAS,MAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,8DAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,uDAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,eAQI;AACI,IAAA,SAAS,EAAC,gBADd;AAEI,IAAA,OAAO,EAAEE,aAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBARJ,CApBJ,CADJ;AAoCH","sourcesContent":["import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../../../../config/utils'\r\nimport { SERVER_URL } from '../../../../../config/settings'\r\n\r\nexport default function DeleteAccount() {\r\n    const [displayErrorMessage, setDisplayErrorMessage] = useState(null)\r\n\r\n    const deleteAccount = () => {\r\n        if (window.confirm('Tem certeza que deseja deletar a sua conta ?\\nEsta ação é irreversível?')) {\r\n            const password = document.querySelector('#password').value\r\n            if (!password) {\r\n                window.alert('A senha não pode ficar em branco!')\r\n            } else {\r\n                fetch(`${SERVER_URL}/delete-account`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify({\r\n                        password: password\r\n                    })\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data === 'Wrong password') {\r\n                            setDisplayErrorMessage(true)\r\n                        } else {\r\n                            window.alert('Conta deletada com sucesso.')\r\n                            window.location.href = SERVER_URL\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div\r\n                className=\"d-flex justify-content-start align-items-center\"\r\n                style={{ background: '#fff', padding: '15px', borderBottom: '1px solid var(--border-color)' }}\r\n            >\r\n                <i\r\n                    class=\"fas fa-arrow-left left-arrow-icon mr-2\"\r\n                    onClick={() => window.history.back()}\r\n                />\r\n                <strong style={{ fontSize: '1.2rem' }}>Segurança</strong>\r\n            </div>\r\n            {displayErrorMessage &&\r\n                <div className=\"alert\">\r\n                    <div className=\"alert alert-danger\" role=\"alert\">Senha incorreta!</div>\r\n                </div>\r\n            }\r\n            <div className=\"settings-page-title-container\">\r\n                <h3>Deletar conta</h3>\r\n            </div>\r\n            <hr />\r\n            <div className=\"delete-account-confirmation\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha\" autoFocus />\r\n                <hr />\r\n                <br />\r\n                Tem certeza que deseja apagar a sua conta ?\r\n                <br />\r\n                Esta ação é irreversível\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={deleteAccount}\r\n                >Deletar conta</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}