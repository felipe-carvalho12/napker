{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\fabio\\\\CodeProjects\\\\Django\\\\napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{SERVER_URL}from'../../../../../../config/settings';import CommentModal from'../../../../../../components/CommentModal';import LikesModal from'../../../../../../components/LikesModal';import Header from'../../../../../../components/fixed/Header';import CommentListItem from'./components/CommentListItem';import BottomMenu from'../../../../../../components/fixed/bottom-menu/BottomMenu';import CommentIcon from'../../../../../../components/fixed/bottom-menu/components/CommentIcon';import PostListItem from'../../../../../../components/PostListItem';export default function Post(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),myProfile=_useState4[0],setMyProfile=_useState4[1];var _useState5=useState(props.commentModalIsOpen),_useState6=_slicedToArray(_useState5,2),commentModalIsOpen=_useState6[0],setCommentModalIsOpen=_useState6[1];var _useState7=useState({isOpen:false,likes:null}),_useState8=_slicedToArray(_useState7,2),postLikesModal=_useState8[0],setPostLikesModal=_useState8[1];var _useState9=useState({isOpen:false,likes:null}),_useState10=_slicedToArray(_useState9,2),commentLikesModal=_useState10[0],setCommentLikesModal=_useState10[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetchPost();fetch(\"\".concat(SERVER_URL,\"/profile-api/myprofile\")).then(function(response){return response.json();}).then(function(data){return setMyProfile(data);});},[]);useEffect(function(){console.log('got here');setCommentModalIsOpen(!!props.commentModalIsOpen);},[props.commentModalIsOpen]);var fetchPost=function fetchPost(){fetch(\"\".concat(SERVER_URL,\"/post-api/post/\").concat(id)).then(function(response){return response.json();}).then(function(data){return setPost(data);});};var hideCommentModal=function hideCommentModal(){setCommentModalIsOpen(false);window.history.back();};var hidePostLikesModal=function hidePostLikesModal(){setPostLikesModal({isOpen:false,likes:null});};var hideCommentLikesModal=function hideCommentLikesModal(){setCommentLikesModal({isOpen:false,likes:null});};return/*#__PURE__*/React.createElement(\"div\",{className:\"post-page-container\"},post&&/*#__PURE__*/React.createElement(CommentModal,{isOpen:commentModalIsOpen,hideModal:hideCommentModal,post:post}),/*#__PURE__*/React.createElement(LikesModal,{isOpen:postLikesModal.isOpen,likes:postLikesModal.likes,hideModal:hidePostLikesModal}),/*#__PURE__*/React.createElement(LikesModal,{isOpen:commentLikesModal.isOpen,likes:commentLikesModal.likes,hideModal:hideCommentLikesModal}),/*#__PURE__*/React.createElement(Header,{page:\"Post\",backArrow:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},post&&myProfile?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(PostListItem,{post:post,myProfile:myProfile}),/*#__PURE__*/React.createElement(\"div\",{className:\"comment-list\"},post.comments.map(function(comment){return/*#__PURE__*/React.createElement(CommentListItem,{comment:comment,myProfile:myProfile,fetchPost:fetchPost,setPostLikesModal:setPostLikesModal});}))):/*#__PURE__*/React.createElement(\"div\",{className:\"posts-loader-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}))),/*#__PURE__*/React.createElement(BottomMenu,null,/*#__PURE__*/React.createElement(CommentIcon,{postId:id})));}","map":{"version":3,"sources":["C:/Users/fabio/CodeProjects/Django/napker/frontend/src/pages/home/components/posts_/pages/post_/Post.js"],"names":["React","useEffect","useState","useParams","SERVER_URL","CommentModal","LikesModal","Header","CommentListItem","BottomMenu","CommentIcon","PostListItem","Post","props","post","setPost","myProfile","setMyProfile","commentModalIsOpen","setCommentModalIsOpen","isOpen","likes","postLikesModal","setPostLikesModal","commentLikesModal","setCommentLikesModal","id","fetchPost","fetch","then","response","json","data","console","log","hideCommentModal","window","history","back","hidePostLikesModal","hideCommentLikesModal","comments","map","comment"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../config/settings'\r\nimport CommentModal from '../../../../../../components/CommentModal'\r\nimport LikesModal from '../../../../../../components/LikesModal'\r\nimport Header from '../../../../../../components/fixed/Header'\r\nimport CommentListItem from './components/CommentListItem'\r\nimport BottomMenu from '../../../../../../components/fixed/bottom-menu/BottomMenu'\r\nimport CommentIcon from '../../../../../../components/fixed/bottom-menu/components/CommentIcon'\r\nimport PostListItem from '../../../../../../components/PostListItem'\r\n\r\nexport default function Post(props) {\r\n    const [post, setPost] = useState(null)\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [commentModalIsOpen, setCommentModalIsOpen] = useState(props.commentModalIsOpen)\r\n    const [postLikesModal, setPostLikesModal] = useState({ isOpen: false, likes: null })\r\n    const [commentLikesModal, setCommentLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    const { id } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        console.log('got here')\r\n        setCommentModalIsOpen(!!props.commentModalIsOpen)\r\n    }, [props.commentModalIsOpen])\r\n\r\n    const fetchPost = () => {\r\n        fetch(`${SERVER_URL}/post-api/post/${id}`)\r\n            .then(response => response.json())\r\n            .then(data => setPost(data))\r\n    }\r\n\r\n    const hideCommentModal = () => {\r\n        setCommentModalIsOpen(false)\r\n        window.history.back()\r\n    }\r\n\r\n    const hidePostLikesModal = () => {\r\n        setPostLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    const hideCommentLikesModal = () => {\r\n        setCommentLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"post-page-container\">\r\n            {post &&\r\n                <CommentModal\r\n                    isOpen={commentModalIsOpen}\r\n                    hideModal={hideCommentModal}\r\n                    post={post}\r\n                />\r\n            }\r\n            <LikesModal\r\n                isOpen={postLikesModal.isOpen}\r\n                likes={postLikesModal.likes}\r\n                hideModal={hidePostLikesModal}\r\n            />\r\n            <LikesModal\r\n                isOpen={commentLikesModal.isOpen}\r\n                likes={commentLikesModal.likes}\r\n                hideModal={hideCommentLikesModal}\r\n            />\r\n            <Header page=\"Post\" backArrow={true} />\r\n            <div className=\"content\">\r\n                {post && myProfile ?\r\n                    <>\r\n                        <PostListItem post={post} myProfile={myProfile} />\r\n                        <div className=\"comment-list\">\r\n                            {post.comments.map(comment => {\r\n                                return (\r\n                                    <CommentListItem\r\n                                        comment={comment}\r\n                                        myProfile={myProfile}\r\n                                        fetchPost={fetchPost}\r\n                                        setPostLikesModal={setPostLikesModal}\r\n                                    />\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                    </> :\r\n                    <div className=\"posts-loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n            <BottomMenu>\r\n                <CommentIcon postId={id} />\r\n            </BottomMenu>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}