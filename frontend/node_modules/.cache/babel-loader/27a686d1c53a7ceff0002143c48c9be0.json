{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felip\\\\CodeProjects\\\\Web\\\\Napker\\\\frontend\\\\src\\\\pages\\\\home\\\\components\\\\posts_\\\\pages\\\\post_\\\\components\\\\CommentListItem.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { SERVER_URL } from '../../../../../../../config/settings';\nimport { csrftoken } from '../../../../../../../config/utils';\nexport default function CommentListItem(props) {\n  const comment = props.comment;\n  const myProfile = props.myProfile;\n  const fetchPost = props.fetchPost;\n  const setPostLikesModal = props.setPostLikesModal;\n\n  const likeUnlikeComment = e => {\n    const likeBtn = e.target;\n\n    if (likeBtn.classList.contains('fas')) {\n      likeBtn.classList.remove('fas'); //border heart\n\n      likeBtn.classList.add('far'); //filled heart\n\n      fetch(`${SERVER_URL}/post-api/unlike-comment/${likeBtn.dataset.commentid}`).then(response => response.json()).then(data => {\n        console.log(data);\n        fetchPost();\n      });\n    } else {\n      likeBtn.classList.remove('far'); //border heart\n\n      likeBtn.classList.add('fas'); //filled heart\n\n      fetch(`${SERVER_URL}/post-api/like-comment/${likeBtn.dataset.commentid}`).then(response => response.json()).then(data => {\n        console.log(data);\n        fetchPost();\n      });\n    }\n  };\n\n  const deleteComment = (e, commentId) => {\n    e.stopPropagation();\n    const el = document.querySelector(`#post-comment-${commentId}`);\n\n    if (window.confirm('Tem certeza que deseja apagar o comentário?\\nEssa ação é irreversível.')) {\n      el.style.animationPlayState = 'running';\n      console.log(el, el.style.animationPlayState);\n      el.addEventListener('animationend', () => {\n        fetchPost();\n      });\n      fetch(`${SERVER_URL}/post-api/delete-comment/${commentId}`, {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json',\n          'X-CSRFToken': csrftoken\n        }\n      }).then(response => response.json()).then(data => {\n        console.log(data);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"post-container\",\n    id: `post-comment-${comment.id}`,\n    key: comment.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: comment.author.id === myProfile.id ? '/perfil' : `/user/${comment.author.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `${SERVER_URL}${comment.author.photo}`,\n    className: \"profile-img-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: comment.author.id === myProfile.id ? '/perfil' : `/user/${comment.author.slug}`,\n    style: {\n      color: '#000'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'start'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    style: {\n      marginRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, comment.author.first_name, \" \", comment.author.last_name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-secondary d-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 33\n    }\n  }, \"@\", comment.author.user.username, \" \\u2022 \", comment.created.split('-').reverse().join('/')))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'start'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, comment.content))), comment.author.id == myProfile.id && /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-trash-alt trash-icon text-secondary\",\n    style: {\n      margin: '20px 20px 0 0'\n    },\n    onClick: e => deleteComment(e, comment.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-actions\",\n    style: {\n      padding: '0 0 2px 63px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, comment.likes.map(like => like.profile.id).includes(myProfile.id) ? /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-heart\",\n    \"data-commentid\": comment.id,\n    onClick: likeUnlikeComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-heart\",\n    \"data-commentid\": comment.id,\n    onClick: likeUnlikeComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"post-likes-number\",\n    onClick: () => setPostLikesModal({\n      isOpen: true,\n      likes: comment.likes\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, comment.likes.length))));\n}","map":{"version":3,"sources":["C:/Users/felip/CodeProjects/Web/Napker/frontend/src/pages/home/components/posts_/pages/post_/components/CommentListItem.js"],"names":["React","Link","SERVER_URL","csrftoken","CommentListItem","props","comment","myProfile","fetchPost","setPostLikesModal","likeUnlikeComment","e","likeBtn","target","classList","contains","remove","add","fetch","dataset","commentid","then","response","json","data","console","log","deleteComment","commentId","stopPropagation","el","document","querySelector","window","confirm","style","animationPlayState","addEventListener","method","headers","id","author","slug","photo","color","textAlign","marginRight","first_name","last_name","user","username","created","split","reverse","join","content","margin","padding","likes","map","like","profile","includes","isOpen","length"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../../../../../../config/settings'\r\nimport { csrftoken } from '../../../../../../../config/utils'\r\n\r\nexport default function CommentListItem(props) {\r\n    const comment = props.comment\r\n    const myProfile = props.myProfile\r\n    const fetchPost = props.fetchPost\r\n    const setPostLikesModal = props.setPostLikesModal\r\n\r\n    const likeUnlikeComment = e => {\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        }\r\n    }\r\n\r\n    const deleteComment = (e, commentId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-comment-${commentId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o comentário?\\nEssa ação é irreversível.')) {\r\n            el.style.animationPlayState = 'running'\r\n            console.log(el, el.style.animationPlayState)\r\n            el.addEventListener('animationend', () => {\r\n                fetchPost()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-comment/${commentId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"post-container\"\r\n            id={`post-comment-${comment.id}`}\r\n            key={comment.id}\r\n        >\r\n            <div className=\"d-flex justify-content-between\">\r\n                <div className=\"post-row\">\r\n                    <div className=\"post-col\">\r\n                        <Link to={comment.author.id === myProfile.id ?\r\n                            '/perfil' : `/user/${comment.author.slug}`}\r\n                        >\r\n                            <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                                className=\"profile-img-sm\"\r\n                            />\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"post-col\">\r\n                        <Link to={comment.author.id === myProfile.id ?\r\n                            '/perfil' : `/user/${comment.author.slug}`}\r\n                            style={{ color: '#000' }}\r\n                        >\r\n                            <div style={{ textAlign: 'start' }}>\r\n                                <strong style={{ marginRight: '5px' }}>\r\n                                    {comment.author.first_name} {comment.author.last_name}\r\n                                </strong>\r\n                                <p className=\"text-secondary d-inline-block\">\r\n                                    @{comment.author.user.username} • {comment.created.split('-').reverse().join('/')}\r\n                                </p>\r\n                            </div>\r\n                        </Link>\r\n                        <div style={{ textAlign: 'start' }}>\r\n                            {comment.content}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {comment.author.id == myProfile.id &&\r\n                    <i\r\n                        className=\"far fa-trash-alt trash-icon text-secondary\"\r\n                        style={{ margin: '20px 20px 0 0' }}\r\n                        onClick={e => deleteComment(e, comment.id)}\r\n                    />\r\n                }\r\n            </div>\r\n            <div className=\"post-actions\" style={{ padding: '0 0 2px 63px' }}>\r\n                <p className=\"text-secondary\">\r\n                    {comment.likes.map(like => like.profile.id).includes(myProfile.id) ?\r\n                        <i class=\"fas fa-heart\"\r\n                            data-commentid={comment.id}\r\n                            onClick={likeUnlikeComment}\r\n                        />\r\n                        :\r\n                        <i class=\"far fa-heart\"\r\n                            data-commentid={comment.id}\r\n                            onClick={likeUnlikeComment}\r\n                        />\r\n                    }\r\n                    <p\r\n                        className=\"post-likes-number\"\r\n                        onClick={() => setPostLikesModal({ isOpen: true, likes: comment.likes })}\r\n                    >\r\n                        {comment.likes.length}\r\n                    </p>\r\n                </p>\r\n            </div>\r\n        </li>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}