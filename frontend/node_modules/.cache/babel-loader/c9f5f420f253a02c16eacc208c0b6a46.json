{"ast":null,"code":"import React from'react';import{SERVER_URL}from'../../../config/settings';import{csrftoken}from'../../../config/utils';export default function Feedback(){var selectedRating=0;var selectFace=function selectFace(e){var img=e.target;document.querySelectorAll('.option-container > img').forEach(function(image){image.src=\"/static/media/feedback-faces/\".concat(image.id,\"bw.png\");});img.src=\"/static/media/feedback-faces/\".concat(img.id,\".png\");selectedRating=img.id;};var handleFormSubmit=function handleFormSubmit(e){var message=document.querySelector('.feedback-form > textarea').value;e.preventDefault();fetch(\"\".concat(SERVER_URL,\"/settings-api/feedback\"),{method:'POST',headers:{'Content-type':'application/json','X-CSRFToken':csrftoken},body:JSON.stringify({'rating':selectedRating,'message':message})}).then(function(response){return response.json();}).then(function(data){return console.log(data);});document.querySelector('.feedback-form > textarea').value='';};return/*#__PURE__*/React.createElement(\"div\",{className:\"settings-description-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"feedback-form\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Nos ajude a melhorar\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"feedback-faces-container\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Como est\\xE1 sendo a sua experi\\xEAncia no Napker at\\xE9 agora?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/5bw.png\",id:\"5\",onClick:selectFace})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/4bw.png\",id:\"4\",onClick:selectFace})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/3bw.png\",id:\"3\",onClick:selectFace})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/2bw.png\",id:\"2\",onClick:selectFace})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/1bw.png\",id:\"1\",onClick:selectFace})))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"Digite a sua mensagem aqui...\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary w-100\",onClick:handleFormSubmit},\"Enviar\")));}","map":{"version":3,"sources":["C:/Users/fabio/CodeProjects/Django/napker/frontend/src/pages/settings_/components/Feedback.js"],"names":["React","SERVER_URL","csrftoken","Feedback","selectedRating","selectFace","e","img","target","document","querySelectorAll","forEach","image","src","id","handleFormSubmit","message","querySelector","value","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,SAAT,KAA0B,uBAA1B,CAGA,cAAe,SAASC,CAAAA,QAAT,EAAoB,CAC/B,GAAIC,CAAAA,cAAc,CAAG,CAArB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,CAAC,CAAI,CACpB,GAAMC,CAAAA,GAAG,CAAGD,CAAC,CAACE,MAAd,CACAC,QAAQ,CAACC,gBAAT,CAA0B,yBAA1B,EAAqDC,OAArD,CAA6D,SAAAC,KAAK,CAAI,CAClEA,KAAK,CAACC,GAAN,wCAA4CD,KAAK,CAACE,EAAlD,WACH,CAFD,EAGAP,GAAG,CAACM,GAAJ,wCAA0CN,GAAG,CAACO,EAA9C,SACAV,cAAc,CAAGG,GAAG,CAACO,EAArB,CACH,CAPD,CASA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAT,CAAC,CAAI,CAC1B,GAAMU,CAAAA,OAAO,CAAGP,QAAQ,CAACQ,aAAT,CAAuB,2BAAvB,EAAoDC,KAApE,CACAZ,CAAC,CAACa,cAAF,GACAC,KAAK,WAAInB,UAAJ,2BAAwC,CACzCoB,MAAM,CAAE,MADiC,CAEzCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,cAAepB,SAFV,CAFgC,CAMzCqB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB,SAAUrB,cADO,CAEjB,UAAWY,OAFM,CAAf,CANmC,CAAxC,CAAL,CAWKU,IAXL,CAWU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAXlB,EAYKF,IAZL,CAYU,SAAAG,IAAI,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAJ,EAZd,EAaApB,QAAQ,CAACQ,aAAT,CAAuB,2BAAvB,EAAoDC,KAApD,CAA4D,EAA5D,CACH,CAjBD,CAmBA,mBACI,2BAAK,SAAS,CAAC,gCAAf,eACI,2BAAK,SAAS,CAAC,eAAf,eACI,qDADJ,cAEI,8BAFJ,cAGI,2BAAK,SAAS,CAAC,0BAAf,eACI,gGADJ,cAEI,2BAAK,SAAS,CAAC,+BAAf,eACI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,OAAO,CAAEb,UAHb,EADJ,CADJ,cAQI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,OAAO,CAAEA,UAHb,EADJ,CARJ,cAeI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,OAAO,CAAEA,UAHb,EADJ,CAfJ,cAsBI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,OAAO,CAAEA,UAHb,EADJ,CAtBJ,cA6BI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,OAAO,CAAEA,UAHb,EADJ,CA7BJ,CAFJ,CAHJ,cA2CI,8BA3CJ,cA4CI,gCAAU,WAAW,CAAC,+BAAtB,EA5CJ,cA6CI,8BAAQ,SAAS,CAAC,uBAAlB,CAA0C,OAAO,CAAEU,gBAAnD,WA7CJ,CADJ,CADJ,CAmDH","sourcesContent":["import React from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\n\r\n\r\nexport default function Feedback() {\r\n    let selectedRating = 0\r\n\r\n    const selectFace = e => {\r\n        const img = e.target\r\n        document.querySelectorAll('.option-container > img').forEach(image => {\r\n            image.src = `/static/media/feedback-faces/${image.id}bw.png`\r\n        })\r\n        img.src = `/static/media/feedback-faces/${img.id}.png`\r\n        selectedRating = img.id\r\n    }\r\n\r\n    const handleFormSubmit = e => {\r\n        const message = document.querySelector('.feedback-form > textarea').value\r\n        e.preventDefault()\r\n        fetch(`${SERVER_URL}/settings-api/feedback`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'rating': selectedRating,\r\n                'message': message\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n        document.querySelector('.feedback-form > textarea').value = ''\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div className=\"feedback-form\">\r\n                <h3>Nos ajude a melhorar</h3>\r\n                <hr />\r\n                <div className=\"feedback-faces-container\">\r\n                    <h6>Como está sendo a sua experiência no Napker até agora?</h6>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/5bw.png\"\r\n                                id=\"5\"\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/4bw.png\"\r\n                                id=\"4\"\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/3bw.png\"\r\n                                id=\"3\"\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/2bw.png\"\r\n                                id=\"2\"\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/1bw.png\"\r\n                                id=\"1\"\r\n                                onClick={selectFace}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <textarea placeholder=\"Digite a sua mensagem aqui...\" />\r\n                <button className=\"btn btn-primary w-100\" onClick={handleFormSubmit}>Enviar</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}