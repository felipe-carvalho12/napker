{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\fabio\\\\CodeProjects\\\\Django\\\\napker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{SERVER_URL}from'../../../config/settings';import{csrftoken}from'../../../config/utils';export default function Feedback(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var selectedRating=0;useEffect(function(){fetch(\"\".concat(SERVER_URL,\"/profile-api/myprofile\")).then(function(response){return response.json();}).then(function(data){return setName(data.first_name);});window.setInterval(function(){console.log(document.querySelector('.option-container > img').style.animationPlayState);},1000);},[]);var handleFaceMouseEnter=function handleFaceMouseEnter(e){var img=e.target;img.src=\"/static/media/feedback-faces/\".concat(img.id,\".png\");};var handleFaceMouseLeave=function handleFaceMouseLeave(e){var img=e.target;if(img.dataset.selected==='false'){img.src=\"/static/media/feedback-faces/\".concat(img.id,\"bw.png\");}};var selectFace=function selectFace(e){var img=e.target;document.querySelectorAll('.option-container > img').forEach(function(image){image.src=\"/static/media/feedback-faces/\".concat(image.id,\"bw.png\");image.dataset.selected='false';image.style.animationPlayState='paused';});img.src=\"/static/media/feedback-faces/\".concat(img.id,\".png\");img.dataset.selected=img.dataset.selected==='true'?'false':'true';img.style.animationPlayState='running';selectedRating=img.id;};var thankYouPage=function thankYouPage(){document.querySelector('.feedback-form > h3').innerHTML=\"Muito obrigado\".concat(name!==null?\", \".concat(name):'',\"!\");document.querySelector('.feedback-faces-container').innerHTML='A sua mensagem nos ajudará a tornar o Napker cada vez mais inclusivo e transparente.\\nCaso pense em mais alguma coisa, sinta-se à vontade para entrar em contato novamente.';document.querySelector('.textarea-container').innerHTML=\"<img src='/static/media/feedback-faces/thankyou.png'/>\";};var handleFormSubmit=function handleFormSubmit(e){var message=document.querySelector('.feedback-form > .textarea-container > textarea').value;e.preventDefault();fetch(\"\".concat(SERVER_URL,\"/settings-api/feedback\"),{method:'POST',headers:{'Content-type':'application/json','X-CSRFToken':csrftoken},body:JSON.stringify({'rating':selectedRating,'message':message})}).then(function(response){return response.json();}).then(function(data){return console.log(data);});thankYouPage();};return/*#__PURE__*/React.createElement(\"div\",{className:\"settings-description-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"feedback-form\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Nos ajude a melhorar\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"feedback-faces-container\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Como est\\xE1 sendo a sua experi\\xEAncia no Napker at\\xE9 agora?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/5bw.png\",id:\"5\",\"data-selected\":false,onClick:selectFace,onMouseEnter:handleFaceMouseEnter,onMouseLeave:handleFaceMouseLeave})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/4bw.png\",id:\"4\",\"data-selected\":false,onClick:selectFace,onMouseEnter:handleFaceMouseEnter,onMouseLeave:handleFaceMouseLeave})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/3bw.png\",id:\"3\",\"data-selected\":false,onClick:selectFace,onMouseEnter:handleFaceMouseEnter,onMouseLeave:handleFaceMouseLeave})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/2bw.png\",id:\"2\",\"data-selected\":false,onClick:selectFace,onMouseEnter:handleFaceMouseEnter,onMouseLeave:handleFaceMouseLeave})),/*#__PURE__*/React.createElement(\"div\",{className:\"option-container\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/static/media/feedback-faces/1bw.png\",id:\"1\",\"data-selected\":false,onClick:selectFace,onMouseEnter:handleFaceMouseEnter,onMouseLeave:handleFaceMouseLeave})))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"textarea-container\"},/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"Digite a sua mensagem aqui...\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary w-100\",onClick:handleFormSubmit},\"Enviar\"))));}","map":{"version":3,"sources":["C:/Users/fabio/CodeProjects/Django/napker/frontend/src/pages/settings_/components/Feedback.js"],"names":["React","useEffect","useState","SERVER_URL","csrftoken","Feedback","name","setName","selectedRating","fetch","then","response","json","data","first_name","window","setInterval","console","log","document","querySelector","style","animationPlayState","handleFaceMouseEnter","e","img","target","src","id","handleFaceMouseLeave","dataset","selected","selectFace","querySelectorAll","forEach","image","thankYouPage","innerHTML","handleFormSubmit","message","value","preventDefault","method","headers","body","JSON","stringify"],"mappings":"oLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,SAAT,KAA0B,uBAA1B,CAGA,cAAe,SAASC,CAAAA,QAAT,EAAoB,eACPH,QAAQ,CAAC,IAAD,CADD,wCACxBI,IADwB,eAClBC,OADkB,eAG/B,GAAIC,CAAAA,cAAc,CAAG,CAArB,CAEAP,SAAS,CAAC,UAAM,CACZQ,KAAK,WAAIN,UAAJ,2BAAL,CACKO,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIN,CAAAA,OAAO,CAACM,IAAI,CAACC,UAAN,CAAX,EAFd,EAGAC,MAAM,CAACC,WAAP,CAAmB,UAAM,CACrBC,OAAO,CAACC,GAAR,CAAYC,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,EAAkDC,KAAlD,CAAwDC,kBAApE,EACH,CAFD,CAEG,IAFH,EAGH,CAPQ,CAON,EAPM,CAAT,CASA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAC,CAAC,CAAI,CAC9B,GAAMC,CAAAA,GAAG,CAAGD,CAAC,CAACE,MAAd,CACAD,GAAG,CAACE,GAAJ,wCAA0CF,GAAG,CAACG,EAA9C,SACH,CAHD,CAKA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAL,CAAC,CAAI,CAC9B,GAAMC,CAAAA,GAAG,CAAGD,CAAC,CAACE,MAAd,CACA,GAAID,GAAG,CAACK,OAAJ,CAAYC,QAAZ,GAAyB,OAA7B,CAAsC,CAClCN,GAAG,CAACE,GAAJ,wCAA0CF,GAAG,CAACG,EAA9C,WACH,CACJ,CALD,CAOA,GAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAR,CAAC,CAAI,CACpB,GAAMC,CAAAA,GAAG,CAAGD,CAAC,CAACE,MAAd,CACAP,QAAQ,CAACc,gBAAT,CAA0B,yBAA1B,EAAqDC,OAArD,CAA6D,SAAAC,KAAK,CAAI,CAClEA,KAAK,CAACR,GAAN,wCAA4CQ,KAAK,CAACP,EAAlD,WACAO,KAAK,CAACL,OAAN,CAAcC,QAAd,CAAyB,OAAzB,CACAI,KAAK,CAACd,KAAN,CAAYC,kBAAZ,CAAiC,QAAjC,CACH,CAJD,EAKAG,GAAG,CAACE,GAAJ,wCAA0CF,GAAG,CAACG,EAA9C,SACAH,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAuBN,GAAG,CAACK,OAAJ,CAAYC,QAAZ,GAAyB,MAAzB,CAAkC,OAAlC,CAA4C,MAAnE,CACAN,GAAG,CAACJ,KAAJ,CAAUC,kBAAV,CAA+B,SAA/B,CACAd,cAAc,CAAGiB,GAAG,CAACG,EAArB,CACH,CAXD,CAaA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBjB,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,EAA8CiB,SAA9C,yBAA2E/B,IAAI,GAAK,IAAT,aAAsBA,IAAtB,EAAgC,EAA3G,MACAa,QAAQ,CAACC,aAAT,CAAuB,2BAAvB,EAAoDiB,SAApD,CAAgE,6KAAhE,CACAlB,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,EAA8CiB,SAA9C,CAA0D,wDAA1D,CACH,CAJD,CAOA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAd,CAAC,CAAI,CAC1B,GAAMe,CAAAA,OAAO,CAAGpB,QAAQ,CAACC,aAAT,CAAuB,iDAAvB,EAA0EoB,KAA1F,CACAhB,CAAC,CAACiB,cAAF,GACAhC,KAAK,WAAIN,UAAJ,2BAAwC,CACzCuC,MAAM,CAAE,MADiC,CAEzCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,cAAevC,SAFV,CAFgC,CAMzCwC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjB,SAAUtC,cADO,CAEjB,UAAW+B,OAFM,CAAf,CANmC,CAAxC,CAAL,CAWK7B,IAXL,CAWU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAXlB,EAYKF,IAZL,CAYU,SAAAG,IAAI,QAAII,CAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ,CAAJ,EAZd,EAaAuB,YAAY,GACf,CAjBD,CAmBA,mBACI,2BAAK,SAAS,CAAC,gCAAf,eACI,2BAAK,SAAS,CAAC,eAAf,eACI,qDADJ,cAEI,8BAFJ,cAGI,2BAAK,SAAS,CAAC,0BAAf,eACI,gGADJ,cAEI,2BAAK,SAAS,CAAC,+BAAf,eACI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,gBAAe,KAHnB,CAII,OAAO,CAAEJ,UAJb,CAKI,YAAY,CAAET,oBALlB,CAMI,YAAY,CAAEM,oBANlB,EADJ,CADJ,cAWI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,gBAAe,KAHnB,CAII,OAAO,CAAEG,UAJb,CAKI,YAAY,CAAET,oBALlB,CAMI,YAAY,CAAEM,oBANlB,EADJ,CAXJ,cAqBI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,gBAAe,KAHnB,CAII,OAAO,CAAEG,UAJb,CAKI,YAAY,CAAET,oBALlB,CAMI,YAAY,CAAEM,oBANlB,EADJ,CArBJ,cA+BI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,gBAAe,KAHnB,CAII,OAAO,CAAEG,UAJb,CAKI,YAAY,CAAET,oBALlB,CAMI,YAAY,CAAEM,oBANlB,EADJ,CA/BJ,cAyCI,2BAAK,SAAS,CAAC,kBAAf,eACI,2BACI,GAAG,CAAC,sCADR,CAEI,EAAE,CAAC,GAFP,CAGI,gBAAe,KAHnB,CAII,OAAO,CAAEG,UAJb,CAKI,YAAY,CAAET,oBALlB,CAMI,YAAY,CAAEM,oBANlB,EADJ,CAzCJ,CAFJ,CAHJ,cA0DI,8BA1DJ,cA2DI,2BAAK,SAAS,CAAC,oBAAf,eACI,gCAAU,WAAW,CAAC,+BAAtB,EADJ,cAEI,8BAAQ,SAAS,CAAC,uBAAlB,CAA0C,OAAO,CAAES,gBAAnD,WAFJ,CA3DJ,CADJ,CADJ,CAoEH","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../config/settings'\r\nimport { csrftoken } from '../../../config/utils'\r\n\r\n\r\nexport default function Feedback() {\r\n    const [name, setName] = useState(null)\r\n\r\n    let selectedRating = 0\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setName(data.first_name))\r\n        window.setInterval(() => {\r\n            console.log(document.querySelector('.option-container > img').style.animationPlayState)\r\n        }, 1000)\r\n    }, [])\r\n\r\n    const handleFaceMouseEnter = e => {\r\n        const img = e.target\r\n        img.src = `/static/media/feedback-faces/${img.id}.png`\r\n    }\r\n\r\n    const handleFaceMouseLeave = e => {\r\n        const img = e.target\r\n        if (img.dataset.selected === 'false') {\r\n            img.src = `/static/media/feedback-faces/${img.id}bw.png`\r\n        }\r\n    }\r\n\r\n    const selectFace = e => {\r\n        const img = e.target\r\n        document.querySelectorAll('.option-container > img').forEach(image => {\r\n            image.src = `/static/media/feedback-faces/${image.id}bw.png`\r\n            image.dataset.selected = 'false'\r\n            image.style.animationPlayState = 'paused'\r\n        })\r\n        img.src = `/static/media/feedback-faces/${img.id}.png`\r\n        img.dataset.selected = img.dataset.selected === 'true' ? 'false' : 'true'\r\n        img.style.animationPlayState = 'running'\r\n        selectedRating = img.id\r\n    }\r\n\r\n    const thankYouPage = () => {\r\n        document.querySelector('.feedback-form > h3').innerHTML = `Muito obrigado${name !== null ? (`, ${name}`) : ''}!`\r\n        document.querySelector('.feedback-faces-container').innerHTML = 'A sua mensagem nos ajudará a tornar o Napker cada vez mais inclusivo e transparente.\\nCaso pense em mais alguma coisa, sinta-se à vontade para entrar em contato novamente.'\r\n        document.querySelector('.textarea-container').innerHTML = \"<img src='/static/media/feedback-faces/thankyou.png'/>\"\r\n    }\r\n\r\n\r\n    const handleFormSubmit = e => {\r\n        const message = document.querySelector('.feedback-form > .textarea-container > textarea').value\r\n        e.preventDefault()\r\n        fetch(`${SERVER_URL}/settings-api/feedback`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'rating': selectedRating,\r\n                'message': message\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n        thankYouPage()\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            <div className=\"feedback-form\">\r\n                <h3>Nos ajude a melhorar</h3>\r\n                <hr />\r\n                <div className=\"feedback-faces-container\">\r\n                    <h6>Como está sendo a sua experiência no Napker até agora?</h6>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/5bw.png\"\r\n                                id=\"5\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/4bw.png\"\r\n                                id=\"4\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/3bw.png\"\r\n                                id=\"3\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/2bw.png\"\r\n                                id=\"2\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                        <div className=\"option-container\">\r\n                            <img\r\n                                src=\"/static/media/feedback-faces/1bw.png\"\r\n                                id=\"1\"\r\n                                data-selected={false}\r\n                                onClick={selectFace}\r\n                                onMouseEnter={handleFaceMouseEnter}\r\n                                onMouseLeave={handleFaceMouseLeave}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <div className=\"textarea-container\">\r\n                    <textarea placeholder=\"Digite a sua mensagem aqui...\" />\r\n                    <button className=\"btn btn-primary w-100\" onClick={handleFormSubmit}>Enviar</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}