(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(3),c=n.n(l),o=(n(9),n(1));function s(){var e=Object(a.useState)([{user:""}]),t=Object(o.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),s=Object(o.a)(c,2),i=s[0],u=s[1];Object(a.useEffect)((function(){var e;e=""===i?"http://localhost:8000/profile-api/profile-list":"http://localhost:8000/profile-api/users/".concat(i),fetch(e).then((function(e){return e.json()})).then((function(e){l(e)})).catch((function(e){return console.log(e)}))}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Pesquisar",onChange:function(e){return u(e.target.value)}})))),r.a.createElement("div",{className:"list-group"},n.map((function(e){return r.a.createElement("li",{className:"list-group-item profile-row",key:e.id},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"profile-col"},r.a.createElement("img",{src:"http://localhost:8000".concat(e.photo)}),r.a.createElement("div",{className:"main-profile-data"},r.a.createElement("strong",null,e.first_name," ",e.last_name),r.a.createElement("p",{className:"text-secondary"},"@",e.user.username))),r.a.createElement("div",{className:"profile-col"},e.bio),r.a.createElement("div",{className:"profile-col"},r.a.createElement("button",{className:"btn btn-secondary","data-userid":e.user.id,onClick:function(e){return function(e){var t=e.target;fetch("http://localhost:8000/profile-api/myprofile").then((function(e){return e.json()})).then((function(e){e.friends.includes(t.dataset.userid)&&console.log("friends"),"Solicitar"===t.innerHTML?(t.innerHTML="Solicitado",t.className="btn btn-primary"):(t.innerHTML="Solicitar",t.className="btn btn-secondary")})).catch((function(e){return console.log(e)}))}(e)}},"Solicitar"))))}))))}function i(){var e=Object(a.useState)("Perfis"),t=Object(o.a)(e,2),n=t[0],l=t[1],c={Perfis:s(),Posts:r.a.createElement("div",null,"Posts")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"btn-group",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{marginBottom:"20px"},onClick:function(){return l("Perfis")}},"Perfis"),r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{marginBottom:"20px"},onClick:function(){return l("Posts")}},"Posts")),c[n])}function u(){var e=Object(a.useState)([{sender:{id:"",user:""}}]),t=Object(o.a)(e,2),n=t[0],l=t[1];Object(a.useEffect)((function(){fetch("http://localhost:8000/profile-api/myinvites").then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]);var c=function(e){var t=e.target,n={senderid:t.dataset.senderid,reply:t.dataset.reply};fetch("http://localhost:8000/profile-api/reply-friend-request",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),document.getElementById("friend-request-list").removeChild(document.getElementById(t.dataset.senderid))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-group",id:"friend-request-list"},n.map((function(e){return r.a.createElement("li",{className:"list-group-item profile-row",id:e.sender.id,key:e.sender.id},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"profile-col"},r.a.createElement("img",{src:"http://localhost:8000".concat(e.sender.photo)}),r.a.createElement("div",{className:"main-profile-data"},r.a.createElement("strong",null,e.sender.first_name," ",e.sender.last_name),r.a.createElement("p",{className:"text-secondary"},"@",e.sender.user.username))),r.a.createElement("div",{className:"profile-col"},e.sender.bio),r.a.createElement("div",{className:"profile-col",style:{justifyContent:"space-between"}},r.a.createElement("button",{className:"btn btn-primary","data-senderid":e.sender.id,"data-reply":"accept",onClick:function(e){return c(e)}},"Confirmar"),r.a.createElement("button",{className:"btn btn-grey","data-senderid":e.sender.id,"data-reply":"decline",onClick:function(e){return c(e)}},"Excluir"))))}))))}function m(){var e=Object(a.useState)({user:"",interests:[],created:"",friends:[]}),t=Object(o.a)(e,2),n=t[0],l=t[1];return Object(a.useEffect)((function(){fetch("http://localhost:8000/profile-api/myprofile").then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-between align-items-center profile-data-container"},r.a.createElement("div",{className:"d-flex flex-column align-items-start"},r.a.createElement("p",{style:{padding:"15px"}},r.a.createElement("img",{src:"http://localhost:8000".concat(n.photo),style:{borderRadius:"50%",display:"inline-block",transform:"scale(1.5)"}})),r.a.createElement("p",{style:{marginBottom:0}},r.a.createElement("strong",null,n.first_name," ",n.last_name)),r.a.createElement("p",{className:"text-secondary",style:{marginTop:0}},"@",n.user.username),r.a.createElement("p",null,n.bio),r.a.createElement("p",{className:"text-secondary"},r.a.createElement("i",{className:"far fa-calendar-alt"})," Entrou em ",n.created.split("-").reverse().join("/")),r.a.createElement("p",null,r.a.createElement("strong",null,n.friends.length)," ",1===n.friends.length?"amigo":"amigos")),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-secondary"},"Editar perfil"))))}function d(){var e=Object(a.useState)("Home"),t=Object(o.a)(e,2),n=t[0],l=t[1],c={Home:i(),"Notifica\xe7\xf5es":u(),Mensagens:r.a.createElement("div",null,"Mensagens"),Perfil:m(),"Configura\xe7\xf5es":r.a.createElement("div",null,"Configura\xe7\xf5es")};return Object(a.useEffect)((function(){document.querySelector(".header > strong").innerText=n,document.title="".concat(n," / Napker"),window.history.pushState({header:n},"",n.toLowerCase())}),[n]),window.onpopstate=function(e){l(e.state.header)},document.querySelectorAll(".menu").forEach((function(e){return e.onclick=function(){l(e.id.charAt(0).toUpperCase()+e.id.slice(1))}})),document.querySelector(".logout").onclick=function(){window.confirm("Sair do Napker?\nVoc\xea poder\xe1 entrar novamente quando quiser.")&&window.location.replace("http://localhost:8000/logout")},r.a.createElement(r.a.Fragment,null,c[n])}c.a.render(r.a.createElement(d,null),document.querySelector("#root"))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.22d4b66a.chunk.js.map