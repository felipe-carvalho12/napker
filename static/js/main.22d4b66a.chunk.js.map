{"version":3,"sources":["components/home-components/profiles.js","components/home.js","components/home-components/posts.js","components/notifications.js","components/profile.js","App.js","components/messages.js","components/settings.js","index.js"],"names":["Profiles","useState","user","profiles","setProfiles","search","setSearch","useEffect","url","fetch","then","response","json","data","catch","e","console","log","className","type","placeholder","onChange","target","value","map","profile","key","id","src","photo","first_name","last_name","username","bio","data-userid","onClick","btn","friends","includes","dataset","userid","innerHTML","friendRequest","Home","page","setPage","pages","role","style","marginBottom","Notifications","sender","invites","setInvites","replyRequest","requestBody","senderid","reply","method","headers","body","JSON","stringify","document","getElementById","removeChild","i","justifyContent","data-senderid","data-reply","Profile","interests","created","setProfile","padding","borderRadius","display","transform","marginTop","split","reverse","join","length","App","header","setHeader","components","querySelector","innerText","title","window","history","pushState","toLowerCase","onpopstate","state","querySelectorAll","forEach","el","onclick","charAt","toUpperCase","slice","confirm","location","replace","ReactDOM","render"],"mappings":"8JAEe,SAASA,IAAY,IAAD,EACCC,mBAAS,CAAC,CAAEC,KAAM,MADnB,mBACxBC,EADwB,KACdC,EADc,OAEHH,mBAAS,IAFN,mBAExBI,EAFwB,KAEhBC,EAFgB,KAI/BC,qBAAU,WACN,IAAIC,EAEAA,EADW,KAAXH,EACM,iDAEH,kDAA8CA,GAErDI,MAAMD,GACDE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACFT,EAAYS,MAEfC,OAAM,SAAAC,GAAC,OAAIC,QAAQC,IAAIF,QAC7B,CAACV,IAsBJ,OACI,oCACI,8BACI,yBAAKa,UAAU,YACX,yBAAKA,UAAU,OACX,2BAAOC,KAAK,OAAOD,UAAU,eAAeE,YAAY,YAAYC,SAAU,SAAAN,GAAC,OAAIT,EAAUS,EAAEO,OAAOC,aAIlH,yBAAKL,UAAU,cACVf,EAASqB,KAAI,SAAAC,GACV,OACI,wBAAIP,UAAU,8BAA8BQ,IAAKD,EAAQE,IACrD,yBAAKT,UAAU,kCACX,yBAAKA,UAAU,eACX,yBAAKU,IAAG,+BAA0BH,EAAQI,SAC1C,yBAAKX,UAAU,qBACX,gCAASO,EAAQK,WAAjB,IAA8BL,EAAQM,WACtC,uBAAGb,UAAU,kBAAb,IAAgCO,EAAQvB,KAAK8B,YAGrD,yBAAKd,UAAU,eACVO,EAAQQ,KAEb,yBAAKf,UAAU,eACX,4BAAQA,UAAU,oBAAoBgB,cAAaT,EAAQvB,KAAKyB,GAAIQ,QAAS,SAAApB,GAAC,OA7CxF,SAAAA,GAClB,IAAMqB,EAAMrB,EAAEO,OACdb,MAAM,+CACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACgBA,EACFwB,QAAQC,SAASF,EAAIG,QAAQC,SACzCxB,QAAQC,IAAI,WAEM,cAAlBmB,EAAIK,WACJL,EAAIK,UAAY,aAChBL,EAAIlB,UAAY,oBAEhBkB,EAAIK,UAAY,YAChBL,EAAIlB,UAAY,wBAGvBJ,OAAM,SAAAC,GAAC,OAAIC,QAAQC,IAAIF,MA4BkF2B,CAAc3B,KAAhG,qBC7DrB,SAAS4B,IAAQ,IAAD,EACH1C,mBAAS,UADN,mBACpB2C,EADoB,KACdC,EADc,KAErBC,EAAQ,CACV,OAAU9C,IACV,MCLA,uCDQJ,OACI,oCACI,yBAAKkB,UAAU,YAAY6B,KAAK,SAC5B,4BAAQ5B,KAAK,SAASD,UAAU,kBAAkB8B,MAAO,CAAEC,aAAc,QAAUd,QAAS,kBAAMU,EAAQ,YAA1G,UACA,4BAAQ1B,KAAK,SAASD,UAAU,kBAAkB8B,MAAO,CAAEC,aAAc,QAAUd,QAAS,kBAAMU,EAAQ,WAA1G,UAEHC,EAAMF,IEhBJ,SAASM,IAAiB,IAAD,EACNjD,mBAAS,CAAC,CAAEkD,OAAQ,CAAExB,GAAI,GAAIzB,KAAM,OAD9B,mBAC7BkD,EAD6B,KACpBC,EADoB,KAEpC9C,qBAAU,WACNE,MAAM,+CACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIwC,EAAWxC,QAC9B,IAEH,IAAMyC,EAAe,SAAAvC,GACjB,IAAMqB,EAAMrB,EAAEO,OACRiC,EAAc,CAChB,SAAYnB,EAAIG,QAAQiB,SACxB,MAASpB,EAAIG,QAAQkB,OAEzBhD,MAAM,yDAA0D,CAC5DiD,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,KAEpB7C,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAIG,QAAQC,IAAIJ,MAC9BkD,SAASC,eAAe,uBAAuBC,YAAYF,SAASC,eAAe5B,EAAIG,QAAQiB,YAGnG,OACI,oCACI,yBAAKtC,UAAU,aAAaS,GAAG,uBAC1ByB,EAAQ5B,KAAI,SAAA0C,GACT,OACI,wBAAIhD,UAAU,8BAA8BS,GAAIuC,EAAEf,OAAOxB,GAAID,IAAKwC,EAAEf,OAAOxB,IACvE,yBAAKT,UAAU,kCACX,yBAAKA,UAAU,eACX,yBAAKU,IAAG,+BAA0BsC,EAAEf,OAAOtB,SAC3C,yBAAKX,UAAU,qBACX,gCAASgD,EAAEf,OAAOrB,WAAlB,IAA+BoC,EAAEf,OAAOpB,WACxC,uBAAGb,UAAU,kBAAb,IAAgCgD,EAAEf,OAAOjD,KAAK8B,YAGtD,yBAAKd,UAAU,eACVgD,EAAEf,OAAOlB,KAEd,yBAAKf,UAAU,cAAc8B,MAAO,CAAEmB,eAAgB,kBAClD,4BAAQjD,UAAU,kBAAkBkD,gBAAeF,EAAEf,OAAOxB,GAAI0C,aAAW,SAASlC,QAAS,SAAApB,GAAC,OAAIuC,EAAavC,KAA/G,aACA,4BAAQG,UAAU,eAAekD,gBAAeF,EAAEf,OAAOxB,GAAI0C,aAAW,UAAUlC,QAAS,SAAApB,GAAC,OAAIuC,EAAavC,KAA7G,mBC7CrB,SAASuD,IAAW,IAAD,EACArE,mBAAS,CAAEC,KAAM,GAAIqE,UAAW,GAAIC,QAAS,GAAInC,QAAS,KAD1D,mBACvBZ,EADuB,KACdgD,EADc,KAa9B,OANAlE,qBAAU,WACNE,MAAM,+CACDC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAI4D,EAAW5D,QAC9B,IAGC,6BACI,yBAAKK,UAAU,4EACX,yBAAKA,UAAU,wCACX,uBAAG8B,MAAO,CAAE0B,QAAS,SAAU,yBAAK9C,IAAG,+BAA0BH,EAAQI,OAASmB,MAfxE,CACtB2B,aAAc,MACdC,QAAS,eACTC,UAAW,iBAaC,uBAAG7B,MAAO,CAAEC,aAAc,IAAK,gCAASxB,EAAQK,WAAjB,IAA8BL,EAAQM,YACrE,uBAAGb,UAAU,iBAAiB8B,MAAO,CAAE8B,UAAW,IAAlD,IAAyDrD,EAAQvB,KAAK8B,UACtE,2BAAIP,EAAQQ,KACZ,uBAAGf,UAAU,kBACT,uBAAGA,UAAU,wBADjB,cACuDO,EAAQ+C,QAAQO,MAAM,KAAKC,UAAUC,KAAK,MAEjG,2BAAG,gCAASxD,EAAQY,QAAQ6C,QAA5B,IAAyE,IAA3BzD,EAAQY,QAAQ6C,OAAe,QAAU,WAE3F,6BACI,4BAAQhE,UAAU,qBAAlB,oBCrBL,SAASiE,IAAO,IAAD,EACElF,mBAAS,QADX,mBACnBmF,EADmB,KACXC,EADW,KAEpBC,EAAa,CACf,KAAQ3C,IACR,qBAAgBO,IAChB,UCTA,0CDUA,OAAUoB,IACV,sBEXA,qDFmCJ,OArBA/D,qBAAU,WACNwD,SAASwB,cAAc,oBAAoBC,UAAYJ,EACvDrB,SAAS0B,MAAT,UAAoBL,EAApB,aACAM,OAAOC,QAAQC,UAAU,CAACR,OAAQA,GAAS,GAAIA,EAAOS,iBACvD,CAACT,IAEJM,OAAOI,WAAa,SAAA/E,GAChBsE,EAAUtE,EAAEgF,MAAMX,SAGtBrB,SAASiC,iBAAiB,SAASC,SAAQ,SAAAC,GAAE,OAAIA,EAAGC,QAAU,WAC1Dd,EAAUa,EAAGvE,GAAGyE,OAAO,GAAGC,cAAgBH,EAAGvE,GAAG2E,MAAM,QAG1DvC,SAASwB,cAAc,WAAWY,QAAU,WAC3BT,OAAOa,QAAQ,uEAExBb,OAAOc,SAASC,QAAQ,iCAK5B,oCACCnB,EAAWF,IGnCpBsB,IAASC,OAAO,kBAACxB,EAAD,MAASpB,SAASwB,cAAc,W","file":"static/js/main.22d4b66a.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nexport default function Profiles() {\r\n    const [profiles, setProfiles] = useState([{ user: '' }])\r\n    const [search, setSearch] = useState('')\r\n\r\n    useEffect(() => {\r\n        let url\r\n        if (search === '') {\r\n            url = 'http://localhost:8000/profile-api/profile-list'\r\n        } else {\r\n            url = `http://localhost:8000/profile-api/users/${search}`\r\n        }\r\n        fetch(url)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setProfiles(data)\r\n            })\r\n            .catch(e => console.log(e))\r\n    }, [search])\r\n\r\n    const friendRequest = e => {\r\n        const btn = e.target\r\n        fetch('http://localhost:8000/profile-api/myprofile')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                let userProfile = data\r\n                if (userProfile.friends.includes(btn.dataset.userid)) {\r\n                    console.log('friends')\r\n                }\r\n                if (btn.innerHTML === 'Solicitar') {\r\n                    btn.innerHTML = 'Solicitado'\r\n                    btn.className = 'btn btn-primary'\r\n                } else {\r\n                    btn.innerHTML = 'Solicitar'\r\n                    btn.className = 'btn btn-secondary'\r\n                }\r\n            })\r\n            .catch(e => console.log(e))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form>\r\n                <div className=\"form-row\">\r\n                    <div className=\"col\">\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Pesquisar\" onChange={e => setSearch(e.target.value)}/>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div className=\"list-group\">\r\n                {profiles.map(profile => {\r\n                    return (\r\n                        <li className=\"list-group-item profile-row\" key={profile.id}>\r\n                            <div className=\"d-flex justify-content-between\">\r\n                                <div className=\"profile-col\">\r\n                                    <img src={`http://localhost:8000${profile.photo}`} />\r\n                                    <div className=\"main-profile-data\">\r\n                                        <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                        <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"profile-col\">\r\n                                    {profile.bio}\r\n                                </div>\r\n                                <div className=\"profile-col\">\r\n                                    <button className=\"btn btn-secondary\" data-userid={profile.user.id} onClick={e => friendRequest(e)}>Solicitar</button>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport Posts from './home-components/posts'\r\nimport Profiles from './home-components/profiles'\r\n\r\nexport default function Home() {\r\n    const [page, setPage] = useState('Perfis')\r\n    const pages = {\r\n        'Perfis': Profiles(),\r\n        'Posts': Posts()\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"btn-group\" role=\"group\">\r\n                <button type=\"button\" className=\"btn btn-primary\" style={{ marginBottom: '20px' }} onClick={() => setPage('Perfis')}>Perfis</button>\r\n                <button type=\"button\" className=\"btn btn-primary\" style={{ marginBottom: '20px' }} onClick={() => setPage('Posts')}>Posts</button>\r\n            </div>\r\n            {pages[page]}\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nexport default function Posts() {\r\n    return (\r\n        <div>Posts</div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nexport default function Notifications() {\r\n    const [invites, setInvites] = useState([{ sender: { id: '', user: '' } }])\r\n    useEffect(() => {\r\n        fetch('http://localhost:8000/profile-api/myinvites')\r\n            .then(response => response.json())\r\n            .then(data => setInvites(data))\r\n    }, [])\r\n\r\n    const replyRequest = e => {\r\n        const btn = e.target\r\n        const requestBody = {\r\n            'senderid': btn.dataset.senderid,\r\n            'reply': btn.dataset.reply\r\n        }\r\n        fetch('http://localhost:8000/profile-api/reply-friend-request', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(requestBody)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => console.log(data))\r\n        document.getElementById('friend-request-list').removeChild(document.getElementById(btn.dataset.senderid))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"list-group\" id='friend-request-list'>\r\n                {invites.map(i => {\r\n                    return (\r\n                        <li className=\"list-group-item profile-row\" id={i.sender.id} key={i.sender.id}>\r\n                            <div className=\"d-flex justify-content-between\">\r\n                                <div className=\"profile-col\">\r\n                                    <img src={`http://localhost:8000${i.sender.photo}`} />\r\n                                    <div className=\"main-profile-data\">\r\n                                        <strong>{i.sender.first_name} {i.sender.last_name}</strong>\r\n                                        <p className=\"text-secondary\">@{i.sender.user.username}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"profile-col\">\r\n                                    {i.sender.bio}\r\n                                </div>\r\n                                <div className=\"profile-col\" style={{ justifyContent: 'space-between' }}>\r\n                                    <button className=\"btn btn-primary\" data-senderid={i.sender.id} data-reply='accept' onClick={e => replyRequest(e)}>Confirmar</button>\r\n                                    <button className=\"btn btn-grey\" data-senderid={i.sender.id} data-reply='decline' onClick={e => replyRequest(e)}>Excluir</button>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nexport default function Profile() {\r\n    const [profile, setProfile] = useState({ user: '', interests: [], created: '', friends: [] })\r\n    const profilePhotoStyle = {\r\n        borderRadius: '50%',\r\n        display: 'inline-block',\r\n        transform: 'scale(1.5)'\r\n    }\r\n    useEffect(() => {\r\n        fetch('http://localhost:8000/profile-api/myprofile')\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"d-flex justify-content-between align-items-center profile-data-container\">\r\n                <div className=\"d-flex flex-column align-items-start\">\r\n                    <p style={{ padding: '15px' }}><img src={`http://localhost:8000${profile.photo}`} style={profilePhotoStyle} /></p>\r\n                    <p style={{ marginBottom: 0 }}><strong>{profile.first_name} {profile.last_name}</strong></p>\r\n                    <p className=\"text-secondary\" style={{ marginTop: 0 }}>@{profile.user.username}</p>\r\n                    <p>{profile.bio}</p>\r\n                    <p className=\"text-secondary\">\r\n                        <i className=\"far fa-calendar-alt\"></i> Entrou em {profile.created.split('-').reverse().join('/')}\r\n                    </p>\r\n                    <p><strong>{profile.friends.length}</strong> {profile.friends.length === 1 ? 'amigo' : 'amigos'}</p>\r\n                </div>\r\n                <div>\r\n                    <button className=\"btn btn-secondary\">Editar perfil</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport Home from './components/home'\r\nimport Notifications from './components/notifications'\r\nimport Messages from './components/messages'\r\nimport Profile from './components/profile'\r\nimport Settings from './components/settings'\r\n\r\nexport default function App() {\r\n    const [header, setHeader] = useState('Home')\r\n    const components = {\r\n        'Home': Home(),\r\n        'Notificações': Notifications(),\r\n        'Mensagens': Messages(),\r\n        'Perfil': Profile(),\r\n        'Configurações': Settings(),\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.querySelector('.header > strong').innerText = header\r\n        document.title = `${header} / Napker`\r\n        window.history.pushState({header: header}, '', header.toLowerCase())  //fix it!\r\n    }, [header])\r\n\r\n    window.onpopstate = e => {\r\n        setHeader(e.state.header)\r\n    }\r\n\r\n    document.querySelectorAll('.menu').forEach(el => el.onclick = () => {\r\n        setHeader(el.id.charAt(0).toUpperCase() + el.id.slice(1))\r\n    })\r\n\r\n    document.querySelector('.logout').onclick = () => {\r\n        const bool = window.confirm('Sair do Napker?\\nVocê poderá entrar novamente quando quiser.')\r\n        if (bool) {\r\n            window.location.replace('http://localhost:8000/logout')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {components[header]}\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nexport default function Messages() {\r\n    return (\r\n        <div>Mensagens</div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nexport default function Settings() {\r\n    return (\r\n        <div>Configurações</div>\r\n    )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css'\n\nimport App from './App'\n\nReactDOM.render(<App />, document.querySelector('#root'))\n"],"sourceRoot":""}