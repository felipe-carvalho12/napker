<<<<<<< HEAD
{"version":3,"sources":["settings.js","components/main/sidebar.js","components/main/bottomMenu.js","components/likesmodal.js","utils.js","pages/home-components/posts.js","pages/home-components/profiles.js","components/main/header.js","pages/home.js","pages/notifications.js","pages/messages_page/websocket.js","pages/messages_page/chat.js","pages/messages_page/messages.js","pages/profile-components/posts.js","pages/profile-components/interests.js","pages/myprofile.js","pages/settings_page/blockedProfiles.js","pages/settings_page/changePassword.js","pages/settings_page/deleteAccount.js","pages/settings_page/settingsMenu.js","pages/home-components/profile.js","pages/profile-components/friends.js","pages/profile-components/interestprofiles.js","pages/profile-components/edit-interests/publicInterests.js","pages/profile-components/edit-interests/privateInterests.js","pages/profile-components/edit-interests/editinterests.js","components/commentmodal.js","pages/home-components/post.js","components/postFormPage.js","App.js","index.js"],"names":["SERVER_URL","Sidebar","props","useEffect","document","querySelectorAll","forEach","el","classList","remove","currentUrl","window","location","href","split","includes","querySelector","add","switchPage","e","isHome","target","className","to","style","textDecoration","onClick","src","id","notificationsNumber","unreadMessagesNumber","display","justifyContent","margin","LikesModal","Modal","show","isOpen","onHide","hideModal","size","Header","closeButton","Title","Body","height","overflow","overflowY","likes","map","like","profile","slug","color","key","photo","marginRight","first_name","last_name","user","username","bio","csrftoken","name","cookieValue","cookie","cookies","i","length","trim","substring","decodeURIComponent","getCookie","handleLogout","confirm","replace","openCloseEmojiList","closing","Posts","fetchPosts","fetch","then","response","json","data","setState","posts","likeUnlikePost","stopPropagation","likeBtn","contains","dataset","postid","console","log","hideLikesModal","likesModal","deletePost","postId","animationPlayState","addEventListener","method","headers","handlePostContentChange","postContent","value","disabled","state","postFormImagePreview","handlePostImageChange","reader","FileReader","onload","readyState","result","readAsDataURL","files","handleCloseImage","onEmojiSelect","event","emojiObject","emoji","this","action","encType","type","placeholder","maxLength","autoFocus","onChange","htmlFor","class","accept","onEmojiClick","post","author","created","reverse","join","textAlign","content","image","comments","data-postid","React","Component","Profiles","useState","myProfile","setMyProfile","profiles","setProfiles","filteredProfiles","setFilteredProfiles","search","setSearch","handleRelationshipUpdate","pk","btn","innerHTML","body","JSON","stringify","cancelFriendRequest","data-pk","backArrow","history","back","page","Home","setPage","pages","title","borderRadius","Notifications","notificationsFetchInterval","invites","setInvites","unvisualizedPostLikes","setUnvisualizedPostLikes","visualizedPostLikes","setVisualizedPostLikes","unvisualizedComments","setUnvisualizedComments","visualizedComments","setVisualizedComments","fetchNotifications","setInterval","clearInterval","updateNotificationsNumber","replyRequest","requestBody","senderid","reply","getElementById","sender","data-senderid","data-reply","comment","WebSocketService","callbacks","socketRef","instance","chatUrl","path","WebSocket","onopen","socketNewMessage","command","onmessage","onerror","message","onclose","close","parsedData","parse","Object","keys","messages","chatId","sendMessage","from","messagesCallback","newMessageCallback","send","err","WebSocketInstance","getInstance","Chat","handleComponentChange","scrollToBottom","otherUsername","otherProfile","readMessages","chat_id","messageChangeHandler","sendMessageHandler","preventDefault","messageObject","blocked_users","u","alert","newChatMessage","updateMessagesComponent","renderTimestamp","timestamp","ts","Date","day","getDate","month","getMonth","hour","getHours","minute","getMinutes","getFullYear","renderMessages","currentUser","read","chatLog","scrollTop","scrollHeight","initialiseChat","waitForSocketConnection","addCallbacks","getMessages","bind","addMessage","getUpdatedMessages","fetchMessages","connect","focus","disconnect","newProps","updateUnreadMessagesNumber","callback","component","setTimeout","onSubmit","fontSize","openModal","Messages","handleReceiveProps","participants","other_username","match","params","fetchActiveChatProfiles","activeChats","chats","activeChatsProfiles","addingNewChat","setModalSearch","query","modalProfiles","setContactSearch","filter","p","resetUnreadMessagesCounter","unreadMessagesCounter","incrementUnreadMessagesCounter","setLastChatMessage","lastChatMessage","rerenderingInterval","padding","whiteSpace","maxHeight","indexOf","contact","marginLeft","slice","myprofile","setLikesModal","fetchProfile","marginTop","Interests","interests","public","interest","toUpperCase","MyProfile","setProfile","profileImagePreview","setProfileImagePreview","isEditing","setIsEditing","editingBioContent","setEditingBioContent","currentPageIsPosts","setCurrentPageIsPosts","marginBottom","email","bool","width","defaultValue","birth_date","Footer","submit","friends","BlockUser","blockedProfiles","setBlockedProfiles","ChangePassword","errorMessage","setErrorMessage","successMessage","setSuccessMessage","role","password","newPassword","newPasswordc","new_password","new_passwordc","DeleteAccount","displayErrorMessage","setDisplayErrorMessage","Settings","pageChange","Profile","sendFriendRequest","removeFromFriends","acceptFriendRequest","blockUnblockUser","alertMessage","openCloseExtraOptions","relationshipButtonLabel","label","relationship","onmouseenter","onmouseout","Friends","setFriends","useParams","friend","InterestProfiles","PublicInterests","addTags","tag","parentElement","removeChild","tags","sort","tagContainer","prepend","div","createElement","span","closeIcon","setAttribute","appendChild","interestsInput","createTag","setInterests","input","push","tagLabel","getAttribute","index","PrivateInterests","EditInterests","publicInterests","setPublicInterests","privateInterests","setPrivateInterests","public_interests","private_interests","documentElement","CommentModal","commentContent","setCommentContent","Post","setPost","commentModalIsOpen","setCommentModalIsOpen","postLikesModal","setPostLikesModal","commentLikesModal","setCommentLikesModal","fetchPost","likeUnlikeComment","commentid","commentId","deleteComment","data-commentid","App","invitesReceivedNumber","setInvitesReceived","unvisualizedLikesNumber","setUnvisulaizedLikes","unvisualizedCommentsNumber","setUnvisulaizedComments","setUnreadMessagesNumber","render","exact","ProfileFriends","PostFormPage","ReactDOM"],"mappings":"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","file":"static/js/main.caf4b1ba.chunk.js","sourcesContent":["//const SERVER_URL = 'https://napker.herokuapp.com'\r\n//const SOCKET_URL = 'wss://napker.herokuapp.com'\r\nconst SERVER_URL = 'http://127.0.0.1:8000'\r\nconst SOCKET_URL = 'ws://127.0.0.1:8000'\r\n\r\nconst LOGO_URL = '/static/media/napker.png'\r\n\r\nexport { SERVER_URL, SOCKET_URL, LOGO_URL }\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { SERVER_URL, LOGO_URL } from '../../settings'\r\n\r\nexport default function Sidebar(props) {\r\n    useEffect(() => {\r\n        document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n            el.classList.remove('sidebar-menu-item-active')\r\n        })\r\n        const currentUrl = window.location.href.split('/')\r\n        if (currentUrl.includes('home')) {\r\n            document.querySelector('#home-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('notifica%C3%A7%C3%B5es')) {\r\n            document.querySelector('#notifications-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('mensagens')) {\r\n            document.querySelector('#messages-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('perfil')) {\r\n            document.querySelector('#profile-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('configura%C3%A7%C3%B5es')) {\r\n            document.querySelector('#settings-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n    }, [])\r\n\r\n    const switchPage = (e, isHome = false) => {\r\n        if (!isHome) {\r\n            document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n                el.classList.remove('sidebar-menu-item-active')\r\n            })\r\n            e.target.classList.add('sidebar-menu-item-active')\r\n        } else {\r\n            document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n                el.classList.remove('sidebar-menu-item-active')\r\n            })\r\n            document.querySelector('#home-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"logo-container\">\r\n                <Link to=\"/home\" style={{ textDecoration: 'none' }} onClick={e => switchPage(e, true)}>\r\n                    <img src={`${SERVER_URL}${LOGO_URL}`} />\r\n                </Link>\r\n            </div>\r\n            <ul>\r\n                <Link to=\"/home\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"home-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                        Home\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/notificaes\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"notifications-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                        Notificaes\r\n                        {!props.notificationsNumber ? '' :\r\n                            <div className=\"notification-text-container\">\r\n                                <div className=\"notification-text\">\r\n                                    {props.notificationsNumber}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/mensagens\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"messages-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-envelope sidebar-menu-icon\" />\r\n                        Mensagens\r\n                        {!props.unreadMessagesNumber ? '' :\r\n                            <div className=\"notification-text-container\">\r\n                                <div className=\"notification-text\">\r\n                                    {props.unreadMessagesNumber}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/perfil\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"profile-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                        Perfil\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/configuraes\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"settings-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                        Configuraes\r\n                    </li>\r\n                </Link>\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { SERVER_URL, LOGO_URL } from '../../settings'\r\n\r\nexport default function Sidebar(props) {\r\n    useEffect(() => {\r\n        document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n            el.classList.remove('sidebar-menu-item-active')\r\n        })\r\n        const currentUrl = window.location.href.split('/')\r\n        if (currentUrl.includes('home')) {\r\n            document.querySelector('#home-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('notifica%C3%A7%C3%B5es')) {\r\n            document.querySelector('#notifications-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('mensagens')) {\r\n            document.querySelector('#messages-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('perfil')) {\r\n            document.querySelector('#profile-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('configura%C3%A7%C3%B5es')) {\r\n            document.querySelector('#settings-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n    }, [])\r\n\r\n    const switchPage = (e, isHome = false) => {\r\n        if (!isHome) {\r\n            document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n                el.classList.remove('sidebar-menu-item-active')\r\n            })\r\n            e.target.classList.add('sidebar-menu-item-active')\r\n        } else {\r\n            document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n                el.classList.remove('sidebar-menu-item-active')\r\n            })\r\n            document.querySelector('#home-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"bottom-menu fixed-bottom\">\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', margin: '15px' }}>\r\n                <Link to=\"/postar\">\r\n                    <i className=\"fas fa-pencil-alt\" />\r\n                </Link>\r\n            </div>\r\n            <ul>\r\n                <Link to=\"/home\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"home-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/notificaes\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"notifications-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                        {!props.notificationsNumber ? '' :\r\n                            <div className=\"notification-text-container\">\r\n                                <div className=\"notification-text\">\r\n                                    {props.notificationsNumber}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/mensagens\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"messages-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-envelope sidebar-menu-icon\" />\r\n                        {!props.unreadMessagesNumber ? '' :\r\n                            <div className=\"notification-text-container\">\r\n                                <div className=\"notification-text\">\r\n                                    {props.unreadMessagesNumber}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/perfil\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"profile-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/configuraes\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"settings-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                    </li>\r\n                </Link>\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../settings'\r\n\r\nexport default function LikesModal(props) {\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Curtidas</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {props.likes &&\r\n                        props.likes.map(like => like.profile).map(profile => {\r\n                            return (\r\n                                <Link to={`/user/${profile.user.username}`}\r\n                                    style={{ color: '#000', textDecoration: 'none' }}\r\n                                    onClick={props.hideModal}\r\n                                >\r\n                                    <li className=\"list-group-item profile-row modal-profile-li\" key={profile.id}>\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                            <div className=\"profile-col\">\r\n                                                <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                    className=\"profile-img-med\"\r\n                                                    style={{ marginRight: '10px' }}\r\n                                                />\r\n                                                <div className=\"main-profile-data\">\r\n                                                    <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                    <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"profile-col\">\r\n                                                {profile.bio}\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n                                </Link>\r\n                            )\r\n                        })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import { SERVER_URL } from './settings'\r\n\r\nconst csrftoken = getCookie('csrftoken')\r\n\r\nfunction getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== '') {\r\n    const cookies = document.cookie.split(';');\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      // Does this cookie string begin with the name we want?\r\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nfunction handleLogout() {\r\n  const bool = window.confirm('Sair do Napker?\\nVoc poder entrar novamente quando quiser.')\r\n  if (bool) {\r\n    window.location.replace(`${SERVER_URL}/logout`)\r\n  }\r\n}\r\n\r\nfunction openCloseEmojiList(closing = false) {\r\n  const el = document.querySelector('#emoji-list-container')\r\n  const style = el.style\r\n  if (closing) {\r\n      style.display = 'none'\r\n      document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n  } else {\r\n      if (!style.display || style.display === 'none') {\r\n          style.display = 'initial'\r\n          document.querySelector('#emoji-button').classList.add('emoji-button-active')\r\n      } else {\r\n          style.display = 'none'\r\n          document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n      }\r\n  }\r\n}\r\n\r\nexport { csrftoken, handleLogout, openCloseEmojiList };","import React from 'react'\r\nimport Picker from 'emoji-picker-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport LikesModal from '../../components/LikesModal'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken, openCloseEmojiList } from '../../utils'\r\n\r\nexport default class Posts extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            profile: null,\r\n            posts: null,\r\n            likesModal: {\r\n                isOpen: false,\r\n                likes: null\r\n            },\r\n            postContent: '',\r\n            postFormImagePreview: null\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ profile: data }))\r\n        this.fetchPosts()\r\n    }\r\n\r\n    fetchPosts = () => {\r\n        fetch(`${SERVER_URL}/post-api/post-list`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ posts: data }))\r\n    }\r\n\r\n    likeUnlikePost = e => {\r\n        e.stopPropagation()\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    this.fetchPosts()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    this.fetchPosts()\r\n                })\r\n        }\r\n    }\r\n\r\n    hideLikesModal = () => {\r\n        this.setState({\r\n            likesModal: {\r\n                isOpen: false,\r\n                likes: null\r\n            }\r\n        })\r\n    }\r\n\r\n    deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ao  irreversvel.')) {\r\n            el.style.animationPlayState = 'running'\r\n            el.addEventListener('animationend', () => {\r\n                this.fetchPosts()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    handlePostContentChange = e => {\r\n        this.setState({ postContent: e.target.value })\r\n        const el = document.querySelector('#post-form-submit-btn')\r\n        el.disabled = e.target.value.trim() === '' && !this.state.postFormImagePreview\r\n    }\r\n\r\n    handlePostImageChange = e => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                this.setState({ postFormImagePreview: reader.result })\r\n                document.querySelector('#post-img-container').style.display = 'initial'\r\n                document.querySelector('#post-form-submit-btn').disabled = false\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    handleCloseImage = () => {\r\n        document.querySelector('#post-img-container').style.display = 'none'\r\n        document.querySelector('#post-image').value = ''\r\n        if (this.state.postContent.trim() === '') document.querySelector('#post-form-submit-btn').disabled = true\r\n        this.setState({ postFormImagePreview: null })\r\n    }\r\n\r\n    onEmojiSelect = (event, emojiObject) => {\r\n        this.setState({ postContent: this.state.postContent + emojiObject.emoji })\r\n        document.querySelector('#post-form-submit-btn').disabled = false\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <LikesModal\r\n                    isOpen={this.state.likesModal.isOpen}\r\n                    likes={this.state.likesModal.likes}\r\n                    hideModal={this.hideLikesModal}\r\n                />\r\n                {this.state.profile &&\r\n                    <form\r\n                        action={`${SERVER_URL}/post-api/create-post`}\r\n                        method=\"POST\"\r\n                        className=\"create-post-form\"\r\n                        encType=\"multipart/form-data\"\r\n                    >\r\n                        <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                        <div className=\"d-flex\">\r\n                            <Link to=\"/perfil\">\r\n                                <img\r\n                                    src={`${SERVER_URL}${this.state.profile.photo}`}\r\n                                    className=\"profile-img-med\"\r\n                                />\r\n                            </Link>\r\n                            <textarea\r\n                                className=\"post-content-text-area\"\r\n                                name=\"post-content\"\r\n                                value={this.state.postContent}\r\n                                placeholder=\"No que voc est pensando?\"\r\n                                maxLength={300}\r\n                                autoFocus\r\n                                onChange={this.handlePostContentChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"w-100 d-flex justify-content-center\">\r\n                            <div\r\n                                className=\"post-img-container\"\r\n                                id=\"post-img-container\">\r\n                                <div\r\n                                    className=\"post-img-options\"\r\n                                >\r\n                                    <i\r\n                                        className=\"far fa-times-circle\"\r\n                                        onClick={this.handleCloseImage}\r\n                                    />\r\n                                </div>\r\n                                <img\r\n                                    src={this.state.postFormImagePreview}\r\n                                    className=\"post-img post-form-img-preview\"\r\n                                    id=\"post-form-img-preview\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <hr />\r\n                        <div className=\"d-flex justify-content-between\" style={{ margin: '0px 70px 0 70px' }}>\r\n                            <div className=\"post-extra-options\">\r\n                                <label htmlFor=\"post-image\" class=\"far fa-image\" />\r\n                                <input\r\n                                    type=\"file\"\r\n                                    accept=\"image/png, image/jpg, image/jpeg\"\r\n                                    name=\"post-image\"\r\n                                    id=\"post-image\"\r\n                                    style={{ display: 'none' }}\r\n                                    onChange={this.handlePostImageChange}\r\n                                />\r\n                                <label\r\n                                    className=\"far fa-smile\"\r\n                                    id=\"emoji-button\"\r\n                                    onClick={() => openCloseEmojiList(false)}\r\n                                />\r\n                                <div className=\"emoji-list-container\" id=\"emoji-list-container\">\r\n                                    <Picker onEmojiClick={this.onEmojiSelect} />\r\n                                </div>\r\n                            </div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"btn btn-primary\"\r\n                                id=\"post-form-submit-btn\"\r\n                                style={{ height: '40px' }}\r\n                                disabled\r\n                            >\r\n                                Postar\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                }\r\n                <div className=\"post-list\">\r\n                    {this.state.posts && this.state.profile ?\r\n                        this.state.posts.map(post => {\r\n                            return (\r\n                                <li\r\n                                    className=\"post-container post-list-item\"\r\n                                    id={`profile-post-${post.id}`}\r\n                                    key={post.id}\r\n                                    onClick={() => window.location.href = `/post/${post.id}`}\r\n                                >\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div className=\"post-row\">\r\n                                            <div className=\"post-col\">\r\n                                                <Link\r\n                                                    to={post.details.author.id === this.state.profile.id ?\r\n                                                        '/perfil' : `/user/${post.details.author.user.username}`}\r\n                                                    onClick={e => e.stopPropagation()}\r\n                                                >\r\n                                                    <img src={`${SERVER_URL}${post.details.author.photo}`}\r\n                                                        className=\"profile-img-med\"\r\n                                                    />\r\n                                                </Link>\r\n                                            </div>\r\n                                            <div className=\"post-col\">\r\n                                                <Link\r\n                                                    to={post.details.author.id === this.state.profile.id ?\r\n                                                        '/perfil' : `/user/${post.details.author.user.username}`}\r\n                                                    style={{ color: '#000' }}\r\n                                                    onClick={e => e.stopPropagation()}\r\n                                                >\r\n                                                    <div className=\"post-author-data-wrapper\">\r\n                                                        <strong>{post.details.author.first_name} {post.details.author.last_name} </strong>\r\n                                                        <p className=\"text-secondary d-inline-block\">\r\n                                                            @{post.details.author.user.username}  {post.created.split('-').reverse().join('/')}\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </Link>\r\n                                                <div style={{ textAlign: 'start' }}>\r\n                                                    {post.content}\r\n                                                </div>\r\n                                                {post.image &&\r\n                                                    <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                        {post.details.author.id === this.state.profile.id &&\r\n                                            <i\r\n                                                className=\"far fa-trash-alt trash-icon text-secondary\"\r\n                                                style={{ margin: '20px 20px 0 0' }}\r\n                                                onClick={e => this.deletePost(e, post.id)}\r\n                                            />}\r\n                                    </div>\r\n                                    <div className=\"post-actions\">\r\n                                        <p className=\"text-secondary\">\r\n                                            <Link\r\n                                                to={`/post/${post.id}/comentar`}\r\n                                                className=\"text-secondary\"\r\n                                                onClick={e => e.stopPropagation()}\r\n                                            >\r\n                                                <i\r\n                                                    class=\"far fa-comment\"\r\n                                                />{post.comments.length}\r\n                                            </Link>\r\n                                            {post.likes.map(like => like.profile.id).includes(this.state.profile.id) ?\r\n                                                <i class=\"fas fa-heart\"\r\n                                                    data-postid={post.id}\r\n                                                    onClick={this.likeUnlikePost}\r\n                                                />\r\n                                                :\r\n                                                <i class=\"far fa-heart\"\r\n                                                    data-postid={post.id}\r\n                                                    onClick={this.likeUnlikePost}\r\n                                                />}\r\n                                            <p className=\"post-likes-number\"\r\n                                                onClick={e => {\r\n                                                    e.stopPropagation()\r\n                                                    this.setState({ likesModal: { isOpen: true, likes: post.likes } })\r\n                                                }}\r\n                                            >\r\n                                                {post.likes.length}\r\n                                            </p>\r\n                                        </p>\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        }) :\r\n                        <div className=\"posts-loader-container\" >\r\n                            <div className=\"loader\" />\r\n                        </div>}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken } from '../../utils'\r\n\r\nexport default function Profiles() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [profiles, setProfiles] = useState(null)\r\n    const [filteredProfiles, setFilteredProfiles] = useState(null)\r\n    const [search, setSearch] = useState('')\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/profile-list`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setFilteredProfiles(null)\r\n                setProfiles(data)\r\n            })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (search === '') {\r\n            setFilteredProfiles(null)\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/users/${search}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setFilteredProfiles(data)\r\n            })\r\n    }, [search])\r\n\r\n    const sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    const cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    const handleRelationshipUpdate = e => {\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else {\r\n            cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"profiles-filter-container\">\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"profiles-filter-input\"\r\n                    placeholder=\"Pesquisar\"\r\n                    value={search}\r\n                    autoFocus\r\n                    onChange={e => setSearch(e.target.value)}\r\n                />\r\n            </div>\r\n            <div className=\"list-group\">\r\n                {myProfile && (profiles || filteredProfiles) ?\r\n                    <div className=\"profile-list-container\">\r\n                        {filteredProfiles ? filteredProfiles.map(profile => {\r\n                            return (\r\n                                <Link to={`/user/${profile.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                    <li className=\"list-group-item profile-row filtered-profile\" key={profile.id}>\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                            <div className=\"profile-col\">\r\n                                                <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                    className=\"profile-img-med\"\r\n                                                    style={{ marginRight: '10px' }}\r\n                                                />\r\n                                                <div className=\"main-profile-data\">\r\n                                                    <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                    <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"profile-col\">\r\n                                                {profile.bio}\r\n                                            </div>\r\n                                            <div className=\"profile-col\">\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n                                </Link>\r\n                            )\r\n                        }\r\n                        ) : profiles && profiles.map(profile => {\r\n                            return (\r\n                                <li\r\n                                    className=\"list-group-item profile-row\"\r\n                                    key={profile.id}\r\n                                    onClick={() => window.location.href = `/user/${profile.user.username}`}\r\n                                >\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div className=\"profile-col\">\r\n                                            <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                className=\"profile-img-med\"\r\n                                                style={{ marginRight: '10px' }}\r\n                                            />\r\n                                            <div className=\"main-profile-data\">\r\n                                                <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"profile-col\">\r\n                                            {profile.bio}\r\n                                        </div>\r\n                                        <div className=\"profile-col\">\r\n                                            <button className=\"btn btn-secondary\" data-pk={profile.id} onClick={handleRelationshipUpdate}>\r\n                                                Solicitar\r\n                                    </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        })\r\n                        }\r\n                    </div> :\r\n                    <div className=\"profiles-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { handleLogout } from '../../utils'\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <div className=\"header fixed-top\">\r\n            {!props.backArrow ? '' :\r\n            <i class=\"fas fa-arrow-left left-arrow-icon\" onClick={() => window.history.back()}/>}\r\n            <strong>{props.page}</strong>\r\n            <a className=\"logout\" onClick={handleLogout}>Sair</a>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Posts from './home-components/posts'\r\nimport Profiles from './home-components/profiles'\r\nimport Header from '../components/main/header'\r\nimport BottomMenu from '../components/main/bottomMenu'\r\n\r\nexport default function Home(props) {\r\n    const [page, setPage] = useState('Posts')\r\n    const pages = {\r\n        'Perfis': <Profiles />,\r\n        'Posts': <Posts />\r\n    }\r\n\r\n    document.title = 'Home / Napker'\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Home\" />\r\n            <div className=\"content\">\r\n                <div className=\"home-page-subheader\">\r\n                    {page === 'Perfis' ?\r\n                        'Veja o que os seus amigos andam fazendo: ' :\r\n                        'Veja usurios com os mesmos interesses que voc: '\r\n                    }\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-primary\"\r\n                        style={{ margin: '10px', borderRadius: '20px' }}\r\n                        onClick={() => setPage(page === 'Perfis' ? 'Posts' : 'Perfis')}\r\n                    >\r\n                        {page === 'Perfis' ?\r\n                            'Ver posts' :\r\n                            'Ver perfis'\r\n                        }\r\n                    </button>\r\n                </div>\r\n                {pages[page]}\r\n                <BottomMenu notificationsNumber={props.notificationsNumber} unreadMessagesNumber={props.unreadMessagesNumber} />\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Header from '../components/main/header'\r\nimport { SERVER_URL } from '../settings'\r\nimport { csrftoken } from '../utils'\r\n\r\nexport default function Notifications(props) {\r\n    const [invites, setInvites] = useState(null)\r\n    const [unvisualizedPostLikes, setUnvisualizedPostLikes] = useState(null)\r\n    const [visualizedPostLikes, setVisualizedPostLikes] = useState(null)\r\n    const [unvisualizedComments, setUnvisualizedComments] = useState(null)\r\n    const [visualizedComments, setVisualizedComments] = useState(null)\r\n\r\n    let notificationsFetchInterval\r\n\r\n    document.title = 'Notificaes / Napker'\r\n\r\n    const fetchNotifications = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvites(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedComments(data))\r\n        fetch(`${SERVER_URL}/post-api/post-likes-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/post-comments-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedComments(data))\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchNotifications()\r\n        notificationsFetchInterval = window.setInterval(fetchNotifications, 3000)\r\n        return () => window.clearInterval(notificationsFetchInterval)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedPostLikes && unvisualizedPostLikes.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-likes`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedPostLikes])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedComments && unvisualizedComments.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-comments`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedComments])\r\n\r\n    const replyRequest = e => {\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        const requestBody = {\r\n            'senderid': btn.dataset.senderid,\r\n            'reply': btn.dataset.reply\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(requestBody)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                props.updateNotificationsNumber()\r\n            })\r\n        document.getElementById(`fr-${btn.dataset.senderid}`).remove()\r\n        fetchNotifications()\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header page=\"Notificaes\" />\r\n            <div className=\"content\">\r\n                <div>\r\n                    {invites !== null && unvisualizedPostLikes && visualizedPostLikes !== null && unvisualizedComments !== null && visualizedComments !== null ?\r\n                        <div>\r\n                            {invites.length || unvisualizedPostLikes.length || visualizedPostLikes.length || unvisualizedComments.length || !!visualizedComments.length ?\r\n                                <div className=\"notifications-container\">\r\n                                    {!!invites.length &&\r\n                                        <div>\r\n                                            {invites.map(i => {\r\n                                                return (\r\n                                                    <li\r\n                                                        className=\"friend-request-row\"\r\n                                                        id={`fr-${i.sender.id}`}\r\n                                                        key={i.sender.id}\r\n                                                        onClick={() => window.location.href = `/user/${i.sender.user.username}`}\r\n                                                    >\r\n                                                        <div className=\"friend-request-col\">\r\n                                                            <img src={`${SERVER_URL}${i.sender.photo}`}\r\n                                                                className=\"profile-img-med\"\r\n                                                                style={{ marginRight: '10px' }}\r\n                                                            />\r\n                                                            <div className=\"d-flex flex-column align-items-start\">\r\n                                                                <strong>{i.sender.first_name} {i.sender.last_name}</strong>\r\n                                                                <p className=\"text-secondary\">@{i.sender.user.username}</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"friend-request-col\">\r\n                                                            {i.sender.bio}\r\n                                                        </div>\r\n                                                        <div className=\"friend-request-col\" style={{ justifyContent: 'space-between' }}>\r\n                                                            <button className=\"btn btn-primary btn-reply-fr mr-1\" data-senderid={i.sender.id} data-reply='accept' onClick={replyRequest}>Confirmar</button>\r\n                                                            <button className=\"btn btn-grey btn-reply-fr\" data-senderid={i.sender.id} data-reply='decline' onClick={replyRequest}>Excluir</button>\r\n                                                        </div>\r\n                                                    </li>\r\n                                                )\r\n                                            })}\r\n                                        </div>\r\n                                    }\r\n\r\n                                    {(!!unvisualizedPostLikes.length || !!unvisualizedComments.length) &&\r\n                                        <>\r\n                                            {!!unvisualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {unvisualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <li className=\"notification-row\" key={like.profile.id}>\r\n                                                                <div className=\"d-flex align-items-center\">\r\n                                                                    <i class=\"fas fa-heart notification-like\" />\r\n                                                                    <Link to={`/user/${like.profile.user.username}`}>\r\n                                                                        <img src={`${SERVER_URL}${like.profile.photo}`}\r\n                                                                            className=\"profile-img-sm\"\r\n                                                                            style={{ marginRight: '10px' }}\r\n                                                                        />\r\n                                                                    </Link>\r\n                                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                                        {like.created.split('-').reverse().join('/')}\r\n                                                                    </p>\r\n                                                                    <div className=\"notification-text-container\">\r\n                                                                        <div className=\"notification-text\">\r\n                                                                            novo\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div className=\"notification-message\">\r\n                                                                    <p>\r\n                                                                        <Link to={`/user/${like.profile.user.username}`} style={{ color: \"#000\" }}>\r\n                                                                            @{like.profile.user.username}\r\n                                                                        </Link> curtiu seu post.\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-post-content\">\r\n                                                                    {like.post.content}\r\n                                                                </div>\r\n                                                            </li>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!unvisualizedComments.length &&\r\n                                                <>\r\n                                                    {unvisualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <li className=\"notification-row\" key={comment.author.id}>\r\n                                                                <div className=\"d-flex align-items-center\">\r\n                                                                    <i class=\"fas fa-comment notification-comment\" />\r\n                                                                    <Link to={`/user/${comment.author.user.username}`}>\r\n                                                                        <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                                                                            className=\"profile-img-sm\"\r\n                                                                            style={{ marginRight: '10px' }}\r\n                                                                        />\r\n                                                                    </Link>\r\n                                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                                        {comment.created.split('-').reverse().join('/')}\r\n                                                                    </p>\r\n                                                                    <div className=\"notification-text-container\">\r\n                                                                        <div className=\"notification-text\">\r\n                                                                            novo\r\n                                                                    </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div className=\"notification-message\">\r\n                                                                    <p>\r\n                                                                        <Link to={`/user/${comment.author.user.username}`} style={{ color: \"#000\" }}>\r\n                                                                            @{comment.author.user.username}\r\n                                                                        </Link> comentou seu post.\r\n                                                                </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-comment-container\">\r\n                                                                    <div className=\"notification-comment-content\">\r\n                                                                        {comment.content}\r\n                                                                    </div>\r\n                                                                    <Link to={`/post/${comment.post.id}`}>\r\n                                                                        <button className=\"btn btn-primary\">\r\n                                                                            Ver Post\r\n                                                                        </button>\r\n                                                                    </Link>\r\n                                                                </div>\r\n                                                            </li>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                    {(!!visualizedPostLikes.length || !!visualizedComments.length) &&\r\n                                        <>\r\n                                            {!!visualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {visualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <li className=\"notification-row\" key={like.profile.id}>\r\n                                                                <div className=\"d-flex align-items-center\">\r\n                                                                    <i class=\"fas fa-heart notification-like\" />\r\n                                                                    <Link to={`/user/${like.profile.user.username}`}>\r\n                                                                        <img src={`${SERVER_URL}${like.profile.photo}`}\r\n                                                                            className=\"profile-img-sm\"\r\n                                                                            style={{ marginRight: '10px' }}\r\n                                                                        />\r\n                                                                    </Link>\r\n                                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                                        {like.created.split('-').reverse().join('/')}\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-message\">\r\n                                                                    <p>\r\n                                                                        <Link to={`/user/${like.profile.user.username}`} style={{ color: \"#000\" }}>\r\n                                                                            @{like.profile.user.username}\r\n                                                                        </Link> curtiu seu post.\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-post-content\">\r\n                                                                    {like.post.content}\r\n                                                                </div>\r\n                                                            </li>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!visualizedComments.length &&\r\n                                                <>\r\n                                                    {visualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <li className=\"notification-row\" key={comment.author.id}>\r\n                                                                <div className=\"d-flex align-items-center\">\r\n                                                                    <i class=\"fas fa-comment notification-comment\" />\r\n                                                                    <Link to={`/user/${comment.author.user.username}`}>\r\n                                                                        <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                                                                            className=\"profile-img-sm\"\r\n                                                                            style={{ marginRight: '10px' }}\r\n                                                                        />\r\n                                                                    </Link>\r\n                                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                                        {comment.created.split('-').reverse().join('/')}\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-message\">\r\n                                                                    <p>\r\n                                                                        <Link to={`/user/${comment.author.user.username}`} style={{ color: \"#000\" }}>\r\n                                                                            @{comment.author.user.username}\r\n                                                                        </Link> comentou seu post.\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-comment-container\">\r\n                                                                    <div className=\"notification-comment-content\">\r\n                                                                        {comment.content}\r\n                                                                    </div>\r\n                                                                    <Link to={`/post/${comment.post.id}`}>\r\n                                                                        <button className=\"btn btn-primary\">\r\n                                                                            Ver Post\r\n                                                                        </button>\r\n                                                                    </Link>\r\n                                                                </div>\r\n                                                            </li>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                </div> :\r\n                                <div className=\"no-notifications-container\">\r\n                                    <h3>Voc no tem nenhuma notificao</h3>\r\n                                </div>\r\n                            }\r\n\r\n\r\n                        </div> :\r\n                        <div className=\"notifications-loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { SOCKET_URL } from '../../settings'\r\n\r\nclass WebSocketService {\r\n  static instance = null;\r\n  callbacks = {};\r\n\r\n  static getInstance() {\r\n    if (!WebSocketService.instance) {\r\n      WebSocketService.instance = new WebSocketService();\r\n    }\r\n    return WebSocketService.instance;\r\n  }\r\n\r\n  constructor() {\r\n    this.socketRef = null;\r\n  }\r\n\r\n  connect(chatUrl) {\r\n    const path = `${SOCKET_URL}/ws/chat/${chatUrl}/`;\r\n    this.socketRef = new WebSocket(path);\r\n    this.socketRef.onopen = () => {\r\n      console.log(\"WebSocket open\");\r\n    };\r\n    this.socketNewMessage(JSON.stringify({\r\n      command: 'messages'\r\n    }))\r\n    this.socketRef.onmessage = e => {\r\n      this.socketNewMessage(e.data);\r\n    };\r\n    this.socketRef.onerror = e => {\r\n      console.log(e.message);\r\n    };\r\n    this.socketRef.onclose = () => {\r\n      console.log(\"WebSocket closed\");\r\n    };\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socketRef) this.socketRef.close();\r\n  }\r\n\r\n  socketNewMessage(data) {\r\n    const parsedData = JSON.parse(data);\r\n    const command = parsedData.command;\r\n    if (Object.keys(this.callbacks).length === 0) {\r\n      return;\r\n    }\r\n    if (command === \"messages\") {\r\n      this.callbacks[command](parsedData.messages);\r\n    }\r\n    if (command === \"new_message\") {\r\n      this.callbacks[command](parsedData.message);\r\n    }\r\n  }\r\n\r\n  fetchMessages(username, chatId) {\r\n    this.sendMessage({\r\n      command: \"fetch_messages\",\r\n      username: username,\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  newChatMessage(message) {\r\n    this.sendMessage({\r\n      command: \"new_message\",\r\n      from: message.from,\r\n      content: message.content,\r\n      chatId: message.chatId\r\n    });\r\n  }\r\n\r\n  readMessages(chatId) {\r\n    this.sendMessage({\r\n      command: \"read_messages\",\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  addCallbacks(messagesCallback, newMessageCallback) {\r\n    this.callbacks[\"messages\"] = messagesCallback\r\n    this.callbacks[\"new_message\"] = newMessageCallback\r\n    this.callbacks[\"updated_messages\"] = newMessageCallback\r\n  }\r\n\r\n  sendMessage(data) {\r\n    try {\r\n      this.socketRef.send(JSON.stringify({ ...data }));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  }\r\n\r\n  state() {\r\n    return this.socketRef ? this.socketRef.readyState : 0\r\n  }\r\n}\r\n\r\nconst WebSocketInstance = WebSocketService.getInstance();\r\n\r\nexport default WebSocketInstance;","import React from 'react'\r\nimport Picker from 'emoji-picker-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { csrftoken, openCloseEmojiList } from '../../utils'\r\nimport { SERVER_URL } from '../../settings'\r\nimport WebSocketInstance from './websocket'\r\n\r\nclass Chat extends React.Component {\r\n    initialiseChat() {\r\n        this.waitForSocketConnection(() => {\r\n            WebSocketInstance.addCallbacks(\r\n                this.getMessages.bind(this),\r\n                this.addMessage.bind(this),\r\n                this.getUpdatedMessages.bind(this)\r\n            )\r\n            WebSocketInstance.fetchMessages(\r\n                this.props.username,\r\n                this.props.chatId\r\n            );\r\n        });\r\n        if (this.props.chatId) WebSocketInstance.connect(this.props.chatId)\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            message: '',\r\n            messages: [],\r\n            myProfile: null,\r\n            otherUsername: this.props.otherUsername,\r\n            otherProfile: null\r\n        }\r\n        this.initialiseChat();\r\n    }\r\n\r\n    handleComponentChange = () => {\r\n        this.scrollToBottom();\r\n        if (this.state.otherUsername && (!this.state.otherProfile || this.state.otherProfile.user.username !== this.state.otherUsername)) {\r\n            fetch(`${SERVER_URL}/profile-api/user/${this.state.otherUsername}`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({\r\n                    otherProfile: data\r\n                }))\r\n        }\r\n        if (!this.state.myProfile) {\r\n            fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({ myProfile: data }))\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n        document.querySelector('#chat-message-input') && document.querySelector('#chat-message-input').focus()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        WebSocketInstance.disconnect()\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (this.props.chatId !== newProps.chatId) {\r\n            WebSocketInstance.disconnect();\r\n            this.waitForSocketConnection(() => {\r\n                WebSocketInstance.fetchMessages(\r\n                    this.props.username,\r\n                    newProps.chatId\r\n                );\r\n            });\r\n            WebSocketInstance.connect(newProps.chatId);\r\n\r\n            this.props.updateMessagesComponent()\r\n            this.setState({\r\n                message: '',\r\n                otherUsername: newProps.otherUsername\r\n            })\r\n        }\r\n        if (newProps.chatId) {\r\n            this.readMessages(newProps)\r\n        }\r\n        if (this.props.updateUnreadMessagesNumber) {\r\n            this.props.updateUnreadMessagesNumber()\r\n        }\r\n    }\r\n\r\n    readMessages = props => {\r\n        fetch(`${SERVER_URL}/chat-api/read-messages`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({ chat_id: props.chatId })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                WebSocketInstance.readMessages(this.props.chatId)\r\n            })\r\n    }\r\n\r\n    waitForSocketConnection(callback) {\r\n        const component = this;\r\n        setTimeout(function () {\r\n            if (WebSocketInstance.state() === 1) {\r\n                console.log(\"Connection is made\");\r\n                callback();\r\n                return;\r\n            } else {\r\n                console.log(\"wait for connection...\");\r\n                component.waitForSocketConnection(callback);\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    getMessages(messages) {\r\n        this.setState({ messages: messages.reverse() })\r\n    }\r\n\r\n    addMessage(message) {\r\n        this.setState({ messages: [...this.state.messages, message] })\r\n        this.readMessages(this.props)\r\n    }\r\n\r\n    getUpdatedMessages(messages) {\r\n        this.setState({ messages: messages.reverse() })\r\n    }\r\n\r\n    messageChangeHandler = e => {\r\n        this.setState({ message: e.target.value })\r\n        const el = document.querySelector('#chat-message-submit')\r\n        el.disabled = e.target.value.trim() === ''\r\n    };\r\n\r\n    sendMessageHandler = e => {\r\n        e.preventDefault()\r\n        const messageObject = {\r\n            from: this.props.username,\r\n            content: this.state.message,\r\n            chatId: this.props.chatId\r\n        };\r\n        this.setState({ message: '' })\r\n        if (this.state.otherProfile.blocked_users.map(u => u.id).includes(this.state.myProfile.user.id)) {\r\n            window.alert(`Voc no pode enviar mensagens para @${this.state.otherUsername}.\r\n            ${this.state.otherProfile.first_name} te bloqueou.`)\r\n            return\r\n        }\r\n        if (this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.otherProfile.user.id)) {\r\n            window.alert(`Voc no pode enviar mensagens para @${this.state.otherUsername}.\r\n            Voc bloqueou ${this.state.otherProfile.first_name}.`)\r\n            return\r\n        }\r\n        WebSocketInstance.newChatMessage(messageObject)\r\n        document.querySelector('#chat-message-submit').disabled = true\r\n        openCloseEmojiList(true)\r\n        this.props.updateMessagesComponent()\r\n    };\r\n\r\n    renderTimestamp = timestamp => {\r\n        const ts = new Date(timestamp)\r\n        const day = ts.getDate() >= 10 ? ts.getDate() : `0${ts.getDate()}`\r\n        const month = ts.getMonth() >= 10 ? ts.getMonth() : `0${ts.getMonth()}`\r\n        const hour = ts.getHours() >= 10 ? ts.getHours() : `0${ts.getHours()}`\r\n        const minute = ts.getMinutes() >= 10 ? ts.getMinutes() : `0${ts.getMinutes()}`\r\n        return `${day}/${month}/${ts.getFullYear()} - ${hour}:${minute}`\r\n    };\r\n\r\n    renderMessages = messages => {\r\n        const currentUser = this.props.username;\r\n        return messages.map(message => (\r\n            <li\r\n                key={message.id}\r\n                className={message.author === currentUser ? \"sent\" : \"received\"}\r\n            >\r\n                <p>\r\n                    {message.content}\r\n                    <br />\r\n                    <small>\r\n                        {this.renderTimestamp(message.timestamp)} {message.author === currentUser ?\r\n                            message.read ?\r\n                                <i class=\"fas fa-check-double\" />\r\n                                :\r\n                                <i class=\"fas fa-check\" />\r\n                            :\r\n                            ''\r\n                        }\r\n                    </small>\r\n                </p>\r\n            </li>\r\n        ));\r\n    };\r\n\r\n    scrollToBottom = () => {\r\n        if (document.querySelector('#chat-log')) {\r\n            const chatLog = document.querySelector('#chat-log')\r\n            chatLog.scrollTop = chatLog.scrollHeight\r\n        }\r\n    };\r\n\r\n    onEmojiSelect = (event, emojiObject) => {\r\n        this.setState({ message: this.state.message + emojiObject.emoji })\r\n        document.querySelector('#chat-message-submit').disabled = false\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.state.otherProfile !== null || !this.props.otherUsername ?\r\n                    <>\r\n                        {this.state.otherProfile ?\r\n                            <div className=\"d-flex flex-column justify-content-between align-items-center current-chat\">\r\n                                <div className=\"current-chat-header\">\r\n                                    <Link to={`/user/${this.state.otherProfile.user.username}`}>\r\n                                        <img src={`${SERVER_URL}${this.state.otherProfile.photo}`}\r\n                                            className=\"profile-img-sm\"\r\n                                            style={{ marginRight: '5px' }}\r\n                                        />\r\n                                    </Link>\r\n                                    <div className=\"d-flex flex-column align-items-start\" style={{ height: '52px' }}>\r\n                                        <strong>{this.state.otherProfile.first_name} {this.state.otherProfile.last_name}</strong>\r\n                                        <p className=\"text-secondary\">@{this.state.otherProfile.user.username}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"chat-log\">\r\n                                    {this.state.messages ? this.renderMessages(this.state.messages) : ''}\r\n                                </div>\r\n                                <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                                    <Picker onEmojiClick={this.onEmojiSelect} />\r\n                                </div>\r\n                                <form className=\"send-message-container\" onSubmit={this.sendMessageHandler}>\r\n                                    <label\r\n                                        className=\"far fa-smile\"\r\n                                        id=\"emoji-button\"\r\n                                        onClick={() => openCloseEmojiList(false)}\r\n                                    />\r\n                                    <input\r\n                                        placeholder=\"Mensagem\"\r\n                                        className=\"message-input\"\r\n                                        id=\"chat-message-input\"\r\n                                        value={this.state.message}\r\n                                        autoFocus={document.querySelector('#contact-filter-input').value === ''}\r\n                                        onChange={this.messageChangeHandler}\r\n                                    />\r\n                                    <button\r\n                                        className=\"btn btn-primary chat-message-submit\"\r\n                                        id=\"chat-message-submit\"\r\n                                        disabled\r\n                                    >\r\n                                        <i class=\"fas fa-chevron-right\" />\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                            :\r\n                            <div className=\"d-flex flex-column justify-content-center align-items-center current-chat\">\r\n                                <div>\r\n                                    <strong style={{ fontSize: 'larger' }}>Voc no tem uma conversa selecionada</strong>\r\n                                    <p className=\"text-secondary\">Selecione uma existente ou comece uma nova</p>\r\n                                    <button className=\"btn btn-primary\" onClick={() => this.props.openModal()}>Nova conversa</button>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"chat-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Chat\r\n","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport Chat from './chat'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nclass Messages extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            username: null,\r\n            chatId: null,\r\n            activeChats: null,\r\n            activeChatsProfiles: null,\r\n            addingNewChat: false,\r\n            modalProfiles: [],\r\n        }\r\n        this.rerenderingInterval = null\r\n    }\r\n\r\n    handleReceiveProps = props => {\r\n        const participants = { username: this.state.username, other_username: props.match.params.user.username }\r\n        fetch(`${SERVER_URL}/chat-api/chat-id/${JSON.stringify(participants)}`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                chatId: data['chat_id']\r\n            }))\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps === this.props) return\r\n        this.handleReceiveProps(newProps)\r\n    }\r\n\r\n    handleComponentChange() {\r\n        if (!this.state.username) {\r\n            fetch(`${SERVER_URL}/profile-api/logged-user`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({\r\n                        username: data.username\r\n                    })\r\n                    if (this.props.match.params.user.username) {\r\n                        this.handleReceiveProps(this.props)\r\n                    }\r\n                })\r\n        }\r\n        if (!this.state.activeChatsProfiles && this.state.activeChatsProfiles !== []) {\r\n            this.fetchActiveChatProfiles()\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.title = 'Mensagens / Napker'\r\n        this.handleComponentChange()\r\n        this.rerenderingInterval = window.setInterval(this.fetchActiveChatProfiles, 3000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.clearInterval(this.rerenderingInterval)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n    fetchActiveChatProfiles = () => {\r\n        console.log('fetching profiles...')\r\n        fetch(`${SERVER_URL}/chat-api/active-chats-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!this.state.username) return\r\n                this.setState({\r\n                    activeChats: data.chats.reverse(),\r\n                    activeChatsProfiles: data.profiles.reverse()\r\n                })\r\n            })\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({\r\n            addingNewChat: true\r\n        })\r\n    }\r\n\r\n    setModalSearch = query => {\r\n        if (query === '') {\r\n            this.setState({\r\n                modalProfiles: []\r\n            })\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/users/${query}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    modalProfiles: data\r\n                })\r\n            })\r\n    }\r\n\r\n    setContactSearch = query => {\r\n        if (query === '') {\r\n            this.fetchActiveChatProfiles()\r\n            return\r\n        }\r\n        if (this.state.activeChatsProfiles) {\r\n            const filteredProfiles = this.state.activeChatsProfiles.filter(p => p.user.username.includes(query))\r\n            this.setState({\r\n                activeChatsProfiles: filteredProfiles\r\n            })\r\n        }\r\n    }\r\n\r\n    resetUnreadMessagesCounter = () => {\r\n        this.unreadMessagesCounter = 0\r\n    }\r\n\r\n    incrementUnreadMessagesCounter = () => {\r\n        this.unreadMessagesCounter++\r\n    }\r\n\r\n    setLastChatMessage = message => {\r\n        this.lastChatMessage = message\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page=\"Mensagens\" />\r\n                <div className=\"content d-flex messages-wrapper\">\r\n                    <Modal show={this.state.addingNewChat}\r\n                        onHide={() => this.setState({ addingNewChat: false })}\r\n                        size=\"lg\">\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title><strong>Nova conversa</strong></Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body style={{ padding: '0' }}>\r\n                            <input className=\"modal-search-input\"\r\n                                placeholder=\"Pesquisar pessoas\"\r\n                                onChange={e => this.setModalSearch(e.target.value)}\r\n                            />\r\n                            <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                                {this.state.modalProfiles && this.state.modalProfiles.map(profile => {\r\n                                    return (\r\n                                        <Link to={`/mensagens/${profile.user.username}`}\r\n                                            style={{ color: '#000', textDecoration: 'none' }}\r\n                                            onClick={() => this.setState({\r\n                                                addingNewChat: false\r\n                                            })}\r\n                                        >\r\n                                            <li className=\"list-group-item profile-row modal-profile-li\" key={profile.id}>\r\n                                                <div className=\"d-flex justify-content-between\">\r\n                                                    <div className=\"profile-col\">\r\n                                                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                            className=\"profile-img-med\"\r\n                                                            style={{ marginRight: '10px' }}\r\n                                                        />\r\n                                                        <div className=\"main-profile-data\">\r\n                                                            <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                            <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"profile-col\">\r\n                                                        {profile.bio}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </li>\r\n                                        </Link>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        </Modal.Body>\r\n                    </Modal>\r\n                    <div className=\"d-flex flex-column chats-list\">\r\n                        <div className=\"search-input-container\">\r\n                            <input className=\"search-input\" id=\"contact-filter-input\" placeholder=\"Pesquisar pessoas\" onChange={e => this.setContactSearch(e.target.value)} />\r\n                            <i className=\"fas fa-plus add-icon\" onClick={this.openModal}></i>\r\n                        </div>\r\n                        <div className=\"list-group chats-container\">\r\n                            {this.state.activeChatsProfiles !== null ?\r\n                                this.state.activeChatsProfiles.map(profile => {\r\n                                    return (\r\n                                        <Link to={`/mensagens/${profile.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                            {this.resetUnreadMessagesCounter()}\r\n                                            <li className=\"list-item profile-chat-item\" style={{ whiteSpace: 'nowrap' }}>\r\n                                                <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                    className=\"profile-img-med\"\r\n                                                    style={{ marginRight: '10px' }}\r\n                                                />\r\n                                                <div className=\"d-flex flex-column align-items-start\">\r\n                                                    <div className=\"d-flex\" style={{ maxHeight: '30px' }}>\r\n                                                        <strong style={{ height: 'fit-content' }}>{profile.first_name} {profile.last_name}</strong>\r\n                                                        {this.state.activeChats[this.state.activeChatsProfiles.indexOf(profile)].messages.map(message => {\r\n                                                            const messages = this.state.activeChats[this.state.activeChatsProfiles.indexOf(profile)].messages\r\n                                                            if (messages[messages.length - 1] === message) this.setLastChatMessage(message.content)\r\n                                                            if (message.read || message.contact.user.username !== profile.user.username) return\r\n                                                            this.incrementUnreadMessagesCounter()\r\n                                                        })}\r\n                                                        {this.unreadMessagesCounter ?\r\n                                                            <div className=\"notification-text-container\">\r\n                                                                <div className=\"notification-text\">\r\n                                                                    {this.unreadMessagesCounter}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            : ''\r\n                                                        }\r\n                                                        <p className=\"text-secondary\" style={{ marginLeft: '5px' }}>@{profile.user.username}</p>\r\n                                                    </div>\r\n                                                    <p className=\"text-secondary\">{this.lastChatMessage.slice(0, 40)}</p>\r\n                                                </div>\r\n                                            </li>\r\n                                        </Link>\r\n                                    )\r\n                                }) :\r\n                                <div className=\"messages-loader-container\">\r\n                                    <div className=\"loader\" />\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <Chat username={this.state.username}\r\n                        otherUsername={this.props.match.params.user.username}\r\n                        chatId={this.state.chatId}\r\n                        openModal={this.openModal}\r\n                        updateUnreadMessagesNumber={this.props.updateUnreadMessagesNumber}\r\n                        updateMessagesComponent={this.fetchActiveChatProfiles}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Messages","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport LikesModal from '../../components/LikesModal'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken } from '../../utils'\r\n\r\nexport default function Posts(props) {\r\n    const [myprofile, setMyProfile] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n    const profile = props.profile\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const likeUnlikePost = e => {\r\n        e.stopPropagation()\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.fetchProfile()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.fetchProfile()\r\n                })\r\n        }\r\n    }\r\n\r\n    const hideLikesModal = () => {\r\n        setLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    const deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ao  irreversvel.')) {\r\n            el.style.animationPlayState = 'running'\r\n            el.addEventListener('animationend', () => {\r\n                props.fetchProfile()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={hideLikesModal}\r\n            />\r\n            <div className=\"post-list\">\r\n                {profile && myprofile ?\r\n                    <>\r\n                        {profile.posts.length ? profile.posts.map(post => {\r\n                            return (\r\n                                <li\r\n                                    className=\"post-container post-list-item\"\r\n                                    key={post.id}\r\n                                    id={`profile-post-${post.id}`}\r\n                                    onClick={() => window.location.href = `/post/${post.id}`}\r\n                                >\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div className=\"post-row\">\r\n                                            <div className=\"post-col\">\r\n                                                <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                    className=\"profile-img-med\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"post-col\">\r\n                                                <div style={{ height: '30px' }}>\r\n                                                    <strong>{profile.first_name} {profile.last_name} </strong>\r\n                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                        @{profile.user.username}  {post.created.split('-').reverse().join('/')}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div style={{ textAlign: 'start' }}>\r\n                                                    {post.content}\r\n                                                </div>\r\n                                                {post.image &&\r\n                                                    <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                        {profile.id == myprofile.id &&\r\n                                            <i\r\n                                                className=\"far fa-trash-alt trash-icon text-secondary\"\r\n                                                style={{ margin: '20px 20px 0 0' }}\r\n                                                onClick={e => deletePost(e, post.id)}\r\n                                            />}\r\n                                    </div>\r\n                                    <div className=\"post-actions\">\r\n                                        <p className=\"text-secondary\">\r\n                                            <Link\r\n                                                to={`/post/${post.id}/comment`}\r\n                                                className=\"text-secondary\"\r\n                                                onClick={e => e.stopPropagation()}\r\n                                            >\r\n                                                <i class=\"far fa-comment\" />\r\n                                            </Link>{post.comments.length}\r\n                                            {post.likes.map(like => like.profile.id).includes(myprofile.id) ?\r\n                                                <i class=\"fas fa-heart\"\r\n                                                    data-postid={post.id}\r\n                                                    onClick={likeUnlikePost}\r\n                                                />\r\n                                                :\r\n                                                <i class=\"far fa-heart\"\r\n                                                    data-postid={post.id}\r\n                                                    onClick={likeUnlikePost}\r\n                                                />}\r\n                                            <p className=\"post-likes-number\"\r\n                                                onClick={e => {\r\n                                                    e.stopPropagation()\r\n                                                    setLikesModal({ isOpen: true, likes: post.likes })\r\n                                                }\r\n                                                }\r\n                                            >\r\n                                                {post.likes.length}\r\n                                            </p>\r\n                                        </p>\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        }) :\r\n                            <div className=\"no-posts-container\">\r\n                                {profile.id === myprofile.id ?\r\n                                    <h3 style={{ marginTop: '50px' }}>Voc no tem posts</h3>\r\n                                    :\r\n                                    <h3 style={{ marginTop: '50px' }}>{profile.first_name} no tem posts</h3>\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"posts-loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Interests(props) {\r\n    const profile = props.profile\r\n\r\n    return (\r\n        <div className=\"interests-page-container\">\r\n            <h3>Interesses pblicos de {profile.first_name}</h3>\r\n            <div>\r\n                {profile && profile.interests.filter(i => i.public).map(interest => {\r\n                    return (\r\n                        <>\r\n                            {interest.title &&\r\n                                <>\r\n                                    <hr />\r\n                                    <li className=\"interest-item\">\r\n                                        {interest.title[0].toUpperCase() + interest.title.slice(1)}\r\n                                        <Link to={`/interesses/${interest.title}`}>\r\n                                            <button className=\"btn-secondary\" style={{ padding: '5px' }}>Pesquisar usurios</button>\r\n                                        </Link>\r\n                                    </li>\r\n                                </>\r\n                            }\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport Header from '../components/main/header'\r\nimport Posts from './profile-components/posts'\r\nimport Interests from './profile-components/interests'\r\nimport { SERVER_URL } from '../settings'\r\nimport { csrftoken, openCloseEmojiList } from '../utils'\r\n\r\nexport default function MyProfile() {\r\n    const [profile, setProfile] = useState(null)\r\n    const [profileImagePreview, setProfileImagePreview] = useState(null)\r\n    const [isEditing, setIsEditing] = useState(false)\r\n    const [editingBioContent, setEditingBioContent] = useState('')\r\n    const [currentPageIsPosts, setCurrentPageIsPosts] = useState(true)\r\n\r\n    document.title = 'Perfil / Napker'\r\n\r\n    useEffect(() => {\r\n        fetchProfile()\r\n    }, [])\r\n\r\n    const fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setProfile(data)\r\n                setProfileImagePreview(`${SERVER_URL}${data.photo}`)\r\n            })\r\n    }\r\n\r\n    const switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            setCurrentPageIsPosts(true)\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            setCurrentPageIsPosts(false)\r\n        }\r\n    }\r\n\r\n    const handleProfileImageChange = e => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                setProfileImagePreview(reader.result)\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const handleUsernameChange = e => {\r\n        if (e.target.value.trim() !== '') {\r\n            fetch(`${SERVER_URL}/profile-api/user/${e.target.value}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.bool !== 'false' && data.id !== profile.id) {\r\n                        document.querySelector('#username-taken').style.display = 'initial'\r\n                    } else {\r\n                        document.querySelector('#username-taken').style.display = 'none'\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setEditingBioContent(editingBioContent + emojiObject.emoji)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Perfil\" />\r\n            <div className=\"content\">\r\n                {profile ?\r\n                    <>\r\n                        <Modal show={isEditing}\r\n                            onHide={() => setIsEditing(false)}\r\n                            size=\"lg\">\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>Editar perfil</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                <form\r\n                                    action={`${SERVER_URL}/update-profile`}\r\n                                    className=\"d-flex flex-column justify-content-center\"\r\n                                    id=\"update-profile-form\"\r\n                                    method=\"POST\"\r\n                                    encType=\"multipart/form-data\"\r\n                                >\r\n                                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                                    <div className=\"d-flex flex-column justify-content-center align-items-center mb-10px\">\r\n                                        <img src={profileImagePreview}\r\n                                            className=\"profile-img-big\"\r\n                                            style={{ marginBottom: '25px' }}\r\n                                        />\r\n                                        <input\r\n                                            type=\"file\"\r\n                                            accept=\"image/png, image/jpg, image/jpeg\"\r\n                                            name=\"profile-photo\"\r\n                                            onChange={handleProfileImageChange}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"d-flex justify-content-center\">\r\n                                        Email: {profile.email}\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"first-name\" className=\"profile-field-label\">Nome:</label>\r\n                                        <input className=\"profile-field-input\" type=\"text\" name=\"first-name\" id=\"first-name\" placeholder={profile.first_name} />\r\n                                    </div>\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"last-name\" className=\"profile-field-label\">Sobrenome:</label>\r\n                                        <input className=\"profile-field-input\" type=\"text\" name=\"last-name\" id=\"last-name\" placeholder={profile.last_name} />\r\n                                    </div>\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"username\" className=\"profile-field-label\">Nome de usurio:</label>\r\n                                        <input\r\n                                            className=\"profile-field-input\"\r\n                                            type=\"text\"\r\n                                            name=\"username\"\r\n                                            id=\"username\"\r\n                                            placeholder={profile.user.username}\r\n                                            onChange={handleUsernameChange}\r\n                                        />\r\n                                    </div>\r\n                                    <div\r\n                                        id=\"username-taken\"\r\n                                        style={{ display: 'none', width: '100%', textAlign: 'center', padding: '3px' }}\r\n                                    >\r\n                                        <span>Nome de usurio j existe</span>\r\n                                    </div>\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"birth-date\" className=\"profile-field-label\">Data de nascimento:</label>\r\n                                        <input className=\"profile-field-input\" type=\"date\" name=\"birth-date\" id=\"birth-date\" defaultValue={profile.birth_date} />\r\n                                    </div>\r\n                                    <div className=\"emoji-list-container bio-emoji-list\" id=\"emoji-list-container\">\r\n                                        <Picker onEmojiClick={onEmojiSelect} />\r\n                                    </div>\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"bio\" className=\"profile-field-label\">Bio:</label>\r\n                                        <div className=\"email-input-container\">\r\n                                            <input\r\n                                                className=\"profile-field-input-email\"\r\n                                                type=\"email\"\r\n                                                name=\"bio\"\r\n                                                id=\"bio\"\r\n                                                value={editingBioContent}\r\n                                                placeholder={profile.bio}\r\n                                                onChange={e => setEditingBioContent(e.target.value)}\r\n                                            />\r\n                                            <label\r\n                                                className=\"far fa-smile\"\r\n                                                id=\"emoji-button\"\r\n                                                onClick={() => openCloseEmojiList(false)}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                                <button className=\"btn btn-grey\" onClick={() => setIsEditing(false)}>Fechar</button>\r\n                                <button className=\"btn btn-primary\" onClick={() => document.querySelector('form#update-profile-form').submit()}>Salvar</button>\r\n                            </Modal.Footer>\r\n                        </Modal>\r\n                        <div className=\"profile-data-container\">\r\n                            <div className=\"d-flex flex-column align-items-start\">\r\n                                <p style={{ padding: '15px' }}>\r\n                                    <img src={`${SERVER_URL}${profile.photo}`}\r\n                                        className=\"profile-img-big\"\r\n                                        style={{ marginBottom: '25px' }}\r\n                                    />\r\n                                </p>\r\n                                <p style={{ marginBottom: 0 }}><strong>{profile.first_name} {profile.last_name}</strong></p>\r\n                                <p className=\"text-secondary\" style={{ marginTop: 0 }}>@{profile.user.username}</p>\r\n                                <p>{profile.bio}</p>\r\n                                <p className=\"text-secondary\">\r\n                                    <i className=\"far fa-calendar-alt\"></i> Entrou em {profile.created.split('-').reverse().join('/')}\r\n                                </p>\r\n                                <p>\r\n                                    <Link to={`/user/${profile.user.username}/amigos`} style={{ color: '#000' }}>\r\n                                        <strong>{profile.friends.length}</strong> {profile.friends.length === 1 ? 'amigo' : 'amigos'}\r\n                                    </Link>\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"d-flex flex-column\">\r\n                                <button\r\n                                    className=\"btn btn-secondary\"\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditing(true)}\r\n                                    style={{ marginBottom: '10px' }}\r\n                                >\r\n                                    Editar perfil\r\n                        </button>\r\n                                <Link to='/perfil/meus-interesses'>\r\n                                    <button className=\"btn btn-secondary\">Editar interesses</button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-page-menu\">\r\n                            <div\r\n                                className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                id=\"profile-posts-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Posts ({profile.posts.length})\r\n                            </div>\r\n                            <div\r\n                                className=\"profile-page-menu-item\"\r\n                                id=\"profile-interests-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Interesses ({profile.interests.filter(i => i.public).length})\r\n                            </div>\r\n                        </div>\r\n                        {currentPageIsPosts ?\r\n                            <Posts profile={profile} fetchProfile={fetchProfile} /> :\r\n                            <Interests profile={profile} />\r\n                        }\r\n                    </> :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function BlockUser() {\r\n    const [blockedProfiles, setBlockedProfiles] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/get-blocked-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => setBlockedProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            {blockedProfiles !== null ?\r\n                <>\r\n                    {!!blockedProfiles.length ?\r\n                        <div className=\"blocked-profiles-list\">\r\n                            <div className=\"blocked-profiles-title\">\r\n                                <h4>\r\n                                    Voc possui {blockedProfiles.length} {blockedProfiles.length === 1 ? 'perfil bloqueado' : 'perfis bloqueados'}\r\n                                </h4>\r\n                            </div>\r\n                            {blockedProfiles.map(profile => {\r\n                                return (\r\n                                    <Link to={`/user/${profile.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                        <li className=\"list-group-item profile-row filtered-profile blocked-profile\" key={profile.id}>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <div className=\"profile-col\">\r\n                                                    <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                        className=\"profile-img-med\"\r\n                                                        style={{ marginRight: '10px' }}\r\n                                                    />\r\n                                                    <div className=\"main-profile-data\">\r\n                                                        <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                        <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"profile-col\">\r\n                                                    {profile.bio}\r\n                                                </div>\r\n                                                <div className=\"profile-col\">\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                    </Link>\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                        :\r\n                        <div className=\"no-blocked-profiles\">\r\n                            <h3>Voc no possui perfis bloqueados</h3>\r\n                        </div>\r\n                    }\r\n                </>\r\n                :\r\n                <div className=\"settings-loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../utils'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function ChangePassword() {\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [successMessage, setSuccessMessage] = useState(null)\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n        let password = document.querySelector('#password').value\r\n        let newPassword = document.querySelector('#new_password').value\r\n        let newPasswordc = document.querySelector('#new_passwordc').value\r\n        for (let input of document.querySelectorAll('form > input')) {\r\n            if (!input.value) {\r\n                alert('Todos os campos devem ser preenchidos!')\r\n                return\r\n            }\r\n        }\r\n        if (newPassword !== newPasswordc) {\r\n            setErrorMessage('Os campos \"Nova senha\" e \"Confirmar nova senha\" devem ter o mesmo valor!')\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/change-password`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                password: password,\r\n                new_password: newPassword,\r\n                new_passwordc: newPasswordc,\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'success') {\r\n                    setSuccessMessage('Senha alterada com successo!')\r\n                    password = newPassword = newPasswordc = ''\r\n                } else {\r\n                    setErrorMessage(data)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            {errorMessage &&\r\n                <div class=\"alert alert-danger alert\" role=\"alert\">\r\n                    {errorMessage}\r\n                </div>\r\n            }\r\n            {successMessage &&\r\n                <div class=\"alert alert-success alert\" role=\"alert\">\r\n                    {successMessage}\r\n                </div>\r\n            }\r\n            <div className=\"change-password-title-container\">\r\n                <h3>Alterar senha</h3>\r\n            </div>\r\n            <hr />\r\n            <form className=\"change-password-form\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha atual\" autoFocus />\r\n                <br />\r\n                <a href=\"#\">Esqueceu sua senha?</a>\r\n                <hr />\r\n                <br />\r\n                <input id=\"new_password\" type=\"password\" placeholder=\"Nova senha\" />\r\n                <br />\r\n                <input id=\"new_passwordc\" type=\"password\" placeholder=\"Confirmar nova senha\" />\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-primary\"\r\n                    type=\"submit\"\r\n                    onClick={handleFormSubmit}\r\n                >Confirmar</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../utils'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function DeleteAccount() {\r\n    const [displayErrorMessage, setDisplayErrorMessage] = useState(null)\r\n\r\n    const deleteAccount = () => {\r\n        if (window.confirm('Tem certeza que deseja deletar a sua conta ?\\nEsta ao  irreversvel?')) {\r\n            const password = document.querySelector('#password').value\r\n            if (!password) {\r\n                window.alert('A senha no pode ficar em branco!')\r\n            } else {\r\n                fetch(`${SERVER_URL}/delete-account`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify({\r\n                        password: password\r\n                    })\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data === 'Wrong password') {\r\n                            setDisplayErrorMessage(true)\r\n                        } else {\r\n                            window.alert('Conta deletada com sucesso.')\r\n                            window.location.href = SERVER_URL\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            {displayErrorMessage &&\r\n                <div className=\"alert\">\r\n                    <div className=\"alert alert-danger\" role=\"alert\">Senha incorreta!</div>\r\n                </div>\r\n            }\r\n            <div className=\"delete-account-title-container\">\r\n                <h3>Deletar conta</h3>\r\n            </div>\r\n            <hr />\r\n            <div className=\"delete-account-confirmation\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha\" autoFocus />\r\n                <hr />\r\n                <br />\r\n                Tem certeza que deseja apagar a sua conta ?\r\n                <br />\r\n                Esta ao  irreversvel\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={deleteAccount}\r\n                >Deletar conta</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport BlockedProfiles from './blockedProfiles'\r\nimport ChangePassword from './changePassword'\r\nimport DeleteAccount from './deleteAccount'\r\n\r\nexport default function Settings(props) {\r\n    if (!props.page) props.page = 'blocked-profiles'\r\n\r\n    document.title = 'Configuraes / Napker'\r\n\r\n    useEffect(() => {\r\n        document.getElementById(props.page).classList.add('active')\r\n    }, [])\r\n\r\n    const pageChange = page => {\r\n        document.querySelectorAll('.active').forEach(el => {\r\n            el.classList.remove('active')\r\n        })\r\n        document.getElementById(page).classList.add('active')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Configuraes\" />\r\n            <div className=\"content\">\r\n                <div className=\"settings-page-container\">\r\n                    <div className=\"settings-page-menu\">\r\n                        <Link to=\"/configuraes/perfis-bloqueados\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                            <li id=\"blocked-profiles\" onClick={() => pageChange('blocked-profiles')}>\r\n                                Perfis bloqueados\r\n                            <i className=\"fas fa-angle-right\"></i>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/configuraes/alterar-senha\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                            <li id=\"change-password\" onClick={() => pageChange('change-password')}>\r\n                                Alterar senha\r\n                            <i className=\"fas fa-angle-right\"></i>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/configuraes/deletar-conta\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                            <li id=\"delete-account\" onClick={() => pageChange('delete-account')}>\r\n                                Apagar conta\r\n                            <i className=\"fas fa-angle-right\"></i>\r\n                            </li>\r\n                        </Link>\r\n                    </div>\r\n                    {props.page === 'blocked-profiles' ?\r\n                        <BlockedProfiles />\r\n                        :\r\n                        <>\r\n                            {props.page === 'change-password' ?\r\n                                <ChangePassword />\r\n                                :\r\n                                <DeleteAccount />\r\n                            }\r\n                        </>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport Posts from '../profile-components/posts'\r\nimport Interests from '../profile-components/interests'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken } from '../../utils'\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            profile: null,\r\n            alertMessage: null,\r\n            relationshipButtonLabel: '',\r\n            currentPageIsPosts: true,\r\n        }\r\n        this.user.username = this.props.match.params.user.username\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.fetchProfile()\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(`${SERVER_URL}/profile-api/relationship/${this.user.username}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                let label\r\n                switch (data.relationship) {\r\n                    case 'friends':\r\n                        label = 'Amigos'\r\n                        break\r\n                    case 'invite-sent':\r\n                        label = 'Solicitado'\r\n                        break\r\n                    case 'invite-received':\r\n                        label = 'Aceitar'\r\n                        break\r\n                    case 'none':\r\n                        label = 'Solicitar'\r\n                }\r\n                this.setState({\r\n                    relationshipButtonLabel: label\r\n                })\r\n            })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let btn = document.querySelector('#profile-page-relationship-btn')\r\n        if (btn) {\r\n            switch (btn.innerHTML) {\r\n                case 'Amigos':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.onmouseenter = () => {\r\n                        if (btn.innerHTML === 'Amigos') btn.innerHTML = 'Remover'\r\n                    }\r\n                    btn.onmouseout = () => {\r\n                        if (btn.innerHTML === 'Remover') btn.innerHTML = 'Amigos'\r\n                    }\r\n                    btn.classList.add('friend-btn')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitado':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Aceitar':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitar':\r\n                    btn.classList.add('btn-secondary')\r\n                    btn.classList.remove('d-none')\r\n            }\r\n        }\r\n    }\r\n\r\n    fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${this.user.username}`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                profile: data\r\n            }))\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ myProfile: data }))\r\n    }\r\n\r\n    sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    removeFromFriends = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/remove-from-friends`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    acceptFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'senderid': pk,\r\n                'reply': 'accept'\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                this.props.updateNotificationsNumber()\r\n            })\r\n    }\r\n\r\n    handleRelationshipUpdate = e => {\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            this.sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else if (btn.innerHTML === 'Solicitado') {\r\n            this.cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        } else if (btn.innerHTML === 'Amigos' || btn.innerHTML === 'Remover') {\r\n            if (window.confirm(`Remover @${this.state.profile.user.username} dos amigos?`)) {\r\n                this.removeFromFriends(btn.dataset.pk)\r\n                btn.innerHTML = 'Solicitar'\r\n                btn.className = 'btn btn-secondary'\r\n            }\r\n        } else if (btn.innerHTML === 'Aceitar') {\r\n            this.acceptFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Amigos'\r\n            btn.className = 'btn btn-primary'\r\n        }\r\n    }\r\n\r\n    blockUnblockUser = () => {\r\n        if (this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id)) {\r\n            if (window.confirm(`Tem certeza que deseja desbloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/unblock-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({ alertMessage: `Voc desbloqueou @${this.state.profile.user.username}.` })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        } else {\r\n            if (window.confirm(`Tem certeza que deseja bloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/block-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({\r\n                            alertMessage: `Voc bloqueou @${this.state.profile.user.username}.\r\n                         ${this.state.profile.first_name} no conseguir mais ver o seu perfil ou te enviar mensagens.`\r\n                        })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        }\r\n        this.fetchProfile()\r\n        document.querySelector('#view-more-select').style.display = 'none'\r\n    }\r\n\r\n    openCloseExtraOptions = () => {\r\n        const el = document.querySelector('#view-more-select')\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            document.querySelector('#view-more-icon').classList.add('view-more-icon-active')\r\n            style.display = 'flex'\r\n        } else {\r\n            document.querySelector('#view-more-icon').classList.remove('view-more-icon-active')\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: true })\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page={this.state.profile ? `${this.state.profile.first_name} ${this.state.profile.last_name}` : 'Perfil'}\r\n                    backArrow={true}\r\n                />\r\n                {this.state.myProfile && this.state.profile ?\r\n                    <div className=\"content\">\r\n                        {this.state.profile.blocked_users.map(u => u.id).includes(this.state.myProfile.user.id) ?\r\n                            <div className=\"user-blocked-me-container\">\r\n                                <h3>O usurio te bloqueou</h3>\r\n                            </div>\r\n                            :\r\n                            <>\r\n                                {this.state.alertMessage &&\r\n                                    <div class=\"alert alert-success profile-page-alert-success\" role=\"alert\">\r\n                                        {this.state.alertMessage}\r\n                                    </div>\r\n                                }\r\n                                <div className=\"d-flex justify-content-between align-items-center profile-data-container\">\r\n                                    <div className=\"d-flex flex-column align-items-start\">\r\n                                        <p style={{ padding: '15px' }}>\r\n                                            <img src={`${SERVER_URL}${this.state.profile.photo}`}\r\n                                                className=\"profile-img-big\"\r\n                                                style={{ marginBottom: '25px' }}\r\n                                            />\r\n                                        </p>\r\n                                        <p style={{ marginBottom: 0 }}><strong>{this.state.profile.first_name} {this.state.profile.last_name}</strong></p>\r\n                                        <p className=\"text-secondary\" style={{ marginTop: 0 }}>@{this.state.profile.user.username}</p>\r\n                                        <p>{this.state.profile.bio}</p>\r\n                                        <p className=\"text-secondary\">\r\n                                            <i className=\"far fa-calendar-alt\"></i> Entrou em {this.state.profile.created.split('-').reverse().join('/')}\r\n                                        </p>\r\n                                        <p>\r\n                                            <Link to={`/user/${this.state.profile.user.username}/amigos`} style={{ color: '#000' }}>\r\n                                                <strong>{this.state.profile.friends.length}</strong> {this.state.profile.friends.length === 1 ? 'amigo' : 'amigos'}\r\n                                            </Link>\r\n                                        </p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <i\r\n                                            className=\"fas fa-ellipsis-h btn btn-secondary mr-10px\"\r\n                                            id=\"view-more-icon\"\r\n                                            onClick={this.openCloseExtraOptions}\r\n                                        />\r\n                                        <div className=\"view-more-select profile-view-more-select\" id=\"view-more-select\">\r\n                                            <Link to={`/mensagens/${this.state.profile.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                                {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                                    <li>\r\n                                                        <i class=\"fas fa-envelope text-secondary\" />\r\n                                                        Enviar mensagem\r\n                                                    </li>\r\n                                                }\r\n                                            </Link>\r\n                                            <li onClick={this.blockUnblockUser}>\r\n                                                <i class=\"fas fa-user-lock text-secondary\" />\r\n                                                {this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) ?\r\n                                                    'Desbloquear'\r\n                                                    :\r\n                                                    'Bloquear'\r\n                                                }\r\n                                            </li>\r\n                                        </div>\r\n                                        {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                            <button className=\"btn d-none\"\r\n                                                id=\"profile-page-relationship-btn\"\r\n                                                data-pk={this.state.profile.id}\r\n                                                onClick={this.handleRelationshipUpdate}\r\n                                            >{this.state.relationshipButtonLabel}</button>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"profile-page-menu\">\r\n                                    <div\r\n                                        className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                        id=\"profile-posts-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Posts ({this.state.profile.posts.length})\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"profile-page-menu-item\"\r\n                                        id=\"profile-interests-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Interesses ({this.state.profile.interests.filter(i => i.public).length})\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.currentPageIsPosts ?\r\n                                    <Posts profile={this.state.profile} fetchProfile={this.fetchProfile} /> :\r\n                                    <Interests profile={this.state.profile} />\r\n                                }\r\n                            </>\r\n                        }\r\n                    </div>\r\n                    :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile","import React, { useEffect, useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function Friends() {\r\n    const [friends, setFriends] = useState(null)\r\n    const [profile, setProfile] = useState(null)\r\n    const { slug } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${slug}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (profile) {\r\n            fetch(`${SERVER_URL}/profile-api/get-friends-profiles/${profile.user.username}`)\r\n                .then(response => response.json())\r\n                .then(data => setFriends(data))\r\n        }\r\n    }, [profile])\r\n\r\n    return (\r\n        <>\r\n            <Header page={profile ? `${profile.first_name} ${profile.last_name} / Amigos` : 'Perfil / Amigos'}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"list-group profile-friends-container\">\r\n                    {friends !== null ?\r\n                        <>\r\n                            {friends.length ? friends.map(friend => {\r\n                                return (\r\n                                    <Link to={`/user/${friend.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                        <li className=\"list-group-item profile-row filtered-profile profile-friend-list-item\" key={friend.id}>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <div className=\"profile-col\">\r\n                                                    <img src={`${SERVER_URL}${friend.photo}`}\r\n                                                        className=\"profile-img-med\"\r\n                                                        style={{ marginRight: '10px' }}\r\n                                                    />\r\n                                                    <div className=\"main-profile-data\">\r\n                                                        <strong>{friend.first_name} {friend.last_name}</strong>\r\n                                                        <p className=\"text-secondary\">@{friend.user.username}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"profile-col\">\r\n                                                    {friend.bio}\r\n                                                </div>\r\n                                                <div className=\"profile-col\">\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                    </Link>\r\n                                )\r\n                            }) :\r\n                                <h3 style={{ marginTop: '30px' }}>\r\n                                    {profile ? `${profile.first_name} ainda no possui amigos` : 'Voc ainda no possui amigos'}\r\n                                </h3>\r\n                            }\r\n                        </>\r\n                        :\r\n                        <div className=\"profiles-loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function InterestProfiles() {\r\n    const [profiles, setProfiles] = useState(null)\r\n    const { interest } = useParams()\r\n\r\n    document.title = `${interest[0].toUpperCase() + interest.slice(1)} / Napker`\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/interest-profile-list/${interest}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                page={`Interesse / ${interest[0].toUpperCase() + interest.slice(1)}`}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"interests-title-container\">\r\n                    <h3>Perfis interessados em \"{interest}\"</h3>\r\n                </div>\r\n                <div className=\"list-group interest-profile-list\">\r\n                    {profiles !== null ? profiles.map(profile => {\r\n                        return (\r\n                            <li\r\n                                className=\"list-group-item profile-row filtered-profile interest-profile-row\"\r\n                                key={profile.id}\r\n                                onClick={() => window.location.href = `/user/${profile.user.username}`}\r\n                            >\r\n                                <div className=\"d-flex justify-content-between\">\r\n                                    <div className=\"profile-col\">\r\n                                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                                            className=\"profile-img-med\"\r\n                                            style={{ marginRight: '10px' }}\r\n                                        />\r\n                                        <div className=\"main-profile-data\">\r\n                                            <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                            <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"profile-col\">\r\n                                        {profile.bio}\r\n                                    </div>\r\n                                    <div className=\"profile-col\"></div>\r\n                                </div>\r\n                            </li>\r\n                        )\r\n                    }) :\r\n                        <div className=\"profiles-loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../settings'\r\n\r\nexport default function PublicInterests(props) {\r\n\r\n    useEffect(() => {\r\n        if (document.querySelector('.public-interests-container')) {\r\n            const tagContainer = document.querySelector('.public-tag-container');\r\n            const input = document.querySelector('.public-tag-container input');\r\n\r\n            let tags = props.myProfile.interests.filter(i => i.public).map(i => i.title);\r\n            const interestsInput = document.querySelector('#public-interests')\r\n            addTags()\r\n\r\n            function createTag(label) {\r\n                const div = document.createElement('div');\r\n                div.classList.add('tag');\r\n                div.classList.add('public-tag');\r\n                const span = document.createElement('span');\r\n                span.innerHTML = label;\r\n                const closeIcon = document.createElement('i');\r\n                closeIcon.classList.add('public-close-icon')\r\n                closeIcon.innerHTML = '';\r\n                closeIcon.classList.add('material-icons')\r\n                closeIcon.setAttribute('data-item', label);\r\n                div.appendChild(span);\r\n                div.appendChild(closeIcon);\r\n                if (!interestsInput.value.includes(label)) interestsInput.value += ` ${label}`;\r\n                return div;\r\n            }\r\n\r\n            function clearTags() {\r\n                document.querySelectorAll('.public-tag').forEach(tag => {\r\n                    tag.parentElement.removeChild(tag);\r\n                });\r\n            }\r\n\r\n            function addTags() {\r\n                clearTags();\r\n                tags.sort()\r\n                tags.slice().reverse().forEach(tag => {\r\n                    tagContainer.prepend(createTag(tag));\r\n                });\r\n                props.setInterests(tags)\r\n            }\r\n\r\n            input.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.target.value.split(',').forEach(tag => {\r\n                        if (tag.length < 3) {\r\n                            window.alert('Os interesses devem ter no mnimo 3 caracteres!')\r\n                        } else {\r\n                            tags.push(tag)\r\n                        }\r\n                    });\r\n\r\n                    e.preventDefault()\r\n\r\n                    addTags();\r\n                    input.value = '';\r\n                    return false; //prevent the form to submit\r\n                }\r\n            });\r\n            document.addEventListener('click', (e) => {\r\n                if (e.target.classList.contains('public-close-icon')) {\r\n                    const tagLabel = e.target.getAttribute('data-item');\r\n                    const index = tags.indexOf(tagLabel);\r\n                    tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\r\n                    addTags();\r\n                }\r\n            })\r\n\r\n            input.focus();\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"public-interests-container\">\r\n            <h3>Interesses pblicos</h3>\r\n            <p>\r\n                Os interesses pblicos so visveis para os outros usurios.\r\n                Coloque aqui interesses que sem eles seu perfil ficaria incompleto.\r\n            </p>\r\n            <div class=\"tag-container public-tag-container\">\r\n                <input placeholder=\"Digite e pressione 'Enter'\" maxLength=\"50\" />\r\n                <input type=\"hidden\" name=\"public-interests\" id=\"public-interests\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../settings'\r\n\r\nexport default function PrivateInterests(props) {\r\n\r\n    useEffect(() => {\r\n        if (document.querySelector('.private-interests-container')) {\r\n            const tagContainer = document.querySelector('.private-tag-container');\r\n            const input = document.querySelector('.private-tag-container input');\r\n\r\n            let tags = props.myProfile.interests.filter(i => !i.public).map(i => i.title);\r\n            const interestsInput = document.querySelector('#private-interests')\r\n            addTags()\r\n\r\n            function createTag(label) {\r\n                const div = document.createElement('div');\r\n                div.classList.add('tag');\r\n                div.classList.add('private-tag');\r\n                const span = document.createElement('span');\r\n                span.innerHTML = label;\r\n                const closeIcon = document.createElement('i');\r\n                closeIcon.classList.add('private-close-icon')\r\n                closeIcon.classList.add('material-icons')\r\n                closeIcon.innerHTML = '';\r\n                closeIcon.setAttribute('data-item', label);\r\n                div.appendChild(span);\r\n                div.appendChild(closeIcon);\r\n                if (!interestsInput.value.includes(label)) interestsInput.value += ` ${label}`;\r\n                return div;\r\n            }\r\n\r\n            function clearTags() {\r\n                document.querySelectorAll('.private-tag').forEach(tag => {\r\n                    tag.parentElement.removeChild(tag);\r\n                });\r\n            }\r\n\r\n            function addTags() {\r\n                clearTags();\r\n                tags.sort()\r\n                tags.slice().reverse().forEach(tag => {\r\n                    tagContainer.prepend(createTag(tag));\r\n                });\r\n                props.setInterests(tags)\r\n            }\r\n\r\n            input.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.target.value.split(',').forEach(tag => {\r\n                        if (tag.length < 3) {\r\n                            window.alert('Os interesses devem ter no mnimo 3 caracteres!')\r\n                        } else {\r\n                            tags.push(tag)\r\n                        }\r\n                    });\r\n\r\n                    e.preventDefault()\r\n\r\n                    addTags();\r\n                    input.value = '';\r\n                    return false; //prevent the form to submit\r\n                }\r\n            });\r\n            document.addEventListener('click', (e) => {\r\n                if (e.target.classList.contains('private-close-icon')) {\r\n                    const tagLabel = e.target.getAttribute('data-item');\r\n                    const index = tags.indexOf(tagLabel);\r\n                    tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\r\n                    addTags();\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"private-interests-container\">\r\n            <h3>Interesses privados</h3>\r\n            <p>\r\n                Os interesses privados no so visveis para os outros usurios.\r\n                Eles servem para aumentar a preciso das recomendaes de perfis que\r\n                possuem o mximo de afinidade possvel com voc.\r\n            </p>\r\n            <div class=\"tag-container private-tag-container\">\r\n                <input placeholder=\"Digite e pressione 'Enter'\" maxLength=\"50\" />\r\n                <input type=\"hidden\" name=\"private-interests\" id=\"private-interests\" />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport Header from '../../../components/main/header'\r\nimport PublicInterests from './publicInterests'\r\nimport PrivateInterests from './privateInterests'\r\nimport { SERVER_URL } from '../../../settings'\r\nimport { csrftoken } from '../../../utils'\r\n\r\nexport default function EditInterests() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    let [publicInterests, setPublicInterests] = [null, value => publicInterests = value]\r\n    let [privateInterests, setPrivateInterests] = [null, value => privateInterests = value]\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const submitInterests = () => {\r\n        fetch(`${SERVER_URL}/profile-api/set-myinterests`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                public_interests: publicInterests.sort(),\r\n                private_interests: privateInterests.sort()\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                document.querySelector('#interests-updated-message').style.display = 'block'\r\n                document.documentElement.scrollTop = 0\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Meus interesses\" backArrow={true} />\r\n            <div className=\"content\">\r\n                <p\r\n                    className=\"edit-interests-success-message\"\r\n                    id=\"interests-updated-message\"\r\n                >\r\n                    Interesses atualizados com sucesso\r\n                </p>\r\n                {myProfile ?\r\n                    <div className=\"interests-page-container\">\r\n                        <PublicInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPublicInterests}\r\n                        />\r\n\r\n                        <br />\r\n                        <hr />\r\n                        <br />\r\n\r\n                        <PrivateInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPrivateInterests}\r\n                        />\r\n\r\n                        <hr />\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={submitInterests}\r\n                        >\r\n                            Salvar\r\n                        </button>\r\n                    </div> :\r\n                    <div className=\"edit-interests-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { csrftoken, openCloseEmojiList } from '../utils'\r\nimport { SERVER_URL } from '../settings'\r\n\r\nexport default function CommentModal(props) {\r\n    const [commentContent, setCommentContent] = useState('')\r\n\r\n    const post = props.post\r\n\r\n    const handleCommentChange = e => {\r\n        setCommentContent(e.target.value)\r\n        const el = document.querySelector('#comment-form-submit')\r\n        el.disabled = e.target.value === ''\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setCommentContent(commentContent + emojiObject.emoji)\r\n        document.querySelector('#comment-form-submit').disabled = false\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Comentar</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"post-container\">\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"post-row\">\r\n                            <div className=\"post-col\">\r\n                                <img src={`${SERVER_URL}${post.details.author.photo}`}\r\n                                    className=\"profile-img-med\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"post-col\">\r\n                                <div style={{ height: '30px' }}>\r\n                                    <strong>{post.details.author.first_name} {post.details.author.last_name} </strong>\r\n                                    <p className=\"text-secondary d-inline-block\">\r\n                                        @{post.details.author.user.username}  {post.created.split('-').reverse().join('/')}\r\n                                    </p>\r\n                                </div>\r\n                                <div style={{ textAlign: 'start' }}>\r\n                                    {post.content}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <form action={`${SERVER_URL}/post-api/comment-post/${post.id}`} method=\"POST\" className=\"comment-form\">\r\n                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                    <label\r\n                        className=\"far fa-smile\"\r\n                        id=\"emoji-button\"\r\n                        onClick={() => openCloseEmojiList(false)}\r\n                    />\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"comment-content\"\r\n                        value={commentContent}\r\n                        placeholder=\"Comente alguma coisa\"\r\n                        style={{ marginRight: '5px' }}\r\n                        onChange={handleCommentChange}\r\n                    />\r\n                    <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                        <Picker onEmojiClick={onEmojiSelect} />\r\n                    </div>\r\n                    <button\r\n                        className=\"btn btn-primary\"\r\n                        id=\"comment-form-submit\"\r\n                        type=\"submit\"\r\n                        disabled\r\n                    >\r\n                        Enviar\r\n                    </button>\r\n                </form>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\n\r\nimport CommentModal from '../../components/CommentModal'\r\nimport LikesModal from '../../components/LikesModal'\r\nimport Header from '../../components/main/header'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken } from '../../utils'\r\n\r\nexport default function Post(props) {\r\n    const [post, setPost] = useState(null)\r\n    const [profile, setProfile] = useState(null)\r\n    const [commentModalIsOpen, setCommentModalIsOpen] = useState(props.commentModalIsOpen)\r\n    const [postLikesModal, setPostLikesModal] = useState({ isOpen: false, likes: null })\r\n    const [commentLikesModal, setCommentLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    const { id } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }, [])\r\n\r\n    const fetchPost = () => {\r\n        fetch(`${SERVER_URL}/post-api/post/${id}`)\r\n            .then(response => response.json())\r\n            .then(data => setPost(data))\r\n    }\r\n\r\n    const likeUnlikePost = e => {\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        }\r\n    }\r\n\r\n    const likeUnlikeComment = e => {\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        }\r\n    }\r\n\r\n    const deleteComment = (e, commentId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-comment-${commentId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o comentrio?\\nEssa ao  irreversvel.')) {\r\n            el.style.animationPlayState = 'running'\r\n            console.log(el, el.style.animationPlayState)\r\n            el.addEventListener('animationend', () => {\r\n                fetchPost()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-comment/${commentId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    const deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ao  irreversvel.')) {\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    window.location.href = '/'\r\n                })\r\n        }\r\n    }\r\n\r\n    const hideCommentModal = () => {\r\n        setCommentModalIsOpen(false)\r\n    }\r\n\r\n    const hidePostLikesModal = () => {\r\n        setPostLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    const hideCommentLikesModal = () => {\r\n        setCommentLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"post-page-container\">\r\n            {post &&\r\n                <CommentModal\r\n                    isOpen={commentModalIsOpen}\r\n                    hideModal={hideCommentModal}\r\n                    post={post}\r\n                />\r\n            }\r\n            <LikesModal\r\n                isOpen={postLikesModal.isOpen}\r\n                likes={postLikesModal.likes}\r\n                hideModal={hidePostLikesModal}\r\n            />\r\n            <LikesModal\r\n                isOpen={commentLikesModal.isOpen}\r\n                likes={commentLikesModal.likes}\r\n                hideModal={hideCommentLikesModal}\r\n            />\r\n            <Header page=\"Post\" backArrow={true} />\r\n            <div className=\"content\">\r\n                {post && profile ?\r\n                    <>\r\n                        <div className=\"post-container\">\r\n                            <div className=\"d-flex justify-content-between\">\r\n                                <div className=\"post-row\">\r\n                                    <div className=\"post-col\">\r\n                                        <Link to={`/user/${post.details.author.user.username}`}>\r\n                                            <img src={`${SERVER_URL}${post.details.author.photo}`}\r\n                                                className=\"profile-img-med\"\r\n                                            />\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className=\"post-col\">\r\n                                        <Link to={`/user/${post.details.author.user.username}`} style={{ color: '#000' }}>\r\n                                            <div style={{ height: '30px' }}>\r\n                                                <strong>{post.details.author.first_name} {post.details.author.last_name} </strong>\r\n                                                <p className=\"text-secondary d-inline-block\">\r\n                                                    @{post.details.author.user.username}  {post.created.split('-').reverse().join('/')}\r\n                                                </p>\r\n                                            </div>\r\n                                        </Link>\r\n                                        <div style={{ textAlign: 'start', fontSize: 'larger' }}>\r\n                                            {post.content}\r\n                                        </div>\r\n                                        {post.image &&\r\n                                            <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                                {profile.id == post.details.author.id &&\r\n                                    <i\r\n                                        className=\"far fa-trash-alt trash-icon text-secondary\"\r\n                                        style={{ margin: '20px 20px 0 0' }}\r\n                                        onClick={e => deletePost(e, post.id)}\r\n                                    />\r\n                                }\r\n                            </div>\r\n                            <div className=\"post-actions\">\r\n                                <p className=\"text-secondary\" style={{ fontSize: 'large' }}>\r\n                                    <Link to={`/post/${id}/comentar`} className=\"text-secondary\">\r\n                                        <i\r\n                                            class=\"far fa-comment\"\r\n                                            onClick={() => setCommentModalIsOpen(true)}\r\n                                        />\r\n                                    </Link>{post.comments.length}\r\n                                    {post.likes.map(like => like.profile.id).includes(profile.id) ?\r\n                                        <i class=\"fas fa-heart\"\r\n                                            data-postid={post.id}\r\n                                            onClick={likeUnlikePost}\r\n                                        />\r\n                                        :\r\n                                        <i class=\"far fa-heart\"\r\n                                            data-postid={post.id}\r\n                                            onClick={likeUnlikePost}\r\n                                        />\r\n                                    }\r\n                                    <p className=\"post-likes-number\"\r\n                                        onClick={() => setPostLikesModal({ isOpen: true, likes: post.likes })}\r\n                                    >\r\n                                        {post.likes.length}\r\n                                    </p>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"comment-list\">\r\n                            {post.comments.map(comment => {\r\n                                return (\r\n                                    <li\r\n                                        className=\"post-container\"\r\n                                        id={`post-comment-${comment.id}`}\r\n                                        key={comment.id}\r\n                                    >\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                            <div className=\"post-row\">\r\n                                                <div className=\"post-col\">\r\n                                                    <Link to={`/user/${comment.author.user.username}`}>\r\n                                                        <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                                                            className=\"profile-img-sm\"\r\n                                                        />\r\n                                                    </Link>\r\n                                                </div>\r\n                                                <div className=\"post-col\">\r\n                                                    <Link to={`/user/${comment.author.user.username}`} style={{ color: '#000' }}>\r\n                                                        <div style={{ height: '30px' }}>\r\n                                                            <strong>{comment.author.first_name} {comment.author.last_name} </strong>\r\n                                                            <p className=\"text-secondary d-inline-block\">\r\n                                                                @{comment.author.user.username}  {comment.created.split('-').reverse().join('/')}\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    </Link>\r\n                                                    <div style={{ textAlign: 'start' }}>\r\n                                                        {comment.content}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            {comment.author.id == profile.id &&\r\n                                                <i\r\n                                                    className=\"far fa-trash-alt trash-icon text-secondary\"\r\n                                                    style={{ margin: '20px 20px 0 0' }}\r\n                                                    onClick={e => deleteComment(e, comment.id)}\r\n                                                />\r\n                                            }\r\n                                        </div>\r\n                                        <div className=\"post-actions\">\r\n                                            <p className=\"text-secondary\">\r\n                                                {comment.likes.map(like => like.profile.id).includes(profile.id) ?\r\n                                                    <i class=\"fas fa-heart\"\r\n                                                        data-commentid={comment.id}\r\n                                                        onClick={likeUnlikeComment}\r\n                                                    />\r\n                                                    :\r\n                                                    <i class=\"far fa-heart\"\r\n                                                        data-commentid={comment.id}\r\n                                                        onClick={likeUnlikeComment}\r\n                                                    />\r\n                                                }\r\n                                                <p\r\n                                                    className=\"post-likes-number\"\r\n                                                    onClick={() => setPostLikesModal({ isOpen: true, likes: comment.likes })}\r\n                                                >\r\n                                                    {comment.likes.length}\r\n                                                </p>\r\n                                            </p>\r\n                                        </div>\r\n                                    </li>\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                    </> :\r\n                    <div className=\"posts-loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport Picker from 'emoji-picker-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from './main/header'\r\nimport { SERVER_URL } from '../settings'\r\nimport { csrftoken } from '../utils'\r\n\r\nexport default class Posts extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            profile: null,\r\n            postContent: '',\r\n            postFormImagePreview: null\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ profile: data }))\r\n    }\r\n\r\n\r\n    handlePostContentChange = e => {\r\n        this.setState({ postContent: e.target.value })\r\n        const el = document.querySelector('#post-form-submit-btn')\r\n        el.disabled = e.target.value.trim() === '' && !this.state.postFormImagePreview\r\n    }\r\n\r\n    handlePostImageChange = e => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                this.setState({ postFormImagePreview: reader.result })\r\n                document.querySelector('#post-img-container').style.display = 'initial'\r\n                document.querySelector('#post-form-submit-btn').disabled = false\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    handleCloseImage = () => {\r\n        document.querySelector('#post-img-container').style.display = 'none'\r\n        document.querySelector('#post-image').value = ''\r\n        if (this.state.postContent.trim() === '') document.querySelector('#post-form-submit-btn').disabled = true\r\n        this.setState({ postFormImagePreview: null })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"content\">\r\n                <Header page=\"Novo post\" backArrow={true} />\r\n                <div className=\"post-form-page-container\">\r\n                    {this.state.profile ?\r\n                        <form\r\n                            action={`${SERVER_URL}/post-api/create-post`}\r\n                            method=\"POST\"\r\n                            className=\"create-post-form-mobile\"\r\n                            encType=\"multipart/form-data\"\r\n                        >\r\n                            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                            <div className=\"d-flex\">\r\n                                <Link to=\"/perfil\">\r\n                                    <img\r\n                                        src={`${SERVER_URL}${this.state.profile.photo}`}\r\n                                        className=\"profile-img-med\"\r\n                                    />\r\n                                </Link>\r\n                                <textarea\r\n                                    className=\"post-content-text-area\"\r\n                                    name=\"post-content\"\r\n                                    value={this.state.postContent}\r\n                                    placeholder=\"No que voc est pensando?\"\r\n                                    maxLength={300}\r\n                                    autoFocus\r\n                                    style={{ height: '250px' }}\r\n                                    onChange={this.handlePostContentChange}\r\n                                />\r\n                            </div>\r\n                            <div className=\"w-100 d-flex justify-content-center\">\r\n                                <div\r\n                                    className=\"post-img-container\"\r\n                                    id=\"post-img-container\">\r\n                                    <div\r\n                                        className=\"post-img-options\"\r\n                                    >\r\n                                        <i\r\n                                            className=\"far fa-times-circle\"\r\n                                            onClick={this.handleCloseImage}\r\n                                        />\r\n                                    </div>\r\n                                    <img\r\n                                        src={this.state.postFormImagePreview}\r\n                                        className=\"post-img post-form-img-preview\"\r\n                                        id=\"post-form-img-preview\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <hr />\r\n                            <div className=\"d-flex justify-content-between\" style={{ margin: '0px 70px 0 70px' }}>\r\n                                <div className=\"post-extra-options\">\r\n                                    <label htmlFor=\"post-image\" class=\"far fa-image\" />\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        accept=\"image/png, image/jpg, image/jpeg\"\r\n                                        name=\"post-image\"\r\n                                        id=\"post-image\"\r\n                                        style={{ display: 'none' }}\r\n                                        onChange={this.handlePostImageChange}\r\n                                    />\r\n                                </div>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    id=\"post-form-submit-btn\"\r\n                                    style={{ height: '40px' }}\r\n                                    disabled\r\n                                >\r\n                                    Postar\r\n                            </button>\r\n                            </div>\r\n                        </form>\r\n                        :\r\n                        <div className=\"posts-loader-container\" >\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\r\n\r\nimport Sidebar from './components/main/sidebar'\r\nimport BottomMenu from './components/main/bottomMenu'\r\nimport Home from './pages/home'\r\nimport Notifications from './pages/notifications'\r\nimport Messages from './pages/messages_page/messages'\r\nimport MyProfile from './pages/myprofile'\r\nimport Settings from './pages/settings_page/settingsMenu'\r\nimport Profile from './pages/home-components/profile'\r\nimport ProfileFriends from './pages/profile-components/friends'\r\nimport InterestProfiles from './pages/profile-components/interestprofiles'\r\nimport EditInterests from './pages/profile-components/edit-interests/editinterests'\r\nimport Post from './pages/home-components/post'\r\n\r\nimport PostFormPage from './components/postFormPage'\r\n\r\nimport { SERVER_URL } from './settings'\r\n\r\nexport default function App() {\r\n    const [invitesReceivedNumber, setInvitesReceived] = useState(0)\r\n    const [unvisualizedLikesNumber, setUnvisulaizedLikes] = useState(0)\r\n    const [unvisualizedCommentsNumber, setUnvisulaizedComments] = useState(0)\r\n    let notificationsNumber = invitesReceivedNumber + unvisualizedLikesNumber + unvisualizedCommentsNumber\r\n    const [unreadMessagesNumber, setUnreadMessagesNumber] = useState(0)\r\n\r\n    useEffect(() => {\r\n        updateNotificationsNumber()\r\n        updateUnreadMessagesNumber()\r\n        window.setInterval(() => {\r\n            updateNotificationsNumber()\r\n            updateUnreadMessagesNumber()\r\n        }, 6000)\r\n    }, [])\r\n\r\n    const updateNotificationsNumber = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvitesReceived(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedLikes(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedComments(data.length))\r\n    }\r\n\r\n    const updateUnreadMessagesNumber = () => {\r\n        fetch(`${SERVER_URL}/chat-api/all-unread-messages-number`)\r\n            .then(response => response.json())\r\n            .then(data => setUnreadMessagesNumber(data['unread_messages_number']))\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <Sidebar notificationsNumber={notificationsNumber} unreadMessagesNumber={unreadMessagesNumber} />\r\n            <div className=\"main-content\">\r\n                <Switch>\r\n                    <Route path=\"/home\" component={Home} />\r\n                    <Route path=\"/notificaes\" render={props => (\r\n                        <Notifications {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                    )} />\r\n                    <Route path=\"/mensagens\" exact component={Messages} />\r\n                    <Route path=\"/mensagens/:slug\" render={props => (\r\n                        <Messages {...props} updateUnreadMessagesNumber={updateUnreadMessagesNumber} />\r\n                    )} />\r\n                    <Route path=\"/perfil\" exact component={MyProfile} />\r\n                    <Route path=\"/perfil/meus-interesses\" component={EditInterests} />\r\n                    <Route path=\"/configuraes\" exact component={Settings} />\r\n                    <Route path=\"/configuraes/perfis-bloqueados\" exact render={props => (\r\n                        <Settings {...props} page={'blocked-profiles'} />\r\n                    )} />\r\n                    <Route path=\"/configuraes/alterar-senha\" exact render={props => (\r\n                        <Settings {...props} page={'change-password'} />\r\n                    )} />\r\n                    <Route path=\"/configuraes/deletar-conta\" exact render={props => (\r\n                        <Settings {...props} page={'delete-account'} />\r\n                    )} />\r\n                    <Route path=\"/user/:slug\" exact render={props => (\r\n                        <Profile {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                    )} />\r\n                    <Route path=\"/user/:slug/amigos\" component={ProfileFriends} />\r\n                    <Route path=\"/post/:id\" exact component={Post} />\r\n                    <Route path=\"/post/:id/comentar\" render={props => (\r\n                        <Post {...props} commentModalIsOpen={true} />\r\n                    )} />\r\n                    <Route path=\"/interesses/:interest\" component={InterestProfiles} />\r\n\r\n                    <Route path=\"/postar\" component={PostFormPage} />\r\n                </Switch>\r\n                <BottomMenu notificationsNumber={notificationsNumber} unreadMessagesNumber={unreadMessagesNumber} />\r\n            </div>\r\n        </Router>\r\n    )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './assets/bottomMenu.css'\r\nimport './assets/chat.css'\r\nimport './assets/commentModal.css'\r\nimport './assets/notifications.css'\r\nimport './assets/posts.css'\r\nimport './assets/profile.css'\r\nimport './assets/profiles.css'\r\nimport './assets/settings.css'\r\nimport './assets/sidebar.css'\r\nimport './assets/style.css'\r\n\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'))\r\n"],"sourceRoot":""}
=======
{"version":3,"sources":["settings.js","components/main/sidebar.js","components/main/bottomMenu.js","components/likesmodal.js","utils.js","pages/home-components/posts.js","pages/home-components/profiles.js","components/main/header.js","pages/home.js","pages/notifications.js","pages/messages_page/websocket.js","pages/messages_page/chat.js","pages/messages_page/messages.js","pages/profile-components/posts.js","pages/profile-components/interests.js","pages/myprofile.js","pages/settings_page/blockedProfiles.js","pages/settings_page/changePassword.js","pages/settings_page/deleteAccount.js","pages/settings_page/settingsMenu.js","pages/home-components/profile.js","pages/profile-components/friends.js","pages/profile-components/interestprofiles.js","pages/profile-components/edit-interests/publicInterests.js","pages/profile-components/edit-interests/privateInterests.js","pages/profile-components/edit-interests/editinterests.js","components/commentmodal.js","pages/home-components/post.js","components/postFormPage.js","App.js","index.js"],"names":["SERVER_URL","Sidebar","props","useEffect","document","querySelectorAll","forEach","el","classList","remove","currentUrl","window","location","href","split","includes","querySelector","add","switchPage","e","isHome","target","className","to","style","textDecoration","onClick","src","id","notificationsNumber","unreadMessagesNumber","display","justifyContent","margin","LikesModal","Modal","show","isOpen","onHide","hideModal","size","Header","closeButton","Title","Body","height","overflow","overflowY","likes","map","like","profile","slug","color","key","photo","marginRight","first_name","last_name","user","username","bio","csrftoken","name","cookieValue","cookie","cookies","i","length","trim","substring","decodeURIComponent","getCookie","handleLogout","confirm","replace","openCloseEmojiList","closing","Posts","fetchPosts","fetch","then","response","json","data","setState","posts","likeUnlikePost","stopPropagation","likeBtn","contains","dataset","postid","console","log","hideLikesModal","likesModal","deletePost","postId","animationPlayState","addEventListener","method","headers","handlePostContentChange","postContent","value","disabled","state","postFormImagePreview","handlePostImageChange","reader","FileReader","onload","readyState","result","readAsDataURL","files","handleCloseImage","onEmojiSelect","event","emojiObject","emoji","this","action","encType","type","placeholder","maxLength","autoFocus","onChange","htmlFor","class","accept","onEmojiClick","post","author","created","reverse","join","textAlign","content","image","comments","data-postid","React","Component","Profiles","useState","myProfile","setMyProfile","profiles","setProfiles","filteredProfiles","setFilteredProfiles","search","setSearch","handleRelationshipUpdate","pk","btn","innerHTML","body","JSON","stringify","cancelFriendRequest","data-pk","backArrow","history","back","page","Home","setPage","pages","title","borderRadius","Notifications","notificationsFetchInterval","invites","setInvites","unvisualizedPostLikes","setUnvisualizedPostLikes","visualizedPostLikes","setVisualizedPostLikes","unvisualizedComments","setUnvisualizedComments","visualizedComments","setVisualizedComments","fetchNotifications","setInterval","clearInterval","updateNotificationsNumber","replyRequest","requestBody","senderid","reply","getElementById","sender","data-senderid","data-reply","comment","WebSocketService","callbacks","socketRef","instance","chatUrl","path","WebSocket","onopen","socketNewMessage","command","onmessage","onerror","message","onclose","close","parsedData","parse","Object","keys","messages","chatId","sendMessage","from","messagesCallback","newMessageCallback","send","err","WebSocketInstance","getInstance","Chat","handleComponentChange","scrollToBottom","otherUsername","otherProfile","readMessages","chat_id","messageChangeHandler","sendMessageHandler","preventDefault","messageObject","blocked_users","u","alert","newChatMessage","updateMessagesComponent","renderTimestamp","timestamp","ts","Date","day","getDate","month","getMonth","hour","getHours","minute","getMinutes","getFullYear","renderMessages","currentUser","read","chatLog","scrollTop","scrollHeight","initialiseChat","waitForSocketConnection","addCallbacks","getMessages","bind","addMessage","getUpdatedMessages","fetchMessages","connect","focus","disconnect","newProps","updateUnreadMessagesNumber","callback","component","setTimeout","onSubmit","fontSize","openModal","Messages","handleReceiveProps","participants","other_username","match","params","fetchActiveChatProfiles","activeChats","chats","activeChatsProfiles","addingNewChat","setModalSearch","query","modalProfiles","setContactSearch","filter","p","resetUnreadMessagesCounter","unreadMessagesCounter","incrementUnreadMessagesCounter","setLastChatMessage","lastChatMessage","rerenderingInterval","padding","whiteSpace","maxHeight","indexOf","contact","marginLeft","slice","myprofile","setLikesModal","fetchProfile","marginTop","Interests","interests","public","interest","toUpperCase","MyProfile","setProfile","profileImagePreview","setProfileImagePreview","isEditing","setIsEditing","editingBioContent","setEditingBioContent","currentPageIsPosts","setCurrentPageIsPosts","marginBottom","email","bool","width","defaultValue","birth_date","Footer","submit","friends","BlockUser","blockedProfiles","setBlockedProfiles","ChangePassword","errorMessage","setErrorMessage","successMessage","setSuccessMessage","role","password","newPassword","newPasswordc","new_password","new_passwordc","DeleteAccount","displayErrorMessage","setDisplayErrorMessage","Settings","pageChange","Profile","sendFriendRequest","removeFromFriends","acceptFriendRequest","blockUnblockUser","alertMessage","openCloseExtraOptions","relationshipButtonLabel","label","relationship","onmouseenter","onmouseout","Friends","setFriends","useParams","friend","InterestProfiles","PublicInterests","addTags","tag","parentElement","removeChild","tags","sort","tagContainer","prepend","div","createElement","span","closeIcon","setAttribute","appendChild","interestsInput","createTag","setInterests","input","push","tagLabel","getAttribute","index","PrivateInterests","EditInterests","publicInterests","setPublicInterests","privateInterests","setPrivateInterests","public_interests","private_interests","documentElement","CommentModal","commentContent","setCommentContent","Post","setPost","commentModalIsOpen","setCommentModalIsOpen","postLikesModal","setPostLikesModal","commentLikesModal","setCommentLikesModal","fetchPost","likeUnlikeComment","commentid","commentId","deleteComment","data-commentid","App","invitesReceivedNumber","setInvitesReceived","unvisualizedLikesNumber","setUnvisulaizedLikes","unvisualizedCommentsNumber","setUnvisulaizedComments","setUnreadMessagesNumber","render","exact","ProfileFriends","PostFormPage","ReactDOM"],"mappings":"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","file":"static/js/main.caf4b1ba.chunk.js","sourcesContent":["//const SERVER_URL = 'https://napker.herokuapp.com'\r\n//const SOCKET_URL = 'wss://napker.herokuapp.com'\r\nconst SERVER_URL = 'http://127.0.0.1:8000'\r\nconst SOCKET_URL = 'ws://127.0.0.1:8000'\r\n\r\nconst LOGO_URL = '/static/media/napker.png'\r\n\r\nexport { SERVER_URL, SOCKET_URL, LOGO_URL }\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { SERVER_URL, LOGO_URL } from '../../settings'\r\n\r\nexport default function Sidebar(props) {\r\n    useEffect(() => {\r\n        document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n            el.classList.remove('sidebar-menu-item-active')\r\n        })\r\n        const currentUrl = window.location.href.split('/')\r\n        if (currentUrl.includes('home')) {\r\n            document.querySelector('#home-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('notifica%C3%A7%C3%B5es')) {\r\n            document.querySelector('#notifications-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('mensagens')) {\r\n            document.querySelector('#messages-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('perfil')) {\r\n            document.querySelector('#profile-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('configura%C3%A7%C3%B5es')) {\r\n            document.querySelector('#settings-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n    }, [])\r\n\r\n    const switchPage = (e, isHome = false) => {\r\n        if (!isHome) {\r\n            document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n                el.classList.remove('sidebar-menu-item-active')\r\n            })\r\n            e.target.classList.add('sidebar-menu-item-active')\r\n        } else {\r\n            document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n                el.classList.remove('sidebar-menu-item-active')\r\n            })\r\n            document.querySelector('#home-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"logo-container\">\r\n                <Link to=\"/home\" style={{ textDecoration: 'none' }} onClick={e => switchPage(e, true)}>\r\n                    <img src={`${SERVER_URL}${LOGO_URL}`} />\r\n                </Link>\r\n            </div>\r\n            <ul>\r\n                <Link to=\"/home\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"home-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                        Home\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/notificaes\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"notifications-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                        Notificaes\r\n                        {!props.notificationsNumber ? '' :\r\n                            <div className=\"notification-text-container\">\r\n                                <div className=\"notification-text\">\r\n                                    {props.notificationsNumber}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/mensagens\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"messages-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-envelope sidebar-menu-icon\" />\r\n                        Mensagens\r\n                        {!props.unreadMessagesNumber ? '' :\r\n                            <div className=\"notification-text-container\">\r\n                                <div className=\"notification-text\">\r\n                                    {props.unreadMessagesNumber}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/perfil\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"profile-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                        Perfil\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/configuraes\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"settings-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                        Configuraes\r\n                    </li>\r\n                </Link>\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { SERVER_URL, LOGO_URL } from '../../settings'\r\n\r\nexport default function Sidebar(props) {\r\n    useEffect(() => {\r\n        document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n            el.classList.remove('sidebar-menu-item-active')\r\n        })\r\n        const currentUrl = window.location.href.split('/')\r\n        if (currentUrl.includes('home')) {\r\n            document.querySelector('#home-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('notifica%C3%A7%C3%B5es')) {\r\n            document.querySelector('#notifications-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('mensagens')) {\r\n            document.querySelector('#messages-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('perfil')) {\r\n            document.querySelector('#profile-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n        else if (currentUrl.includes('configura%C3%A7%C3%B5es')) {\r\n            document.querySelector('#settings-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n    }, [])\r\n\r\n    const switchPage = (e, isHome = false) => {\r\n        if (!isHome) {\r\n            document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n                el.classList.remove('sidebar-menu-item-active')\r\n            })\r\n            e.target.classList.add('sidebar-menu-item-active')\r\n        } else {\r\n            document.querySelectorAll('.sidebar-menu-item-active').forEach(el => {\r\n                el.classList.remove('sidebar-menu-item-active')\r\n            })\r\n            document.querySelector('#home-menu').classList.add('sidebar-menu-item-active')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"bottom-menu fixed-bottom\">\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', margin: '15px' }}>\r\n                <Link to=\"/postar\">\r\n                    <i className=\"fas fa-pencil-alt\" />\r\n                </Link>\r\n            </div>\r\n            <ul>\r\n                <Link to=\"/home\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"home-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-home sidebar-menu-icon\" />\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/notificaes\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"notifications-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-bell sidebar-menu-icon\" />\r\n                        {!props.notificationsNumber ? '' :\r\n                            <div className=\"notification-text-container\">\r\n                                <div className=\"notification-text\">\r\n                                    {props.notificationsNumber}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/mensagens\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"messages-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-envelope sidebar-menu-icon\" />\r\n                        {!props.unreadMessagesNumber ? '' :\r\n                            <div className=\"notification-text-container\">\r\n                                <div className=\"notification-text\">\r\n                                    {props.unreadMessagesNumber}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/perfil\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"profile-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-user sidebar-menu-icon\" />\r\n                    </li>\r\n                </Link>\r\n                <Link to=\"/configuraes\" style={{ textDecoration: 'none' }}>\r\n                    <li className=\"sidebar-menu-item\" id=\"settings-menu\" onClick={switchPage}>\r\n                        <i className=\"fas fa-cog sidebar-menu-icon\" />\r\n                    </li>\r\n                </Link>\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../settings'\r\n\r\nexport default function LikesModal(props) {\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Curtidas</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                    {props.likes &&\r\n                        props.likes.map(like => like.profile).map(profile => {\r\n                            return (\r\n                                <Link to={`/user/${profile.user.username}`}\r\n                                    style={{ color: '#000', textDecoration: 'none' }}\r\n                                    onClick={props.hideModal}\r\n                                >\r\n                                    <li className=\"list-group-item profile-row modal-profile-li\" key={profile.id}>\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                            <div className=\"profile-col\">\r\n                                                <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                    className=\"profile-img-med\"\r\n                                                    style={{ marginRight: '10px' }}\r\n                                                />\r\n                                                <div className=\"main-profile-data\">\r\n                                                    <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                    <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"profile-col\">\r\n                                                {profile.bio}\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n                                </Link>\r\n                            )\r\n                        })}\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import { SERVER_URL } from './settings'\r\n\r\nconst csrftoken = getCookie('csrftoken')\r\n\r\nfunction getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== '') {\r\n    const cookies = document.cookie.split(';');\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      // Does this cookie string begin with the name we want?\r\n      if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nfunction handleLogout() {\r\n  const bool = window.confirm('Sair do Napker?\\nVoc poder entrar novamente quando quiser.')\r\n  if (bool) {\r\n    window.location.replace(`${SERVER_URL}/logout`)\r\n  }\r\n}\r\n\r\nfunction openCloseEmojiList(closing = false) {\r\n  const el = document.querySelector('#emoji-list-container')\r\n  const style = el.style\r\n  if (closing) {\r\n      style.display = 'none'\r\n      document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n  } else {\r\n      if (!style.display || style.display === 'none') {\r\n          style.display = 'initial'\r\n          document.querySelector('#emoji-button').classList.add('emoji-button-active')\r\n      } else {\r\n          style.display = 'none'\r\n          document.querySelector('#emoji-button').classList.remove('emoji-button-active')\r\n      }\r\n  }\r\n}\r\n\r\nexport { csrftoken, handleLogout, openCloseEmojiList };","import React from 'react'\r\nimport Picker from 'emoji-picker-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport LikesModal from '../../components/LikesModal'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken, openCloseEmojiList } from '../../utils'\r\n\r\nexport default class Posts extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            profile: null,\r\n            posts: null,\r\n            likesModal: {\r\n                isOpen: false,\r\n                likes: null\r\n            },\r\n            postContent: '',\r\n            postFormImagePreview: null\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ profile: data }))\r\n        this.fetchPosts()\r\n    }\r\n\r\n    fetchPosts = () => {\r\n        fetch(`${SERVER_URL}/post-api/post-list`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ posts: data }))\r\n    }\r\n\r\n    likeUnlikePost = e => {\r\n        e.stopPropagation()\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    this.fetchPosts()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    this.fetchPosts()\r\n                })\r\n        }\r\n    }\r\n\r\n    hideLikesModal = () => {\r\n        this.setState({\r\n            likesModal: {\r\n                isOpen: false,\r\n                likes: null\r\n            }\r\n        })\r\n    }\r\n\r\n    deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ao  irreversvel.')) {\r\n            el.style.animationPlayState = 'running'\r\n            el.addEventListener('animationend', () => {\r\n                this.fetchPosts()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    handlePostContentChange = e => {\r\n        this.setState({ postContent: e.target.value })\r\n        const el = document.querySelector('#post-form-submit-btn')\r\n        el.disabled = e.target.value.trim() === '' && !this.state.postFormImagePreview\r\n    }\r\n\r\n    handlePostImageChange = e => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                this.setState({ postFormImagePreview: reader.result })\r\n                document.querySelector('#post-img-container').style.display = 'initial'\r\n                document.querySelector('#post-form-submit-btn').disabled = false\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    handleCloseImage = () => {\r\n        document.querySelector('#post-img-container').style.display = 'none'\r\n        document.querySelector('#post-image').value = ''\r\n        if (this.state.postContent.trim() === '') document.querySelector('#post-form-submit-btn').disabled = true\r\n        this.setState({ postFormImagePreview: null })\r\n    }\r\n\r\n    onEmojiSelect = (event, emojiObject) => {\r\n        this.setState({ postContent: this.state.postContent + emojiObject.emoji })\r\n        document.querySelector('#post-form-submit-btn').disabled = false\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <LikesModal\r\n                    isOpen={this.state.likesModal.isOpen}\r\n                    likes={this.state.likesModal.likes}\r\n                    hideModal={this.hideLikesModal}\r\n                />\r\n                {this.state.profile &&\r\n                    <form\r\n                        action={`${SERVER_URL}/post-api/create-post`}\r\n                        method=\"POST\"\r\n                        className=\"create-post-form\"\r\n                        encType=\"multipart/form-data\"\r\n                    >\r\n                        <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                        <div className=\"d-flex\">\r\n                            <Link to=\"/perfil\">\r\n                                <img\r\n                                    src={`${SERVER_URL}${this.state.profile.photo}`}\r\n                                    className=\"profile-img-med\"\r\n                                />\r\n                            </Link>\r\n                            <textarea\r\n                                className=\"post-content-text-area\"\r\n                                name=\"post-content\"\r\n                                value={this.state.postContent}\r\n                                placeholder=\"No que voc est pensando?\"\r\n                                maxLength={300}\r\n                                autoFocus\r\n                                onChange={this.handlePostContentChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"w-100 d-flex justify-content-center\">\r\n                            <div\r\n                                className=\"post-img-container\"\r\n                                id=\"post-img-container\">\r\n                                <div\r\n                                    className=\"post-img-options\"\r\n                                >\r\n                                    <i\r\n                                        className=\"far fa-times-circle\"\r\n                                        onClick={this.handleCloseImage}\r\n                                    />\r\n                                </div>\r\n                                <img\r\n                                    src={this.state.postFormImagePreview}\r\n                                    className=\"post-img post-form-img-preview\"\r\n                                    id=\"post-form-img-preview\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <hr />\r\n                        <div className=\"d-flex justify-content-between\" style={{ margin: '0px 70px 0 70px' }}>\r\n                            <div className=\"post-extra-options\">\r\n                                <label htmlFor=\"post-image\" class=\"far fa-image\" />\r\n                                <input\r\n                                    type=\"file\"\r\n                                    accept=\"image/png, image/jpg, image/jpeg\"\r\n                                    name=\"post-image\"\r\n                                    id=\"post-image\"\r\n                                    style={{ display: 'none' }}\r\n                                    onChange={this.handlePostImageChange}\r\n                                />\r\n                                <label\r\n                                    className=\"far fa-smile\"\r\n                                    id=\"emoji-button\"\r\n                                    onClick={() => openCloseEmojiList(false)}\r\n                                />\r\n                                <div className=\"emoji-list-container\" id=\"emoji-list-container\">\r\n                                    <Picker onEmojiClick={this.onEmojiSelect} />\r\n                                </div>\r\n                            </div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                className=\"btn btn-primary\"\r\n                                id=\"post-form-submit-btn\"\r\n                                style={{ height: '40px' }}\r\n                                disabled\r\n                            >\r\n                                Postar\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                }\r\n                <div className=\"post-list\">\r\n                    {this.state.posts && this.state.profile ?\r\n                        this.state.posts.map(post => {\r\n                            return (\r\n                                <li\r\n                                    className=\"post-container post-list-item\"\r\n                                    id={`profile-post-${post.id}`}\r\n                                    key={post.id}\r\n                                    onClick={() => window.location.href = `/post/${post.id}`}\r\n                                >\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div className=\"post-row\">\r\n                                            <div className=\"post-col\">\r\n                                                <Link\r\n                                                    to={post.details.author.id === this.state.profile.id ?\r\n                                                        '/perfil' : `/user/${post.details.author.user.username}`}\r\n                                                    onClick={e => e.stopPropagation()}\r\n                                                >\r\n                                                    <img src={`${SERVER_URL}${post.details.author.photo}`}\r\n                                                        className=\"profile-img-med\"\r\n                                                    />\r\n                                                </Link>\r\n                                            </div>\r\n                                            <div className=\"post-col\">\r\n                                                <Link\r\n                                                    to={post.details.author.id === this.state.profile.id ?\r\n                                                        '/perfil' : `/user/${post.details.author.user.username}`}\r\n                                                    style={{ color: '#000' }}\r\n                                                    onClick={e => e.stopPropagation()}\r\n                                                >\r\n                                                    <div className=\"post-author-data-wrapper\">\r\n                                                        <strong>{post.details.author.first_name} {post.details.author.last_name} </strong>\r\n                                                        <p className=\"text-secondary d-inline-block\">\r\n                                                            @{post.details.author.user.username}  {post.created.split('-').reverse().join('/')}\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </Link>\r\n                                                <div style={{ textAlign: 'start' }}>\r\n                                                    {post.content}\r\n                                                </div>\r\n                                                {post.image &&\r\n                                                    <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                        {post.details.author.id === this.state.profile.id &&\r\n                                            <i\r\n                                                className=\"far fa-trash-alt trash-icon text-secondary\"\r\n                                                style={{ margin: '20px 20px 0 0' }}\r\n                                                onClick={e => this.deletePost(e, post.id)}\r\n                                            />}\r\n                                    </div>\r\n                                    <div className=\"post-actions\">\r\n                                        <p className=\"text-secondary\">\r\n                                            <Link\r\n                                                to={`/post/${post.id}/comentar`}\r\n                                                className=\"text-secondary\"\r\n                                                onClick={e => e.stopPropagation()}\r\n                                            >\r\n                                                <i\r\n                                                    class=\"far fa-comment\"\r\n                                                />{post.comments.length}\r\n                                            </Link>\r\n                                            {post.likes.map(like => like.profile.id).includes(this.state.profile.id) ?\r\n                                                <i class=\"fas fa-heart\"\r\n                                                    data-postid={post.id}\r\n                                                    onClick={this.likeUnlikePost}\r\n                                                />\r\n                                                :\r\n                                                <i class=\"far fa-heart\"\r\n                                                    data-postid={post.id}\r\n                                                    onClick={this.likeUnlikePost}\r\n                                                />}\r\n                                            <p className=\"post-likes-number\"\r\n                                                onClick={e => {\r\n                                                    e.stopPropagation()\r\n                                                    this.setState({ likesModal: { isOpen: true, likes: post.likes } })\r\n                                                }}\r\n                                            >\r\n                                                {post.likes.length}\r\n                                            </p>\r\n                                        </p>\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        }) :\r\n                        <div className=\"posts-loader-container\" >\r\n                            <div className=\"loader\" />\r\n                        </div>}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken } from '../../utils'\r\n\r\nexport default function Profiles() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    const [profiles, setProfiles] = useState(null)\r\n    const [filteredProfiles, setFilteredProfiles] = useState(null)\r\n    const [search, setSearch] = useState('')\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n        fetch(`${SERVER_URL}/profile-api/profile-list`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setFilteredProfiles(null)\r\n                setProfiles(data)\r\n            })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (search === '') {\r\n            setFilteredProfiles(null)\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/users/${search}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setFilteredProfiles(data)\r\n            })\r\n    }, [search])\r\n\r\n    const sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    const cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    const handleRelationshipUpdate = e => {\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else {\r\n            cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"profiles-filter-container\">\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"profiles-filter-input\"\r\n                    placeholder=\"Pesquisar\"\r\n                    value={search}\r\n                    autoFocus\r\n                    onChange={e => setSearch(e.target.value)}\r\n                />\r\n            </div>\r\n            <div className=\"list-group\">\r\n                {myProfile && (profiles || filteredProfiles) ?\r\n                    <div className=\"profile-list-container\">\r\n                        {filteredProfiles ? filteredProfiles.map(profile => {\r\n                            return (\r\n                                <Link to={`/user/${profile.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                    <li className=\"list-group-item profile-row filtered-profile\" key={profile.id}>\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                            <div className=\"profile-col\">\r\n                                                <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                    className=\"profile-img-med\"\r\n                                                    style={{ marginRight: '10px' }}\r\n                                                />\r\n                                                <div className=\"main-profile-data\">\r\n                                                    <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                    <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"profile-col\">\r\n                                                {profile.bio}\r\n                                            </div>\r\n                                            <div className=\"profile-col\">\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n                                </Link>\r\n                            )\r\n                        }\r\n                        ) : profiles && profiles.map(profile => {\r\n                            return (\r\n                                <li\r\n                                    className=\"list-group-item profile-row\"\r\n                                    key={profile.id}\r\n                                    onClick={() => window.location.href = `/user/${profile.user.username}`}\r\n                                >\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div className=\"profile-col\">\r\n                                            <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                className=\"profile-img-med\"\r\n                                                style={{ marginRight: '10px' }}\r\n                                            />\r\n                                            <div className=\"main-profile-data\">\r\n                                                <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"profile-col\">\r\n                                            {profile.bio}\r\n                                        </div>\r\n                                        <div className=\"profile-col\">\r\n                                            <button className=\"btn btn-secondary\" data-pk={profile.id} onClick={handleRelationshipUpdate}>\r\n                                                Solicitar\r\n                                    </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        })\r\n                        }\r\n                    </div> :\r\n                    <div className=\"profiles-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { handleLogout } from '../../utils'\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <div className=\"header fixed-top\">\r\n            {!props.backArrow ? '' :\r\n            <i class=\"fas fa-arrow-left left-arrow-icon\" onClick={() => window.history.back()}/>}\r\n            <strong>{props.page}</strong>\r\n            <a className=\"logout\" onClick={handleLogout}>Sair</a>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Posts from './home-components/posts'\r\nimport Profiles from './home-components/profiles'\r\nimport Header from '../components/main/header'\r\nimport BottomMenu from '../components/main/bottomMenu'\r\n\r\nexport default function Home(props) {\r\n    const [page, setPage] = useState('Posts')\r\n    const pages = {\r\n        'Perfis': <Profiles />,\r\n        'Posts': <Posts />\r\n    }\r\n\r\n    document.title = 'Home / Napker'\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Home\" />\r\n            <div className=\"content\">\r\n                <div className=\"home-page-subheader\">\r\n                    {page === 'Perfis' ?\r\n                        'Veja o que os seus amigos andam fazendo: ' :\r\n                        'Veja usurios com os mesmos interesses que voc: '\r\n                    }\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-primary\"\r\n                        style={{ margin: '10px', borderRadius: '20px' }}\r\n                        onClick={() => setPage(page === 'Perfis' ? 'Posts' : 'Perfis')}\r\n                    >\r\n                        {page === 'Perfis' ?\r\n                            'Ver posts' :\r\n                            'Ver perfis'\r\n                        }\r\n                    </button>\r\n                </div>\r\n                {pages[page]}\r\n                <BottomMenu notificationsNumber={props.notificationsNumber} unreadMessagesNumber={props.unreadMessagesNumber} />\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Header from '../components/main/header'\r\nimport { SERVER_URL } from '../settings'\r\nimport { csrftoken } from '../utils'\r\n\r\nexport default function Notifications(props) {\r\n    const [invites, setInvites] = useState(null)\r\n    const [unvisualizedPostLikes, setUnvisualizedPostLikes] = useState(null)\r\n    const [visualizedPostLikes, setVisualizedPostLikes] = useState(null)\r\n    const [unvisualizedComments, setUnvisualizedComments] = useState(null)\r\n    const [visualizedComments, setVisualizedComments] = useState(null)\r\n\r\n    let notificationsFetchInterval\r\n\r\n    document.title = 'Notificaes / Napker'\r\n\r\n    const fetchNotifications = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvites(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisualizedComments(data))\r\n        fetch(`${SERVER_URL}/post-api/post-likes-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedPostLikes(data))\r\n        fetch(`${SERVER_URL}/post-api/post-comments-visualized-last-2-days`)\r\n            .then(response => response.json())\r\n            .then(data => setVisualizedComments(data))\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchNotifications()\r\n        notificationsFetchInterval = window.setInterval(fetchNotifications, 3000)\r\n        return () => window.clearInterval(notificationsFetchInterval)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedPostLikes && unvisualizedPostLikes.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-likes`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedPostLikes])\r\n\r\n    useEffect(() => {\r\n        if (unvisualizedComments && unvisualizedComments.length) {\r\n            fetch(`${SERVER_URL}/post-api/visualize-comments`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.updateNotificationsNumber()\r\n                })\r\n        }\r\n    }, [unvisualizedComments])\r\n\r\n    const replyRequest = e => {\r\n        e.stopPropagation()\r\n        const btn = e.target\r\n        const requestBody = {\r\n            'senderid': btn.dataset.senderid,\r\n            'reply': btn.dataset.reply\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(requestBody)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                props.updateNotificationsNumber()\r\n            })\r\n        document.getElementById(`fr-${btn.dataset.senderid}`).remove()\r\n        fetchNotifications()\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header page=\"Notificaes\" />\r\n            <div className=\"content\">\r\n                <div>\r\n                    {invites !== null && unvisualizedPostLikes && visualizedPostLikes !== null && unvisualizedComments !== null && visualizedComments !== null ?\r\n                        <div>\r\n                            {invites.length || unvisualizedPostLikes.length || visualizedPostLikes.length || unvisualizedComments.length || !!visualizedComments.length ?\r\n                                <div className=\"notifications-container\">\r\n                                    {!!invites.length &&\r\n                                        <div>\r\n                                            {invites.map(i => {\r\n                                                return (\r\n                                                    <li\r\n                                                        className=\"friend-request-row\"\r\n                                                        id={`fr-${i.sender.id}`}\r\n                                                        key={i.sender.id}\r\n                                                        onClick={() => window.location.href = `/user/${i.sender.user.username}`}\r\n                                                    >\r\n                                                        <div className=\"friend-request-col\">\r\n                                                            <img src={`${SERVER_URL}${i.sender.photo}`}\r\n                                                                className=\"profile-img-med\"\r\n                                                                style={{ marginRight: '10px' }}\r\n                                                            />\r\n                                                            <div className=\"d-flex flex-column align-items-start\">\r\n                                                                <strong>{i.sender.first_name} {i.sender.last_name}</strong>\r\n                                                                <p className=\"text-secondary\">@{i.sender.user.username}</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"friend-request-col\">\r\n                                                            {i.sender.bio}\r\n                                                        </div>\r\n                                                        <div className=\"friend-request-col\" style={{ justifyContent: 'space-between' }}>\r\n                                                            <button className=\"btn btn-primary btn-reply-fr mr-1\" data-senderid={i.sender.id} data-reply='accept' onClick={replyRequest}>Confirmar</button>\r\n                                                            <button className=\"btn btn-grey btn-reply-fr\" data-senderid={i.sender.id} data-reply='decline' onClick={replyRequest}>Excluir</button>\r\n                                                        </div>\r\n                                                    </li>\r\n                                                )\r\n                                            })}\r\n                                        </div>\r\n                                    }\r\n\r\n                                    {(!!unvisualizedPostLikes.length || !!unvisualizedComments.length) &&\r\n                                        <>\r\n                                            {!!unvisualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {unvisualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <li className=\"notification-row\" key={like.profile.id}>\r\n                                                                <div className=\"d-flex align-items-center\">\r\n                                                                    <i class=\"fas fa-heart notification-like\" />\r\n                                                                    <Link to={`/user/${like.profile.user.username}`}>\r\n                                                                        <img src={`${SERVER_URL}${like.profile.photo}`}\r\n                                                                            className=\"profile-img-sm\"\r\n                                                                            style={{ marginRight: '10px' }}\r\n                                                                        />\r\n                                                                    </Link>\r\n                                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                                        {like.created.split('-').reverse().join('/')}\r\n                                                                    </p>\r\n                                                                    <div className=\"notification-text-container\">\r\n                                                                        <div className=\"notification-text\">\r\n                                                                            novo\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div className=\"notification-message\">\r\n                                                                    <p>\r\n                                                                        <Link to={`/user/${like.profile.user.username}`} style={{ color: \"#000\" }}>\r\n                                                                            @{like.profile.user.username}\r\n                                                                        </Link> curtiu seu post.\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-post-content\">\r\n                                                                    {like.post.content}\r\n                                                                </div>\r\n                                                            </li>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!unvisualizedComments.length &&\r\n                                                <>\r\n                                                    {unvisualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <li className=\"notification-row\" key={comment.author.id}>\r\n                                                                <div className=\"d-flex align-items-center\">\r\n                                                                    <i class=\"fas fa-comment notification-comment\" />\r\n                                                                    <Link to={`/user/${comment.author.user.username}`}>\r\n                                                                        <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                                                                            className=\"profile-img-sm\"\r\n                                                                            style={{ marginRight: '10px' }}\r\n                                                                        />\r\n                                                                    </Link>\r\n                                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                                        {comment.created.split('-').reverse().join('/')}\r\n                                                                    </p>\r\n                                                                    <div className=\"notification-text-container\">\r\n                                                                        <div className=\"notification-text\">\r\n                                                                            novo\r\n                                                                    </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div className=\"notification-message\">\r\n                                                                    <p>\r\n                                                                        <Link to={`/user/${comment.author.user.username}`} style={{ color: \"#000\" }}>\r\n                                                                            @{comment.author.user.username}\r\n                                                                        </Link> comentou seu post.\r\n                                                                </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-comment-container\">\r\n                                                                    <div className=\"notification-comment-content\">\r\n                                                                        {comment.content}\r\n                                                                    </div>\r\n                                                                    <Link to={`/post/${comment.post.id}`}>\r\n                                                                        <button className=\"btn btn-primary\">\r\n                                                                            Ver Post\r\n                                                                        </button>\r\n                                                                    </Link>\r\n                                                                </div>\r\n                                                            </li>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                    {(!!visualizedPostLikes.length || !!visualizedComments.length) &&\r\n                                        <>\r\n                                            {!!visualizedPostLikes.length &&\r\n                                                <>\r\n                                                    {visualizedPostLikes.map(like => {\r\n                                                        return (\r\n                                                            <li className=\"notification-row\" key={like.profile.id}>\r\n                                                                <div className=\"d-flex align-items-center\">\r\n                                                                    <i class=\"fas fa-heart notification-like\" />\r\n                                                                    <Link to={`/user/${like.profile.user.username}`}>\r\n                                                                        <img src={`${SERVER_URL}${like.profile.photo}`}\r\n                                                                            className=\"profile-img-sm\"\r\n                                                                            style={{ marginRight: '10px' }}\r\n                                                                        />\r\n                                                                    </Link>\r\n                                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                                        {like.created.split('-').reverse().join('/')}\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-message\">\r\n                                                                    <p>\r\n                                                                        <Link to={`/user/${like.profile.user.username}`} style={{ color: \"#000\" }}>\r\n                                                                            @{like.profile.user.username}\r\n                                                                        </Link> curtiu seu post.\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-post-content\">\r\n                                                                    {like.post.content}\r\n                                                                </div>\r\n                                                            </li>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!!visualizedComments.length &&\r\n                                                <>\r\n                                                    {visualizedComments.map(comment => {\r\n                                                        return (\r\n                                                            <li className=\"notification-row\" key={comment.author.id}>\r\n                                                                <div className=\"d-flex align-items-center\">\r\n                                                                    <i class=\"fas fa-comment notification-comment\" />\r\n                                                                    <Link to={`/user/${comment.author.user.username}`}>\r\n                                                                        <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                                                                            className=\"profile-img-sm\"\r\n                                                                            style={{ marginRight: '10px' }}\r\n                                                                        />\r\n                                                                    </Link>\r\n                                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                                        {comment.created.split('-').reverse().join('/')}\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-message\">\r\n                                                                    <p>\r\n                                                                        <Link to={`/user/${comment.author.user.username}`} style={{ color: \"#000\" }}>\r\n                                                                            @{comment.author.user.username}\r\n                                                                        </Link> comentou seu post.\r\n                                                                    </p>\r\n                                                                </div>\r\n                                                                <div className=\"notification-comment-container\">\r\n                                                                    <div className=\"notification-comment-content\">\r\n                                                                        {comment.content}\r\n                                                                    </div>\r\n                                                                    <Link to={`/post/${comment.post.id}`}>\r\n                                                                        <button className=\"btn btn-primary\">\r\n                                                                            Ver Post\r\n                                                                        </button>\r\n                                                                    </Link>\r\n                                                                </div>\r\n                                                            </li>\r\n                                                        )\r\n                                                    })}\r\n                                                </>\r\n                                            }\r\n                                        </>\r\n                                    }\r\n\r\n                                </div> :\r\n                                <div className=\"no-notifications-container\">\r\n                                    <h3>Voc no tem nenhuma notificao</h3>\r\n                                </div>\r\n                            }\r\n\r\n\r\n                        </div> :\r\n                        <div className=\"notifications-loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { SOCKET_URL } from '../../settings'\r\n\r\nclass WebSocketService {\r\n  static instance = null;\r\n  callbacks = {};\r\n\r\n  static getInstance() {\r\n    if (!WebSocketService.instance) {\r\n      WebSocketService.instance = new WebSocketService();\r\n    }\r\n    return WebSocketService.instance;\r\n  }\r\n\r\n  constructor() {\r\n    this.socketRef = null;\r\n  }\r\n\r\n  connect(chatUrl) {\r\n    const path = `${SOCKET_URL}/ws/chat/${chatUrl}/`;\r\n    this.socketRef = new WebSocket(path);\r\n    this.socketRef.onopen = () => {\r\n      console.log(\"WebSocket open\");\r\n    };\r\n    this.socketNewMessage(JSON.stringify({\r\n      command: 'messages'\r\n    }))\r\n    this.socketRef.onmessage = e => {\r\n      this.socketNewMessage(e.data);\r\n    };\r\n    this.socketRef.onerror = e => {\r\n      console.log(e.message);\r\n    };\r\n    this.socketRef.onclose = () => {\r\n      console.log(\"WebSocket closed\");\r\n    };\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socketRef) this.socketRef.close();\r\n  }\r\n\r\n  socketNewMessage(data) {\r\n    const parsedData = JSON.parse(data);\r\n    const command = parsedData.command;\r\n    if (Object.keys(this.callbacks).length === 0) {\r\n      return;\r\n    }\r\n    if (command === \"messages\") {\r\n      this.callbacks[command](parsedData.messages);\r\n    }\r\n    if (command === \"new_message\") {\r\n      this.callbacks[command](parsedData.message);\r\n    }\r\n  }\r\n\r\n  fetchMessages(username, chatId) {\r\n    this.sendMessage({\r\n      command: \"fetch_messages\",\r\n      username: username,\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  newChatMessage(message) {\r\n    this.sendMessage({\r\n      command: \"new_message\",\r\n      from: message.from,\r\n      content: message.content,\r\n      chatId: message.chatId\r\n    });\r\n  }\r\n\r\n  readMessages(chatId) {\r\n    this.sendMessage({\r\n      command: \"read_messages\",\r\n      chatId: chatId\r\n    });\r\n  }\r\n\r\n  addCallbacks(messagesCallback, newMessageCallback) {\r\n    this.callbacks[\"messages\"] = messagesCallback\r\n    this.callbacks[\"new_message\"] = newMessageCallback\r\n    this.callbacks[\"updated_messages\"] = newMessageCallback\r\n  }\r\n\r\n  sendMessage(data) {\r\n    try {\r\n      this.socketRef.send(JSON.stringify({ ...data }));\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  }\r\n\r\n  state() {\r\n    return this.socketRef ? this.socketRef.readyState : 0\r\n  }\r\n}\r\n\r\nconst WebSocketInstance = WebSocketService.getInstance();\r\n\r\nexport default WebSocketInstance;","import React from 'react'\r\nimport Picker from 'emoji-picker-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { csrftoken, openCloseEmojiList } from '../../utils'\r\nimport { SERVER_URL } from '../../settings'\r\nimport WebSocketInstance from './websocket'\r\n\r\nclass Chat extends React.Component {\r\n    initialiseChat() {\r\n        this.waitForSocketConnection(() => {\r\n            WebSocketInstance.addCallbacks(\r\n                this.getMessages.bind(this),\r\n                this.addMessage.bind(this),\r\n                this.getUpdatedMessages.bind(this)\r\n            )\r\n            WebSocketInstance.fetchMessages(\r\n                this.props.username,\r\n                this.props.chatId\r\n            );\r\n        });\r\n        if (this.props.chatId) WebSocketInstance.connect(this.props.chatId)\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            message: '',\r\n            messages: [],\r\n            myProfile: null,\r\n            otherUsername: this.props.otherUsername,\r\n            otherProfile: null\r\n        }\r\n        this.initialiseChat();\r\n    }\r\n\r\n    handleComponentChange = () => {\r\n        this.scrollToBottom();\r\n        if (this.state.otherUsername && (!this.state.otherProfile || this.state.otherProfile.user.username !== this.state.otherUsername)) {\r\n            fetch(`${SERVER_URL}/profile-api/user/${this.state.otherUsername}`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({\r\n                    otherProfile: data\r\n                }))\r\n        }\r\n        if (!this.state.myProfile) {\r\n            fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n                .then(response => response.json())\r\n                .then(data => this.setState({ myProfile: data }))\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n        document.querySelector('#chat-message-input') && document.querySelector('#chat-message-input').focus()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        WebSocketInstance.disconnect()\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (this.props.chatId !== newProps.chatId) {\r\n            WebSocketInstance.disconnect();\r\n            this.waitForSocketConnection(() => {\r\n                WebSocketInstance.fetchMessages(\r\n                    this.props.username,\r\n                    newProps.chatId\r\n                );\r\n            });\r\n            WebSocketInstance.connect(newProps.chatId);\r\n\r\n            this.props.updateMessagesComponent()\r\n            this.setState({\r\n                message: '',\r\n                otherUsername: newProps.otherUsername\r\n            })\r\n        }\r\n        if (newProps.chatId) {\r\n            this.readMessages(newProps)\r\n        }\r\n        if (this.props.updateUnreadMessagesNumber) {\r\n            this.props.updateUnreadMessagesNumber()\r\n        }\r\n    }\r\n\r\n    readMessages = props => {\r\n        fetch(`${SERVER_URL}/chat-api/read-messages`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({ chat_id: props.chatId })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                WebSocketInstance.readMessages(this.props.chatId)\r\n            })\r\n    }\r\n\r\n    waitForSocketConnection(callback) {\r\n        const component = this;\r\n        setTimeout(function () {\r\n            if (WebSocketInstance.state() === 1) {\r\n                console.log(\"Connection is made\");\r\n                callback();\r\n                return;\r\n            } else {\r\n                console.log(\"wait for connection...\");\r\n                component.waitForSocketConnection(callback);\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    getMessages(messages) {\r\n        this.setState({ messages: messages.reverse() })\r\n    }\r\n\r\n    addMessage(message) {\r\n        this.setState({ messages: [...this.state.messages, message] })\r\n        this.readMessages(this.props)\r\n    }\r\n\r\n    getUpdatedMessages(messages) {\r\n        this.setState({ messages: messages.reverse() })\r\n    }\r\n\r\n    messageChangeHandler = e => {\r\n        this.setState({ message: e.target.value })\r\n        const el = document.querySelector('#chat-message-submit')\r\n        el.disabled = e.target.value.trim() === ''\r\n    };\r\n\r\n    sendMessageHandler = e => {\r\n        e.preventDefault()\r\n        const messageObject = {\r\n            from: this.props.username,\r\n            content: this.state.message,\r\n            chatId: this.props.chatId\r\n        };\r\n        this.setState({ message: '' })\r\n        if (this.state.otherProfile.blocked_users.map(u => u.id).includes(this.state.myProfile.user.id)) {\r\n            window.alert(`Voc no pode enviar mensagens para @${this.state.otherUsername}.\r\n            ${this.state.otherProfile.first_name} te bloqueou.`)\r\n            return\r\n        }\r\n        if (this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.otherProfile.user.id)) {\r\n            window.alert(`Voc no pode enviar mensagens para @${this.state.otherUsername}.\r\n            Voc bloqueou ${this.state.otherProfile.first_name}.`)\r\n            return\r\n        }\r\n        WebSocketInstance.newChatMessage(messageObject)\r\n        document.querySelector('#chat-message-submit').disabled = true\r\n        openCloseEmojiList(true)\r\n        this.props.updateMessagesComponent()\r\n    };\r\n\r\n    renderTimestamp = timestamp => {\r\n        const ts = new Date(timestamp)\r\n        const day = ts.getDate() >= 10 ? ts.getDate() : `0${ts.getDate()}`\r\n        const month = ts.getMonth() >= 10 ? ts.getMonth() : `0${ts.getMonth()}`\r\n        const hour = ts.getHours() >= 10 ? ts.getHours() : `0${ts.getHours()}`\r\n        const minute = ts.getMinutes() >= 10 ? ts.getMinutes() : `0${ts.getMinutes()}`\r\n        return `${day}/${month}/${ts.getFullYear()} - ${hour}:${minute}`\r\n    };\r\n\r\n    renderMessages = messages => {\r\n        const currentUser = this.props.username;\r\n        return messages.map(message => (\r\n            <li\r\n                key={message.id}\r\n                className={message.author === currentUser ? \"sent\" : \"received\"}\r\n            >\r\n                <p>\r\n                    {message.content}\r\n                    <br />\r\n                    <small>\r\n                        {this.renderTimestamp(message.timestamp)} {message.author === currentUser ?\r\n                            message.read ?\r\n                                <i class=\"fas fa-check-double\" />\r\n                                :\r\n                                <i class=\"fas fa-check\" />\r\n                            :\r\n                            ''\r\n                        }\r\n                    </small>\r\n                </p>\r\n            </li>\r\n        ));\r\n    };\r\n\r\n    scrollToBottom = () => {\r\n        if (document.querySelector('#chat-log')) {\r\n            const chatLog = document.querySelector('#chat-log')\r\n            chatLog.scrollTop = chatLog.scrollHeight\r\n        }\r\n    };\r\n\r\n    onEmojiSelect = (event, emojiObject) => {\r\n        this.setState({ message: this.state.message + emojiObject.emoji })\r\n        document.querySelector('#chat-message-submit').disabled = false\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.state.otherProfile !== null || !this.props.otherUsername ?\r\n                    <>\r\n                        {this.state.otherProfile ?\r\n                            <div className=\"d-flex flex-column justify-content-between align-items-center current-chat\">\r\n                                <div className=\"current-chat-header\">\r\n                                    <Link to={`/user/${this.state.otherProfile.user.username}`}>\r\n                                        <img src={`${SERVER_URL}${this.state.otherProfile.photo}`}\r\n                                            className=\"profile-img-sm\"\r\n                                            style={{ marginRight: '5px' }}\r\n                                        />\r\n                                    </Link>\r\n                                    <div className=\"d-flex flex-column align-items-start\" style={{ height: '52px' }}>\r\n                                        <strong>{this.state.otherProfile.first_name} {this.state.otherProfile.last_name}</strong>\r\n                                        <p className=\"text-secondary\">@{this.state.otherProfile.user.username}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div id=\"chat-log\">\r\n                                    {this.state.messages ? this.renderMessages(this.state.messages) : ''}\r\n                                </div>\r\n                                <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                                    <Picker onEmojiClick={this.onEmojiSelect} />\r\n                                </div>\r\n                                <form className=\"send-message-container\" onSubmit={this.sendMessageHandler}>\r\n                                    <label\r\n                                        className=\"far fa-smile\"\r\n                                        id=\"emoji-button\"\r\n                                        onClick={() => openCloseEmojiList(false)}\r\n                                    />\r\n                                    <input\r\n                                        placeholder=\"Mensagem\"\r\n                                        className=\"message-input\"\r\n                                        id=\"chat-message-input\"\r\n                                        value={this.state.message}\r\n                                        autoFocus={document.querySelector('#contact-filter-input').value === ''}\r\n                                        onChange={this.messageChangeHandler}\r\n                                    />\r\n                                    <button\r\n                                        className=\"btn btn-primary chat-message-submit\"\r\n                                        id=\"chat-message-submit\"\r\n                                        disabled\r\n                                    >\r\n                                        <i class=\"fas fa-chevron-right\" />\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                            :\r\n                            <div className=\"d-flex flex-column justify-content-center align-items-center current-chat\">\r\n                                <div>\r\n                                    <strong style={{ fontSize: 'larger' }}>Voc no tem uma conversa selecionada</strong>\r\n                                    <p className=\"text-secondary\">Selecione uma existente ou comece uma nova</p>\r\n                                    <button className=\"btn btn-primary\" onClick={() => this.props.openModal()}>Nova conversa</button>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"chat-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Chat\r\n","import React from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport Chat from './chat'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nclass Messages extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            username: null,\r\n            chatId: null,\r\n            activeChats: null,\r\n            activeChatsProfiles: null,\r\n            addingNewChat: false,\r\n            modalProfiles: [],\r\n        }\r\n        this.rerenderingInterval = null\r\n    }\r\n\r\n    handleReceiveProps = props => {\r\n        const participants = { username: this.state.username, other_username: props.match.params.user.username }\r\n        fetch(`${SERVER_URL}/chat-api/chat-id/${JSON.stringify(participants)}`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                chatId: data['chat_id']\r\n            }))\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps === this.props) return\r\n        this.handleReceiveProps(newProps)\r\n    }\r\n\r\n    handleComponentChange() {\r\n        if (!this.state.username) {\r\n            fetch(`${SERVER_URL}/profile-api/logged-user`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    this.setState({\r\n                        username: data.username\r\n                    })\r\n                    if (this.props.match.params.user.username) {\r\n                        this.handleReceiveProps(this.props)\r\n                    }\r\n                })\r\n        }\r\n        if (!this.state.activeChatsProfiles && this.state.activeChatsProfiles !== []) {\r\n            this.fetchActiveChatProfiles()\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        document.title = 'Mensagens / Napker'\r\n        this.handleComponentChange()\r\n        this.rerenderingInterval = window.setInterval(this.fetchActiveChatProfiles, 3000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.clearInterval(this.rerenderingInterval)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.handleComponentChange()\r\n    }\r\n\r\n    fetchActiveChatProfiles = () => {\r\n        console.log('fetching profiles...')\r\n        fetch(`${SERVER_URL}/chat-api/active-chats-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (!this.state.username) return\r\n                this.setState({\r\n                    activeChats: data.chats.reverse(),\r\n                    activeChatsProfiles: data.profiles.reverse()\r\n                })\r\n            })\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({\r\n            addingNewChat: true\r\n        })\r\n    }\r\n\r\n    setModalSearch = query => {\r\n        if (query === '') {\r\n            this.setState({\r\n                modalProfiles: []\r\n            })\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/profile-api/users/${query}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    modalProfiles: data\r\n                })\r\n            })\r\n    }\r\n\r\n    setContactSearch = query => {\r\n        if (query === '') {\r\n            this.fetchActiveChatProfiles()\r\n            return\r\n        }\r\n        if (this.state.activeChatsProfiles) {\r\n            const filteredProfiles = this.state.activeChatsProfiles.filter(p => p.user.username.includes(query))\r\n            this.setState({\r\n                activeChatsProfiles: filteredProfiles\r\n            })\r\n        }\r\n    }\r\n\r\n    resetUnreadMessagesCounter = () => {\r\n        this.unreadMessagesCounter = 0\r\n    }\r\n\r\n    incrementUnreadMessagesCounter = () => {\r\n        this.unreadMessagesCounter++\r\n    }\r\n\r\n    setLastChatMessage = message => {\r\n        this.lastChatMessage = message\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page=\"Mensagens\" />\r\n                <div className=\"content d-flex messages-wrapper\">\r\n                    <Modal show={this.state.addingNewChat}\r\n                        onHide={() => this.setState({ addingNewChat: false })}\r\n                        size=\"lg\">\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title><strong>Nova conversa</strong></Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body style={{ padding: '0' }}>\r\n                            <input className=\"modal-search-input\"\r\n                                placeholder=\"Pesquisar pessoas\"\r\n                                onChange={e => this.setModalSearch(e.target.value)}\r\n                            />\r\n                            <div className=\"list-group\" style={{ height: '400px', overflow: 'hidden', overflowY: 'scroll' }}>\r\n                                {this.state.modalProfiles && this.state.modalProfiles.map(profile => {\r\n                                    return (\r\n                                        <Link to={`/mensagens/${profile.user.username}`}\r\n                                            style={{ color: '#000', textDecoration: 'none' }}\r\n                                            onClick={() => this.setState({\r\n                                                addingNewChat: false\r\n                                            })}\r\n                                        >\r\n                                            <li className=\"list-group-item profile-row modal-profile-li\" key={profile.id}>\r\n                                                <div className=\"d-flex justify-content-between\">\r\n                                                    <div className=\"profile-col\">\r\n                                                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                            className=\"profile-img-med\"\r\n                                                            style={{ marginRight: '10px' }}\r\n                                                        />\r\n                                                        <div className=\"main-profile-data\">\r\n                                                            <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                            <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"profile-col\">\r\n                                                        {profile.bio}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </li>\r\n                                        </Link>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        </Modal.Body>\r\n                    </Modal>\r\n                    <div className=\"d-flex flex-column chats-list\">\r\n                        <div className=\"search-input-container\">\r\n                            <input className=\"search-input\" id=\"contact-filter-input\" placeholder=\"Pesquisar pessoas\" onChange={e => this.setContactSearch(e.target.value)} />\r\n                            <i className=\"fas fa-plus add-icon\" onClick={this.openModal}></i>\r\n                        </div>\r\n                        <div className=\"list-group chats-container\">\r\n                            {this.state.activeChatsProfiles !== null ?\r\n                                this.state.activeChatsProfiles.map(profile => {\r\n                                    return (\r\n                                        <Link to={`/mensagens/${profile.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                            {this.resetUnreadMessagesCounter()}\r\n                                            <li className=\"list-item profile-chat-item\" style={{ whiteSpace: 'nowrap' }}>\r\n                                                <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                    className=\"profile-img-med\"\r\n                                                    style={{ marginRight: '10px' }}\r\n                                                />\r\n                                                <div className=\"d-flex flex-column align-items-start\">\r\n                                                    <div className=\"d-flex\" style={{ maxHeight: '30px' }}>\r\n                                                        <strong style={{ height: 'fit-content' }}>{profile.first_name} {profile.last_name}</strong>\r\n                                                        {this.state.activeChats[this.state.activeChatsProfiles.indexOf(profile)].messages.map(message => {\r\n                                                            const messages = this.state.activeChats[this.state.activeChatsProfiles.indexOf(profile)].messages\r\n                                                            if (messages[messages.length - 1] === message) this.setLastChatMessage(message.content)\r\n                                                            if (message.read || message.contact.user.username !== profile.user.username) return\r\n                                                            this.incrementUnreadMessagesCounter()\r\n                                                        })}\r\n                                                        {this.unreadMessagesCounter ?\r\n                                                            <div className=\"notification-text-container\">\r\n                                                                <div className=\"notification-text\">\r\n                                                                    {this.unreadMessagesCounter}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            : ''\r\n                                                        }\r\n                                                        <p className=\"text-secondary\" style={{ marginLeft: '5px' }}>@{profile.user.username}</p>\r\n                                                    </div>\r\n                                                    <p className=\"text-secondary\">{this.lastChatMessage.slice(0, 40)}</p>\r\n                                                </div>\r\n                                            </li>\r\n                                        </Link>\r\n                                    )\r\n                                }) :\r\n                                <div className=\"messages-loader-container\">\r\n                                    <div className=\"loader\" />\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <Chat username={this.state.username}\r\n                        otherUsername={this.props.match.params.user.username}\r\n                        chatId={this.state.chatId}\r\n                        openModal={this.openModal}\r\n                        updateUnreadMessagesNumber={this.props.updateUnreadMessagesNumber}\r\n                        updateMessagesComponent={this.fetchActiveChatProfiles}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Messages","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport LikesModal from '../../components/LikesModal'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken } from '../../utils'\r\n\r\nexport default function Posts(props) {\r\n    const [myprofile, setMyProfile] = useState(null)\r\n    const [likesModal, setLikesModal] = useState({ isOpen: false, likes: null })\r\n    const profile = props.profile\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const likeUnlikePost = e => {\r\n        e.stopPropagation()\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.fetchProfile()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    props.fetchProfile()\r\n                })\r\n        }\r\n    }\r\n\r\n    const hideLikesModal = () => {\r\n        setLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    const deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ao  irreversvel.')) {\r\n            el.style.animationPlayState = 'running'\r\n            el.addEventListener('animationend', () => {\r\n                props.fetchProfile()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <LikesModal\r\n                isOpen={likesModal.isOpen}\r\n                likes={likesModal.likes}\r\n                hideModal={hideLikesModal}\r\n            />\r\n            <div className=\"post-list\">\r\n                {profile && myprofile ?\r\n                    <>\r\n                        {profile.posts.length ? profile.posts.map(post => {\r\n                            return (\r\n                                <li\r\n                                    className=\"post-container post-list-item\"\r\n                                    key={post.id}\r\n                                    id={`profile-post-${post.id}`}\r\n                                    onClick={() => window.location.href = `/post/${post.id}`}\r\n                                >\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <div className=\"post-row\">\r\n                                            <div className=\"post-col\">\r\n                                                <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                    className=\"profile-img-med\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"post-col\">\r\n                                                <div style={{ height: '30px' }}>\r\n                                                    <strong>{profile.first_name} {profile.last_name} </strong>\r\n                                                    <p className=\"text-secondary d-inline-block\">\r\n                                                        @{profile.user.username}  {post.created.split('-').reverse().join('/')}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div style={{ textAlign: 'start' }}>\r\n                                                    {post.content}\r\n                                                </div>\r\n                                                {post.image &&\r\n                                                    <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                        {profile.id == myprofile.id &&\r\n                                            <i\r\n                                                className=\"far fa-trash-alt trash-icon text-secondary\"\r\n                                                style={{ margin: '20px 20px 0 0' }}\r\n                                                onClick={e => deletePost(e, post.id)}\r\n                                            />}\r\n                                    </div>\r\n                                    <div className=\"post-actions\">\r\n                                        <p className=\"text-secondary\">\r\n                                            <Link\r\n                                                to={`/post/${post.id}/comment`}\r\n                                                className=\"text-secondary\"\r\n                                                onClick={e => e.stopPropagation()}\r\n                                            >\r\n                                                <i class=\"far fa-comment\" />\r\n                                            </Link>{post.comments.length}\r\n                                            {post.likes.map(like => like.profile.id).includes(myprofile.id) ?\r\n                                                <i class=\"fas fa-heart\"\r\n                                                    data-postid={post.id}\r\n                                                    onClick={likeUnlikePost}\r\n                                                />\r\n                                                :\r\n                                                <i class=\"far fa-heart\"\r\n                                                    data-postid={post.id}\r\n                                                    onClick={likeUnlikePost}\r\n                                                />}\r\n                                            <p className=\"post-likes-number\"\r\n                                                onClick={e => {\r\n                                                    e.stopPropagation()\r\n                                                    setLikesModal({ isOpen: true, likes: post.likes })\r\n                                                }\r\n                                                }\r\n                                            >\r\n                                                {post.likes.length}\r\n                                            </p>\r\n                                        </p>\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                        }) :\r\n                            <div className=\"no-posts-container\">\r\n                                {profile.id === myprofile.id ?\r\n                                    <h3 style={{ marginTop: '50px' }}>Voc no tem posts</h3>\r\n                                    :\r\n                                    <h3 style={{ marginTop: '50px' }}>{profile.first_name} no tem posts</h3>\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </>\r\n                    :\r\n                    <div className=\"posts-loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Interests(props) {\r\n    const profile = props.profile\r\n\r\n    return (\r\n        <div className=\"interests-page-container\">\r\n            <h3>Interesses pblicos de {profile.first_name}</h3>\r\n            <div>\r\n                {profile && profile.interests.filter(i => i.public).map(interest => {\r\n                    return (\r\n                        <>\r\n                            {interest.title &&\r\n                                <>\r\n                                    <hr />\r\n                                    <li className=\"interest-item\">\r\n                                        {interest.title[0].toUpperCase() + interest.title.slice(1)}\r\n                                        <Link to={`/interesses/${interest.title}`}>\r\n                                            <button className=\"btn-secondary\" style={{ padding: '5px' }}>Pesquisar usurios</button>\r\n                                        </Link>\r\n                                    </li>\r\n                                </>\r\n                            }\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport Header from '../components/main/header'\r\nimport Posts from './profile-components/posts'\r\nimport Interests from './profile-components/interests'\r\nimport { SERVER_URL } from '../settings'\r\nimport { csrftoken, openCloseEmojiList } from '../utils'\r\n\r\nexport default function MyProfile() {\r\n    const [profile, setProfile] = useState(null)\r\n    const [profileImagePreview, setProfileImagePreview] = useState(null)\r\n    const [isEditing, setIsEditing] = useState(false)\r\n    const [editingBioContent, setEditingBioContent] = useState('')\r\n    const [currentPageIsPosts, setCurrentPageIsPosts] = useState(true)\r\n\r\n    document.title = 'Perfil / Napker'\r\n\r\n    useEffect(() => {\r\n        fetchProfile()\r\n    }, [])\r\n\r\n    const fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setProfile(data)\r\n                setProfileImagePreview(`${SERVER_URL}${data.photo}`)\r\n            })\r\n    }\r\n\r\n    const switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            setCurrentPageIsPosts(true)\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            setCurrentPageIsPosts(false)\r\n        }\r\n    }\r\n\r\n    const handleProfileImageChange = e => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                setProfileImagePreview(reader.result)\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const handleUsernameChange = e => {\r\n        if (e.target.value.trim() !== '') {\r\n            fetch(`${SERVER_URL}/profile-api/user/${e.target.value}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (data.bool !== 'false' && data.id !== profile.id) {\r\n                        document.querySelector('#username-taken').style.display = 'initial'\r\n                    } else {\r\n                        document.querySelector('#username-taken').style.display = 'none'\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setEditingBioContent(editingBioContent + emojiObject.emoji)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Perfil\" />\r\n            <div className=\"content\">\r\n                {profile ?\r\n                    <>\r\n                        <Modal show={isEditing}\r\n                            onHide={() => setIsEditing(false)}\r\n                            size=\"lg\">\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>Editar perfil</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                <form\r\n                                    action={`${SERVER_URL}/update-profile`}\r\n                                    className=\"d-flex flex-column justify-content-center\"\r\n                                    id=\"update-profile-form\"\r\n                                    method=\"POST\"\r\n                                    encType=\"multipart/form-data\"\r\n                                >\r\n                                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                                    <div className=\"d-flex flex-column justify-content-center align-items-center mb-10px\">\r\n                                        <img src={profileImagePreview}\r\n                                            className=\"profile-img-big\"\r\n                                            style={{ marginBottom: '25px' }}\r\n                                        />\r\n                                        <input\r\n                                            type=\"file\"\r\n                                            accept=\"image/png, image/jpg, image/jpeg\"\r\n                                            name=\"profile-photo\"\r\n                                            onChange={handleProfileImageChange}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"d-flex justify-content-center\">\r\n                                        Email: {profile.email}\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"first-name\" className=\"profile-field-label\">Nome:</label>\r\n                                        <input className=\"profile-field-input\" type=\"text\" name=\"first-name\" id=\"first-name\" placeholder={profile.first_name} />\r\n                                    </div>\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"last-name\" className=\"profile-field-label\">Sobrenome:</label>\r\n                                        <input className=\"profile-field-input\" type=\"text\" name=\"last-name\" id=\"last-name\" placeholder={profile.last_name} />\r\n                                    </div>\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"username\" className=\"profile-field-label\">Nome de usurio:</label>\r\n                                        <input\r\n                                            className=\"profile-field-input\"\r\n                                            type=\"text\"\r\n                                            name=\"username\"\r\n                                            id=\"username\"\r\n                                            placeholder={profile.user.username}\r\n                                            onChange={handleUsernameChange}\r\n                                        />\r\n                                    </div>\r\n                                    <div\r\n                                        id=\"username-taken\"\r\n                                        style={{ display: 'none', width: '100%', textAlign: 'center', padding: '3px' }}\r\n                                    >\r\n                                        <span>Nome de usurio j existe</span>\r\n                                    </div>\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"birth-date\" className=\"profile-field-label\">Data de nascimento:</label>\r\n                                        <input className=\"profile-field-input\" type=\"date\" name=\"birth-date\" id=\"birth-date\" defaultValue={profile.birth_date} />\r\n                                    </div>\r\n                                    <div className=\"emoji-list-container bio-emoji-list\" id=\"emoji-list-container\">\r\n                                        <Picker onEmojiClick={onEmojiSelect} />\r\n                                    </div>\r\n                                    <div className=\"d-flex align-items-center\">\r\n                                        <label htmlFor=\"bio\" className=\"profile-field-label\">Bio:</label>\r\n                                        <div className=\"email-input-container\">\r\n                                            <input\r\n                                                className=\"profile-field-input-email\"\r\n                                                type=\"email\"\r\n                                                name=\"bio\"\r\n                                                id=\"bio\"\r\n                                                value={editingBioContent}\r\n                                                placeholder={profile.bio}\r\n                                                onChange={e => setEditingBioContent(e.target.value)}\r\n                                            />\r\n                                            <label\r\n                                                className=\"far fa-smile\"\r\n                                                id=\"emoji-button\"\r\n                                                onClick={() => openCloseEmojiList(false)}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                                <button className=\"btn btn-grey\" onClick={() => setIsEditing(false)}>Fechar</button>\r\n                                <button className=\"btn btn-primary\" onClick={() => document.querySelector('form#update-profile-form').submit()}>Salvar</button>\r\n                            </Modal.Footer>\r\n                        </Modal>\r\n                        <div className=\"profile-data-container\">\r\n                            <div className=\"d-flex flex-column align-items-start\">\r\n                                <p style={{ padding: '15px' }}>\r\n                                    <img src={`${SERVER_URL}${profile.photo}`}\r\n                                        className=\"profile-img-big\"\r\n                                        style={{ marginBottom: '25px' }}\r\n                                    />\r\n                                </p>\r\n                                <p style={{ marginBottom: 0 }}><strong>{profile.first_name} {profile.last_name}</strong></p>\r\n                                <p className=\"text-secondary\" style={{ marginTop: 0 }}>@{profile.user.username}</p>\r\n                                <p>{profile.bio}</p>\r\n                                <p className=\"text-secondary\">\r\n                                    <i className=\"far fa-calendar-alt\"></i> Entrou em {profile.created.split('-').reverse().join('/')}\r\n                                </p>\r\n                                <p>\r\n                                    <Link to={`/user/${profile.user.username}/amigos`} style={{ color: '#000' }}>\r\n                                        <strong>{profile.friends.length}</strong> {profile.friends.length === 1 ? 'amigo' : 'amigos'}\r\n                                    </Link>\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"d-flex flex-column\">\r\n                                <button\r\n                                    className=\"btn btn-secondary\"\r\n                                    type=\"button\"\r\n                                    onClick={() => setIsEditing(true)}\r\n                                    style={{ marginBottom: '10px' }}\r\n                                >\r\n                                    Editar perfil\r\n                        </button>\r\n                                <Link to='/perfil/meus-interesses'>\r\n                                    <button className=\"btn btn-secondary\">Editar interesses</button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"profile-page-menu\">\r\n                            <div\r\n                                className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                id=\"profile-posts-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Posts ({profile.posts.length})\r\n                            </div>\r\n                            <div\r\n                                className=\"profile-page-menu-item\"\r\n                                id=\"profile-interests-page-menu-item\"\r\n                                onClick={switchPage}\r\n                            >\r\n                                Interesses ({profile.interests.filter(i => i.public).length})\r\n                            </div>\r\n                        </div>\r\n                        {currentPageIsPosts ?\r\n                            <Posts profile={profile} fetchProfile={fetchProfile} /> :\r\n                            <Interests profile={profile} />\r\n                        }\r\n                    </> :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function BlockUser() {\r\n    const [blockedProfiles, setBlockedProfiles] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/get-blocked-profiles`)\r\n            .then(response => response.json())\r\n            .then(data => setBlockedProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            {blockedProfiles !== null ?\r\n                <>\r\n                    {!!blockedProfiles.length ?\r\n                        <div className=\"blocked-profiles-list\">\r\n                            <div className=\"blocked-profiles-title\">\r\n                                <h4>\r\n                                    Voc possui {blockedProfiles.length} {blockedProfiles.length === 1 ? 'perfil bloqueado' : 'perfis bloqueados'}\r\n                                </h4>\r\n                            </div>\r\n                            {blockedProfiles.map(profile => {\r\n                                return (\r\n                                    <Link to={`/user/${profile.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                        <li className=\"list-group-item profile-row filtered-profile blocked-profile\" key={profile.id}>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <div className=\"profile-col\">\r\n                                                    <img src={`${SERVER_URL}${profile.photo}`}\r\n                                                        className=\"profile-img-med\"\r\n                                                        style={{ marginRight: '10px' }}\r\n                                                    />\r\n                                                    <div className=\"main-profile-data\">\r\n                                                        <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                                        <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"profile-col\">\r\n                                                    {profile.bio}\r\n                                                </div>\r\n                                                <div className=\"profile-col\">\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                    </Link>\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                        :\r\n                        <div className=\"no-blocked-profiles\">\r\n                            <h3>Voc no possui perfis bloqueados</h3>\r\n                        </div>\r\n                    }\r\n                </>\r\n                :\r\n                <div className=\"settings-loader-container\">\r\n                    <div className=\"loader\" />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../utils'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function ChangePassword() {\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [successMessage, setSuccessMessage] = useState(null)\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n        let password = document.querySelector('#password').value\r\n        let newPassword = document.querySelector('#new_password').value\r\n        let newPasswordc = document.querySelector('#new_passwordc').value\r\n        for (let input of document.querySelectorAll('form > input')) {\r\n            if (!input.value) {\r\n                alert('Todos os campos devem ser preenchidos!')\r\n                return\r\n            }\r\n        }\r\n        if (newPassword !== newPasswordc) {\r\n            setErrorMessage('Os campos \"Nova senha\" e \"Confirmar nova senha\" devem ter o mesmo valor!')\r\n            return\r\n        }\r\n        fetch(`${SERVER_URL}/change-password`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                password: password,\r\n                new_password: newPassword,\r\n                new_passwordc: newPasswordc,\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data === 'success') {\r\n                    setSuccessMessage('Senha alterada com successo!')\r\n                    password = newPassword = newPasswordc = ''\r\n                } else {\r\n                    setErrorMessage(data)\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            {errorMessage &&\r\n                <div class=\"alert alert-danger alert\" role=\"alert\">\r\n                    {errorMessage}\r\n                </div>\r\n            }\r\n            {successMessage &&\r\n                <div class=\"alert alert-success alert\" role=\"alert\">\r\n                    {successMessage}\r\n                </div>\r\n            }\r\n            <div className=\"change-password-title-container\">\r\n                <h3>Alterar senha</h3>\r\n            </div>\r\n            <hr />\r\n            <form className=\"change-password-form\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha atual\" autoFocus />\r\n                <br />\r\n                <a href=\"#\">Esqueceu sua senha?</a>\r\n                <hr />\r\n                <br />\r\n                <input id=\"new_password\" type=\"password\" placeholder=\"Nova senha\" />\r\n                <br />\r\n                <input id=\"new_passwordc\" type=\"password\" placeholder=\"Confirmar nova senha\" />\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-primary\"\r\n                    type=\"submit\"\r\n                    onClick={handleFormSubmit}\r\n                >Confirmar</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\n\r\nimport { csrftoken } from '../../utils'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function DeleteAccount() {\r\n    const [displayErrorMessage, setDisplayErrorMessage] = useState(null)\r\n\r\n    const deleteAccount = () => {\r\n        if (window.confirm('Tem certeza que deseja deletar a sua conta ?\\nEsta ao  irreversvel?')) {\r\n            const password = document.querySelector('#password').value\r\n            if (!password) {\r\n                window.alert('A senha no pode ficar em branco!')\r\n            } else {\r\n                fetch(`${SERVER_URL}/delete-account`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify({\r\n                        password: password\r\n                    })\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        if (data === 'Wrong password') {\r\n                            setDisplayErrorMessage(true)\r\n                        } else {\r\n                            window.alert('Conta deletada com sucesso.')\r\n                            window.location.href = SERVER_URL\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-description-container\">\r\n            {displayErrorMessage &&\r\n                <div className=\"alert\">\r\n                    <div className=\"alert alert-danger\" role=\"alert\">Senha incorreta!</div>\r\n                </div>\r\n            }\r\n            <div className=\"delete-account-title-container\">\r\n                <h3>Deletar conta</h3>\r\n            </div>\r\n            <hr />\r\n            <div className=\"delete-account-confirmation\">\r\n                <input id=\"password\" type=\"password\" placeholder=\"Senha\" autoFocus />\r\n                <hr />\r\n                <br />\r\n                Tem certeza que deseja apagar a sua conta ?\r\n                <br />\r\n                Esta ao  irreversvel\r\n                <br />\r\n                <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={deleteAccount}\r\n                >Deletar conta</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport BlockedProfiles from './blockedProfiles'\r\nimport ChangePassword from './changePassword'\r\nimport DeleteAccount from './deleteAccount'\r\n\r\nexport default function Settings(props) {\r\n    if (!props.page) props.page = 'blocked-profiles'\r\n\r\n    document.title = 'Configuraes / Napker'\r\n\r\n    useEffect(() => {\r\n        document.getElementById(props.page).classList.add('active')\r\n    }, [])\r\n\r\n    const pageChange = page => {\r\n        document.querySelectorAll('.active').forEach(el => {\r\n            el.classList.remove('active')\r\n        })\r\n        document.getElementById(page).classList.add('active')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Configuraes\" />\r\n            <div className=\"content\">\r\n                <div className=\"settings-page-container\">\r\n                    <div className=\"settings-page-menu\">\r\n                        <Link to=\"/configuraes/perfis-bloqueados\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                            <li id=\"blocked-profiles\" onClick={() => pageChange('blocked-profiles')}>\r\n                                Perfis bloqueados\r\n                            <i className=\"fas fa-angle-right\"></i>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/configuraes/alterar-senha\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                            <li id=\"change-password\" onClick={() => pageChange('change-password')}>\r\n                                Alterar senha\r\n                            <i className=\"fas fa-angle-right\"></i>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/configuraes/deletar-conta\" style={{ textDecoration: 'none', width: '100%' }}>\r\n                            <li id=\"delete-account\" onClick={() => pageChange('delete-account')}>\r\n                                Apagar conta\r\n                            <i className=\"fas fa-angle-right\"></i>\r\n                            </li>\r\n                        </Link>\r\n                    </div>\r\n                    {props.page === 'blocked-profiles' ?\r\n                        <BlockedProfiles />\r\n                        :\r\n                        <>\r\n                            {props.page === 'change-password' ?\r\n                                <ChangePassword />\r\n                                :\r\n                                <DeleteAccount />\r\n                            }\r\n                        </>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport Posts from '../profile-components/posts'\r\nimport Interests from '../profile-components/interests'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken } from '../../utils'\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            myProfile: null,\r\n            profile: null,\r\n            alertMessage: null,\r\n            relationshipButtonLabel: '',\r\n            currentPageIsPosts: true,\r\n        }\r\n        this.user.username = this.props.match.params.user.username\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.fetchProfile()\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(`${SERVER_URL}/profile-api/relationship/${this.user.username}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                let label\r\n                switch (data.relationship) {\r\n                    case 'friends':\r\n                        label = 'Amigos'\r\n                        break\r\n                    case 'invite-sent':\r\n                        label = 'Solicitado'\r\n                        break\r\n                    case 'invite-received':\r\n                        label = 'Aceitar'\r\n                        break\r\n                    case 'none':\r\n                        label = 'Solicitar'\r\n                }\r\n                this.setState({\r\n                    relationshipButtonLabel: label\r\n                })\r\n            })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let btn = document.querySelector('#profile-page-relationship-btn')\r\n        if (btn) {\r\n            switch (btn.innerHTML) {\r\n                case 'Amigos':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.onmouseenter = () => {\r\n                        if (btn.innerHTML === 'Amigos') btn.innerHTML = 'Remover'\r\n                    }\r\n                    btn.onmouseout = () => {\r\n                        if (btn.innerHTML === 'Remover') btn.innerHTML = 'Amigos'\r\n                    }\r\n                    btn.classList.add('friend-btn')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitado':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Aceitar':\r\n                    btn.classList.add('btn-primary')\r\n                    btn.classList.remove('d-none')\r\n                    break\r\n                case 'Solicitar':\r\n                    btn.classList.add('btn-secondary')\r\n                    btn.classList.remove('d-none')\r\n            }\r\n        }\r\n    }\r\n\r\n    fetchProfile = () => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${this.user.username}`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                profile: data\r\n            }))\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ myProfile: data }))\r\n    }\r\n\r\n    sendFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/send-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    cancelFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/cancel-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    removeFromFriends = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/remove-from-friends`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify(pk)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => DEBUG && console.log(data))\r\n    }\r\n\r\n    acceptFriendRequest = pk => {\r\n        fetch(`${SERVER_URL}/profile-api/reply-friend-request`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                'senderid': pk,\r\n                'reply': 'accept'\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                this.props.updateNotificationsNumber()\r\n            })\r\n    }\r\n\r\n    handleRelationshipUpdate = e => {\r\n        const btn = e.target\r\n        if (btn.innerHTML === 'Solicitar') {\r\n            this.sendFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitado'\r\n            btn.className = 'btn btn-primary'\r\n        } else if (btn.innerHTML === 'Solicitado') {\r\n            this.cancelFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Solicitar'\r\n            btn.className = 'btn btn-secondary'\r\n        } else if (btn.innerHTML === 'Amigos' || btn.innerHTML === 'Remover') {\r\n            if (window.confirm(`Remover @${this.state.profile.user.username} dos amigos?`)) {\r\n                this.removeFromFriends(btn.dataset.pk)\r\n                btn.innerHTML = 'Solicitar'\r\n                btn.className = 'btn btn-secondary'\r\n            }\r\n        } else if (btn.innerHTML === 'Aceitar') {\r\n            this.acceptFriendRequest(btn.dataset.pk)\r\n            btn.innerHTML = 'Amigos'\r\n            btn.className = 'btn btn-primary'\r\n        }\r\n    }\r\n\r\n    blockUnblockUser = () => {\r\n        if (this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id)) {\r\n            if (window.confirm(`Tem certeza que deseja desbloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/unblock-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({ alertMessage: `Voc desbloqueou @${this.state.profile.user.username}.` })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        } else {\r\n            if (window.confirm(`Tem certeza que deseja bloquear ${this.state.profile.first_name} ?`)) {\r\n                fetch(`${SERVER_URL}/profile-api/block-user`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-type': 'application/json',\r\n                        'X-CSRFToken': csrftoken,\r\n                    },\r\n                    body: JSON.stringify(this.state.profile)\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(data)\r\n                        this.setState({\r\n                            alertMessage: `Voc bloqueou @${this.state.profile.user.username}.\r\n                         ${this.state.profile.first_name} no conseguir mais ver o seu perfil ou te enviar mensagens.`\r\n                        })\r\n                        this.fetchProfile()\r\n                    })\r\n            }\r\n        }\r\n        this.fetchProfile()\r\n        document.querySelector('#view-more-select').style.display = 'none'\r\n    }\r\n\r\n    openCloseExtraOptions = () => {\r\n        const el = document.querySelector('#view-more-select')\r\n        const style = el.style\r\n        if (!style.display) style.display = 'none'\r\n        if (style.display === 'none') {\r\n            document.querySelector('#view-more-icon').classList.add('view-more-icon-active')\r\n            style.display = 'flex'\r\n        } else {\r\n            document.querySelector('#view-more-icon').classList.remove('view-more-icon-active')\r\n            style.display = 'none'\r\n        }\r\n    }\r\n\r\n    switchPage = e => {\r\n        document.querySelectorAll('.profile-page-menu-item-active').forEach(el => {\r\n            el.classList.remove('profile-page-menu-item-active')\r\n        })\r\n        e.target.classList.add('profile-page-menu-item-active')\r\n        if (e.target.id === 'profile-posts-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: true })\r\n        } else if (e.target.id === 'profile-interests-page-menu-item') {\r\n            this.setState({ currentPageIsPosts: false })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header page={this.state.profile ? `${this.state.profile.first_name} ${this.state.profile.last_name}` : 'Perfil'}\r\n                    backArrow={true}\r\n                />\r\n                {this.state.myProfile && this.state.profile ?\r\n                    <div className=\"content\">\r\n                        {this.state.profile.blocked_users.map(u => u.id).includes(this.state.myProfile.user.id) ?\r\n                            <div className=\"user-blocked-me-container\">\r\n                                <h3>O usurio te bloqueou</h3>\r\n                            </div>\r\n                            :\r\n                            <>\r\n                                {this.state.alertMessage &&\r\n                                    <div class=\"alert alert-success profile-page-alert-success\" role=\"alert\">\r\n                                        {this.state.alertMessage}\r\n                                    </div>\r\n                                }\r\n                                <div className=\"d-flex justify-content-between align-items-center profile-data-container\">\r\n                                    <div className=\"d-flex flex-column align-items-start\">\r\n                                        <p style={{ padding: '15px' }}>\r\n                                            <img src={`${SERVER_URL}${this.state.profile.photo}`}\r\n                                                className=\"profile-img-big\"\r\n                                                style={{ marginBottom: '25px' }}\r\n                                            />\r\n                                        </p>\r\n                                        <p style={{ marginBottom: 0 }}><strong>{this.state.profile.first_name} {this.state.profile.last_name}</strong></p>\r\n                                        <p className=\"text-secondary\" style={{ marginTop: 0 }}>@{this.state.profile.user.username}</p>\r\n                                        <p>{this.state.profile.bio}</p>\r\n                                        <p className=\"text-secondary\">\r\n                                            <i className=\"far fa-calendar-alt\"></i> Entrou em {this.state.profile.created.split('-').reverse().join('/')}\r\n                                        </p>\r\n                                        <p>\r\n                                            <Link to={`/user/${this.state.profile.user.username}/amigos`} style={{ color: '#000' }}>\r\n                                                <strong>{this.state.profile.friends.length}</strong> {this.state.profile.friends.length === 1 ? 'amigo' : 'amigos'}\r\n                                            </Link>\r\n                                        </p>\r\n                                    </div>\r\n                                    <div>\r\n                                        <i\r\n                                            className=\"fas fa-ellipsis-h btn btn-secondary mr-10px\"\r\n                                            id=\"view-more-icon\"\r\n                                            onClick={this.openCloseExtraOptions}\r\n                                        />\r\n                                        <div className=\"view-more-select profile-view-more-select\" id=\"view-more-select\">\r\n                                            <Link to={`/mensagens/${this.state.profile.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                                {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                                    <li>\r\n                                                        <i class=\"fas fa-envelope text-secondary\" />\r\n                                                        Enviar mensagem\r\n                                                    </li>\r\n                                                }\r\n                                            </Link>\r\n                                            <li onClick={this.blockUnblockUser}>\r\n                                                <i class=\"fas fa-user-lock text-secondary\" />\r\n                                                {this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) ?\r\n                                                    'Desbloquear'\r\n                                                    :\r\n                                                    'Bloquear'\r\n                                                }\r\n                                            </li>\r\n                                        </div>\r\n                                        {!this.state.myProfile.blocked_users.map(u => u.id).includes(this.state.profile.user.id) &&\r\n                                            <button className=\"btn d-none\"\r\n                                                id=\"profile-page-relationship-btn\"\r\n                                                data-pk={this.state.profile.id}\r\n                                                onClick={this.handleRelationshipUpdate}\r\n                                            >{this.state.relationshipButtonLabel}</button>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"profile-page-menu\">\r\n                                    <div\r\n                                        className=\"profile-page-menu-item profile-page-menu-item-active\"\r\n                                        id=\"profile-posts-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Posts ({this.state.profile.posts.length})\r\n                                    </div>\r\n                                    <div\r\n                                        className=\"profile-page-menu-item\"\r\n                                        id=\"profile-interests-page-menu-item\"\r\n                                        onClick={this.switchPage}\r\n                                    >\r\n                                        Interesses ({this.state.profile.interests.filter(i => i.public).length})\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.currentPageIsPosts ?\r\n                                    <Posts profile={this.state.profile} fetchProfile={this.fetchProfile} /> :\r\n                                    <Interests profile={this.state.profile} />\r\n                                }\r\n                            </>\r\n                        }\r\n                    </div>\r\n                    :\r\n                    <div className=\"profile-page-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile","import React, { useEffect, useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function Friends() {\r\n    const [friends, setFriends] = useState(null)\r\n    const [profile, setProfile] = useState(null)\r\n    const { slug } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/user/${slug}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (profile) {\r\n            fetch(`${SERVER_URL}/profile-api/get-friends-profiles/${profile.user.username}`)\r\n                .then(response => response.json())\r\n                .then(data => setFriends(data))\r\n        }\r\n    }, [profile])\r\n\r\n    return (\r\n        <>\r\n            <Header page={profile ? `${profile.first_name} ${profile.last_name} / Amigos` : 'Perfil / Amigos'}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"list-group profile-friends-container\">\r\n                    {friends !== null ?\r\n                        <>\r\n                            {friends.length ? friends.map(friend => {\r\n                                return (\r\n                                    <Link to={`/user/${friend.user.username}`} style={{ color: '#000', textDecoration: 'none' }}>\r\n                                        <li className=\"list-group-item profile-row filtered-profile profile-friend-list-item\" key={friend.id}>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <div className=\"profile-col\">\r\n                                                    <img src={`${SERVER_URL}${friend.photo}`}\r\n                                                        className=\"profile-img-med\"\r\n                                                        style={{ marginRight: '10px' }}\r\n                                                    />\r\n                                                    <div className=\"main-profile-data\">\r\n                                                        <strong>{friend.first_name} {friend.last_name}</strong>\r\n                                                        <p className=\"text-secondary\">@{friend.user.username}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"profile-col\">\r\n                                                    {friend.bio}\r\n                                                </div>\r\n                                                <div className=\"profile-col\">\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                    </Link>\r\n                                )\r\n                            }) :\r\n                                <h3 style={{ marginTop: '30px' }}>\r\n                                    {profile ? `${profile.first_name} ainda no possui amigos` : 'Voc ainda no possui amigos'}\r\n                                </h3>\r\n                            }\r\n                        </>\r\n                        :\r\n                        <div className=\"profiles-loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport Header from '../../components/main/header'\r\nimport { SERVER_URL } from '../../settings'\r\n\r\nexport default function InterestProfiles() {\r\n    const [profiles, setProfiles] = useState(null)\r\n    const { interest } = useParams()\r\n\r\n    document.title = `${interest[0].toUpperCase() + interest.slice(1)} / Napker`\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/interest-profile-list/${interest}`)\r\n            .then(response => response.json())\r\n            .then(data => setProfiles(data))\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Header\r\n                page={`Interesse / ${interest[0].toUpperCase() + interest.slice(1)}`}\r\n                backArrow={true}\r\n            />\r\n            <div className=\"content\">\r\n                <div className=\"interests-title-container\">\r\n                    <h3>Perfis interessados em \"{interest}\"</h3>\r\n                </div>\r\n                <div className=\"list-group interest-profile-list\">\r\n                    {profiles !== null ? profiles.map(profile => {\r\n                        return (\r\n                            <li\r\n                                className=\"list-group-item profile-row filtered-profile interest-profile-row\"\r\n                                key={profile.id}\r\n                                onClick={() => window.location.href = `/user/${profile.user.username}`}\r\n                            >\r\n                                <div className=\"d-flex justify-content-between\">\r\n                                    <div className=\"profile-col\">\r\n                                        <img src={`${SERVER_URL}${profile.photo}`}\r\n                                            className=\"profile-img-med\"\r\n                                            style={{ marginRight: '10px' }}\r\n                                        />\r\n                                        <div className=\"main-profile-data\">\r\n                                            <strong>{profile.first_name} {profile.last_name}</strong>\r\n                                            <p className=\"text-secondary\">@{profile.user.username}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"profile-col\">\r\n                                        {profile.bio}\r\n                                    </div>\r\n                                    <div className=\"profile-col\"></div>\r\n                                </div>\r\n                            </li>\r\n                        )\r\n                    }) :\r\n                        <div className=\"profiles-loader-container\">\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../settings'\r\n\r\nexport default function PublicInterests(props) {\r\n\r\n    useEffect(() => {\r\n        if (document.querySelector('.public-interests-container')) {\r\n            const tagContainer = document.querySelector('.public-tag-container');\r\n            const input = document.querySelector('.public-tag-container input');\r\n\r\n            let tags = props.myProfile.interests.filter(i => i.public).map(i => i.title);\r\n            const interestsInput = document.querySelector('#public-interests')\r\n            addTags()\r\n\r\n            function createTag(label) {\r\n                const div = document.createElement('div');\r\n                div.classList.add('tag');\r\n                div.classList.add('public-tag');\r\n                const span = document.createElement('span');\r\n                span.innerHTML = label;\r\n                const closeIcon = document.createElement('i');\r\n                closeIcon.classList.add('public-close-icon')\r\n                closeIcon.innerHTML = '';\r\n                closeIcon.classList.add('material-icons')\r\n                closeIcon.setAttribute('data-item', label);\r\n                div.appendChild(span);\r\n                div.appendChild(closeIcon);\r\n                if (!interestsInput.value.includes(label)) interestsInput.value += ` ${label}`;\r\n                return div;\r\n            }\r\n\r\n            function clearTags() {\r\n                document.querySelectorAll('.public-tag').forEach(tag => {\r\n                    tag.parentElement.removeChild(tag);\r\n                });\r\n            }\r\n\r\n            function addTags() {\r\n                clearTags();\r\n                tags.sort()\r\n                tags.slice().reverse().forEach(tag => {\r\n                    tagContainer.prepend(createTag(tag));\r\n                });\r\n                props.setInterests(tags)\r\n            }\r\n\r\n            input.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.target.value.split(',').forEach(tag => {\r\n                        if (tag.length < 3) {\r\n                            window.alert('Os interesses devem ter no mnimo 3 caracteres!')\r\n                        } else {\r\n                            tags.push(tag)\r\n                        }\r\n                    });\r\n\r\n                    e.preventDefault()\r\n\r\n                    addTags();\r\n                    input.value = '';\r\n                    return false; //prevent the form to submit\r\n                }\r\n            });\r\n            document.addEventListener('click', (e) => {\r\n                if (e.target.classList.contains('public-close-icon')) {\r\n                    const tagLabel = e.target.getAttribute('data-item');\r\n                    const index = tags.indexOf(tagLabel);\r\n                    tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\r\n                    addTags();\r\n                }\r\n            })\r\n\r\n            input.focus();\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"public-interests-container\">\r\n            <h3>Interesses pblicos</h3>\r\n            <p>\r\n                Os interesses pblicos so visveis para os outros usurios.\r\n                Coloque aqui interesses que sem eles seu perfil ficaria incompleto.\r\n            </p>\r\n            <div class=\"tag-container public-tag-container\">\r\n                <input placeholder=\"Digite e pressione 'Enter'\" maxLength=\"50\" />\r\n                <input type=\"hidden\" name=\"public-interests\" id=\"public-interests\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport { SERVER_URL } from '../../../settings'\r\n\r\nexport default function PrivateInterests(props) {\r\n\r\n    useEffect(() => {\r\n        if (document.querySelector('.private-interests-container')) {\r\n            const tagContainer = document.querySelector('.private-tag-container');\r\n            const input = document.querySelector('.private-tag-container input');\r\n\r\n            let tags = props.myProfile.interests.filter(i => !i.public).map(i => i.title);\r\n            const interestsInput = document.querySelector('#private-interests')\r\n            addTags()\r\n\r\n            function createTag(label) {\r\n                const div = document.createElement('div');\r\n                div.classList.add('tag');\r\n                div.classList.add('private-tag');\r\n                const span = document.createElement('span');\r\n                span.innerHTML = label;\r\n                const closeIcon = document.createElement('i');\r\n                closeIcon.classList.add('private-close-icon')\r\n                closeIcon.classList.add('material-icons')\r\n                closeIcon.innerHTML = '';\r\n                closeIcon.setAttribute('data-item', label);\r\n                div.appendChild(span);\r\n                div.appendChild(closeIcon);\r\n                if (!interestsInput.value.includes(label)) interestsInput.value += ` ${label}`;\r\n                return div;\r\n            }\r\n\r\n            function clearTags() {\r\n                document.querySelectorAll('.private-tag').forEach(tag => {\r\n                    tag.parentElement.removeChild(tag);\r\n                });\r\n            }\r\n\r\n            function addTags() {\r\n                clearTags();\r\n                tags.sort()\r\n                tags.slice().reverse().forEach(tag => {\r\n                    tagContainer.prepend(createTag(tag));\r\n                });\r\n                props.setInterests(tags)\r\n            }\r\n\r\n            input.addEventListener('keydown', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.target.value.split(',').forEach(tag => {\r\n                        if (tag.length < 3) {\r\n                            window.alert('Os interesses devem ter no mnimo 3 caracteres!')\r\n                        } else {\r\n                            tags.push(tag)\r\n                        }\r\n                    });\r\n\r\n                    e.preventDefault()\r\n\r\n                    addTags();\r\n                    input.value = '';\r\n                    return false; //prevent the form to submit\r\n                }\r\n            });\r\n            document.addEventListener('click', (e) => {\r\n                if (e.target.classList.contains('private-close-icon')) {\r\n                    const tagLabel = e.target.getAttribute('data-item');\r\n                    const index = tags.indexOf(tagLabel);\r\n                    tags = [...tags.slice(0, index), ...tags.slice(index + 1)];\r\n                    addTags();\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"private-interests-container\">\r\n            <h3>Interesses privados</h3>\r\n            <p>\r\n                Os interesses privados no so visveis para os outros usurios.\r\n                Eles servem para aumentar a preciso das recomendaes de perfis que\r\n                possuem o mximo de afinidade possvel com voc.\r\n            </p>\r\n            <div class=\"tag-container private-tag-container\">\r\n                <input placeholder=\"Digite e pressione 'Enter'\" maxLength=\"50\" />\r\n                <input type=\"hidden\" name=\"private-interests\" id=\"private-interests\" />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nimport Header from '../../../components/main/header'\r\nimport PublicInterests from './publicInterests'\r\nimport PrivateInterests from './privateInterests'\r\nimport { SERVER_URL } from '../../../settings'\r\nimport { csrftoken } from '../../../utils'\r\n\r\nexport default function EditInterests() {\r\n    const [myProfile, setMyProfile] = useState(null)\r\n    let [publicInterests, setPublicInterests] = [null, value => publicInterests = value]\r\n    let [privateInterests, setPrivateInterests] = [null, value => privateInterests = value]\r\n\r\n    useEffect(() => {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setMyProfile(data))\r\n    }, [])\r\n\r\n    const submitInterests = () => {\r\n        fetch(`${SERVER_URL}/profile-api/set-myinterests`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-CSRFToken': csrftoken,\r\n            },\r\n            body: JSON.stringify({\r\n                public_interests: publicInterests.sort(),\r\n                private_interests: privateInterests.sort()\r\n            })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                document.querySelector('#interests-updated-message').style.display = 'block'\r\n                document.documentElement.scrollTop = 0\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header page=\"Meus interesses\" backArrow={true} />\r\n            <div className=\"content\">\r\n                <p\r\n                    className=\"edit-interests-success-message\"\r\n                    id=\"interests-updated-message\"\r\n                >\r\n                    Interesses atualizados com sucesso\r\n                </p>\r\n                {myProfile ?\r\n                    <div className=\"interests-page-container\">\r\n                        <PublicInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPublicInterests}\r\n                        />\r\n\r\n                        <br />\r\n                        <hr />\r\n                        <br />\r\n\r\n                        <PrivateInterests\r\n                            myProfile={myProfile}\r\n                            setInterests={setPrivateInterests}\r\n                        />\r\n\r\n                        <hr />\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={submitInterests}\r\n                        >\r\n                            Salvar\r\n                        </button>\r\n                    </div> :\r\n                    <div className=\"edit-interests-loader-container\">\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Picker from 'emoji-picker-react'\r\n\r\nimport { csrftoken, openCloseEmojiList } from '../utils'\r\nimport { SERVER_URL } from '../settings'\r\n\r\nexport default function CommentModal(props) {\r\n    const [commentContent, setCommentContent] = useState('')\r\n\r\n    const post = props.post\r\n\r\n    const handleCommentChange = e => {\r\n        setCommentContent(e.target.value)\r\n        const el = document.querySelector('#comment-form-submit')\r\n        el.disabled = e.target.value === ''\r\n    }\r\n\r\n    const onEmojiSelect = (event, emojiObject) => {\r\n        setCommentContent(commentContent + emojiObject.emoji)\r\n        document.querySelector('#comment-form-submit').disabled = false\r\n    }\r\n\r\n    return (\r\n        <Modal show={props.isOpen}\r\n            onHide={props.hideModal}\r\n            size=\"lg\">\r\n            <Modal.Header closeButton>\r\n                <Modal.Title><strong>Comentar</strong></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"post-container\">\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"post-row\">\r\n                            <div className=\"post-col\">\r\n                                <img src={`${SERVER_URL}${post.details.author.photo}`}\r\n                                    className=\"profile-img-med\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"post-col\">\r\n                                <div style={{ height: '30px' }}>\r\n                                    <strong>{post.details.author.first_name} {post.details.author.last_name} </strong>\r\n                                    <p className=\"text-secondary d-inline-block\">\r\n                                        @{post.details.author.user.username}  {post.created.split('-').reverse().join('/')}\r\n                                    </p>\r\n                                </div>\r\n                                <div style={{ textAlign: 'start' }}>\r\n                                    {post.content}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n                <form action={`${SERVER_URL}/post-api/comment-post/${post.id}`} method=\"POST\" className=\"comment-form\">\r\n                    <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                    <label\r\n                        className=\"far fa-smile\"\r\n                        id=\"emoji-button\"\r\n                        onClick={() => openCloseEmojiList(false)}\r\n                    />\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"comment-content\"\r\n                        value={commentContent}\r\n                        placeholder=\"Comente alguma coisa\"\r\n                        style={{ marginRight: '5px' }}\r\n                        onChange={handleCommentChange}\r\n                    />\r\n                    <div className=\"emoji-list-container chat-emoji-list\" id=\"emoji-list-container\">\r\n                        <Picker onEmojiClick={onEmojiSelect} />\r\n                    </div>\r\n                    <button\r\n                        className=\"btn btn-primary\"\r\n                        id=\"comment-form-submit\"\r\n                        type=\"submit\"\r\n                        disabled\r\n                    >\r\n                        Enviar\r\n                    </button>\r\n                </form>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\n\r\nimport CommentModal from '../../components/commentmodal'\r\nimport LikesModal from '../../components/LikesModal'\r\nimport Header from '../../components/main/header'\r\nimport { SERVER_URL } from '../../settings'\r\nimport { csrftoken } from '../../utils'\r\n\r\nexport default function Post(props) {\r\n    const [post, setPost] = useState(null)\r\n    const [profile, setProfile] = useState(null)\r\n    const [commentModalIsOpen, setCommentModalIsOpen] = useState(props.commentModalIsOpen)\r\n    const [postLikesModal, setPostLikesModal] = useState({ isOpen: false, likes: null })\r\n    const [commentLikesModal, setCommentLikesModal] = useState({ isOpen: false, likes: null })\r\n\r\n    const { id } = useParams()\r\n\r\n    useEffect(() => {\r\n        fetchPost()\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => setProfile(data))\r\n    }, [])\r\n\r\n    const fetchPost = () => {\r\n        fetch(`${SERVER_URL}/post-api/post/${id}`)\r\n            .then(response => response.json())\r\n            .then(data => setPost(data))\r\n    }\r\n\r\n    const likeUnlikePost = e => {\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-post/${likeBtn.dataset.postid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        }\r\n    }\r\n\r\n    const likeUnlikeComment = e => {\r\n        const likeBtn = e.target\r\n        if (likeBtn.classList.contains('fas')) {\r\n            likeBtn.classList.remove('fas') //border heart\r\n            likeBtn.classList.add('far')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/unlike-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        } else {\r\n            likeBtn.classList.remove('far') //border heart\r\n            likeBtn.classList.add('fas')  //filled heart\r\n            fetch(`${SERVER_URL}/post-api/like-comment/${likeBtn.dataset.commentid}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    fetchPost()\r\n                })\r\n        }\r\n    }\r\n\r\n    const deleteComment = (e, commentId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#post-comment-${commentId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o comentrio?\\nEssa ao  irreversvel.')) {\r\n            el.style.animationPlayState = 'running'\r\n            console.log(el, el.style.animationPlayState)\r\n            el.addEventListener('animationend', () => {\r\n                fetchPost()\r\n            })\r\n            fetch(`${SERVER_URL}/post-api/delete-comment/${commentId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                })\r\n        }\r\n    }\r\n\r\n    const deletePost = (e, postId) => {\r\n        e.stopPropagation()\r\n        const el = document.querySelector(`#profile-post-${postId}`)\r\n        if (window.confirm('Tem certeza que deseja apagar o post?\\nEssa ao  irreversvel.')) {\r\n            fetch(`${SERVER_URL}/post-api/delete-post/${postId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'X-CSRFToken': csrftoken,\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    console.log(data)\r\n                    window.location.href = '/'\r\n                })\r\n        }\r\n    }\r\n\r\n    const hideCommentModal = () => {\r\n        setCommentModalIsOpen(false)\r\n    }\r\n\r\n    const hidePostLikesModal = () => {\r\n        setPostLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    const hideCommentLikesModal = () => {\r\n        setCommentLikesModal({\r\n            isOpen: false,\r\n            likes: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"post-page-container\">\r\n            {post &&\r\n                <CommentModal\r\n                    isOpen={commentModalIsOpen}\r\n                    hideModal={hideCommentModal}\r\n                    post={post}\r\n                />\r\n            }\r\n            <LikesModal\r\n                isOpen={postLikesModal.isOpen}\r\n                likes={postLikesModal.likes}\r\n                hideModal={hidePostLikesModal}\r\n            />\r\n            <LikesModal\r\n                isOpen={commentLikesModal.isOpen}\r\n                likes={commentLikesModal.likes}\r\n                hideModal={hideCommentLikesModal}\r\n            />\r\n            <Header page=\"Post\" backArrow={true} />\r\n            <div className=\"content\">\r\n                {post && profile ?\r\n                    <>\r\n                        <div className=\"post-container\">\r\n                            <div className=\"d-flex justify-content-between\">\r\n                                <div className=\"post-row\">\r\n                                    <div className=\"post-col\">\r\n                                        <Link to={`/user/${post.details.author.user.username}`}>\r\n                                            <img src={`${SERVER_URL}${post.details.author.photo}`}\r\n                                                className=\"profile-img-med\"\r\n                                            />\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className=\"post-col\">\r\n                                        <Link to={`/user/${post.details.author.user.username}`} style={{ color: '#000' }}>\r\n                                            <div style={{ height: '30px' }}>\r\n                                                <strong>{post.details.author.first_name} {post.details.author.last_name} </strong>\r\n                                                <p className=\"text-secondary d-inline-block\">\r\n                                                    @{post.details.author.user.username}  {post.created.split('-').reverse().join('/')}\r\n                                                </p>\r\n                                            </div>\r\n                                        </Link>\r\n                                        <div style={{ textAlign: 'start', fontSize: 'larger' }}>\r\n                                            {post.content}\r\n                                        </div>\r\n                                        {post.image &&\r\n                                            <img src={`${SERVER_URL}${post.image}`} className=\"post-img\" />\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                                {profile.id == post.details.author.id &&\r\n                                    <i\r\n                                        className=\"far fa-trash-alt trash-icon text-secondary\"\r\n                                        style={{ margin: '20px 20px 0 0' }}\r\n                                        onClick={e => deletePost(e, post.id)}\r\n                                    />\r\n                                }\r\n                            </div>\r\n                            <div className=\"post-actions\">\r\n                                <p className=\"text-secondary\" style={{ fontSize: 'large' }}>\r\n                                    <Link to={`/post/${id}/comentar`} className=\"text-secondary\">\r\n                                        <i\r\n                                            class=\"far fa-comment\"\r\n                                            onClick={() => setCommentModalIsOpen(true)}\r\n                                        />\r\n                                    </Link>{post.comments.length}\r\n                                    {post.likes.map(like => like.profile.id).includes(profile.id) ?\r\n                                        <i class=\"fas fa-heart\"\r\n                                            data-postid={post.id}\r\n                                            onClick={likeUnlikePost}\r\n                                        />\r\n                                        :\r\n                                        <i class=\"far fa-heart\"\r\n                                            data-postid={post.id}\r\n                                            onClick={likeUnlikePost}\r\n                                        />\r\n                                    }\r\n                                    <p className=\"post-likes-number\"\r\n                                        onClick={() => setPostLikesModal({ isOpen: true, likes: post.likes })}\r\n                                    >\r\n                                        {post.likes.length}\r\n                                    </p>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"comment-list\">\r\n                            {post.comments.map(comment => {\r\n                                return (\r\n                                    <li\r\n                                        className=\"post-container\"\r\n                                        id={`post-comment-${comment.id}`}\r\n                                        key={comment.id}\r\n                                    >\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                            <div className=\"post-row\">\r\n                                                <div className=\"post-col\">\r\n                                                    <Link to={`/user/${comment.author.user.username}`}>\r\n                                                        <img src={`${SERVER_URL}${comment.author.photo}`}\r\n                                                            className=\"profile-img-sm\"\r\n                                                        />\r\n                                                    </Link>\r\n                                                </div>\r\n                                                <div className=\"post-col\">\r\n                                                    <Link to={`/user/${comment.author.user.username}`} style={{ color: '#000' }}>\r\n                                                        <div style={{ height: '30px' }}>\r\n                                                            <strong>{comment.author.first_name} {comment.author.last_name} </strong>\r\n                                                            <p className=\"text-secondary d-inline-block\">\r\n                                                                @{comment.author.user.username}  {comment.created.split('-').reverse().join('/')}\r\n                                                            </p>\r\n                                                        </div>\r\n                                                    </Link>\r\n                                                    <div style={{ textAlign: 'start' }}>\r\n                                                        {comment.content}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            {comment.author.id == profile.id &&\r\n                                                <i\r\n                                                    className=\"far fa-trash-alt trash-icon text-secondary\"\r\n                                                    style={{ margin: '20px 20px 0 0' }}\r\n                                                    onClick={e => deleteComment(e, comment.id)}\r\n                                                />\r\n                                            }\r\n                                        </div>\r\n                                        <div className=\"post-actions\">\r\n                                            <p className=\"text-secondary\">\r\n                                                {comment.likes.map(like => like.profile.id).includes(profile.id) ?\r\n                                                    <i class=\"fas fa-heart\"\r\n                                                        data-commentid={comment.id}\r\n                                                        onClick={likeUnlikeComment}\r\n                                                    />\r\n                                                    :\r\n                                                    <i class=\"far fa-heart\"\r\n                                                        data-commentid={comment.id}\r\n                                                        onClick={likeUnlikeComment}\r\n                                                    />\r\n                                                }\r\n                                                <p\r\n                                                    className=\"post-likes-number\"\r\n                                                    onClick={() => setPostLikesModal({ isOpen: true, likes: comment.likes })}\r\n                                                >\r\n                                                    {comment.likes.length}\r\n                                                </p>\r\n                                            </p>\r\n                                        </div>\r\n                                    </li>\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                    </> :\r\n                    <div className=\"posts-loader-container\" >\r\n                        <div className=\"loader\" />\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport Picker from 'emoji-picker-react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Header from './main/header'\r\nimport { SERVER_URL } from '../settings'\r\nimport { csrftoken } from '../utils'\r\n\r\nexport default class Posts extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            profile: null,\r\n            postContent: '',\r\n            postFormImagePreview: null\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        fetch(`${SERVER_URL}/profile-api/myprofile`)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({ profile: data }))\r\n    }\r\n\r\n\r\n    handlePostContentChange = e => {\r\n        this.setState({ postContent: e.target.value })\r\n        const el = document.querySelector('#post-form-submit-btn')\r\n        el.disabled = e.target.value.trim() === '' && !this.state.postFormImagePreview\r\n    }\r\n\r\n    handlePostImageChange = e => {\r\n        const reader = new FileReader()\r\n        reader.onload = () => {\r\n            if (reader.readyState === 2) {\r\n                this.setState({ postFormImagePreview: reader.result })\r\n                document.querySelector('#post-img-container').style.display = 'initial'\r\n                document.querySelector('#post-form-submit-btn').disabled = false\r\n            }\r\n        }\r\n        try {\r\n            reader.readAsDataURL(e.target.files[0])\r\n        } catch {\r\n\r\n        }\r\n    }\r\n\r\n    handleCloseImage = () => {\r\n        document.querySelector('#post-img-container').style.display = 'none'\r\n        document.querySelector('#post-image').value = ''\r\n        if (this.state.postContent.trim() === '') document.querySelector('#post-form-submit-btn').disabled = true\r\n        this.setState({ postFormImagePreview: null })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"content\">\r\n                <Header page=\"Novo post\" backArrow={true} />\r\n                <div className=\"post-form-page-container\">\r\n                    {this.state.profile ?\r\n                        <form\r\n                            action={`${SERVER_URL}/post-api/create-post`}\r\n                            method=\"POST\"\r\n                            className=\"create-post-form-mobile\"\r\n                            encType=\"multipart/form-data\"\r\n                        >\r\n                            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />\r\n                            <div className=\"d-flex\">\r\n                                <Link to=\"/perfil\">\r\n                                    <img\r\n                                        src={`${SERVER_URL}${this.state.profile.photo}`}\r\n                                        className=\"profile-img-med\"\r\n                                    />\r\n                                </Link>\r\n                                <textarea\r\n                                    className=\"post-content-text-area\"\r\n                                    name=\"post-content\"\r\n                                    value={this.state.postContent}\r\n                                    placeholder=\"No que voc est pensando?\"\r\n                                    maxLength={300}\r\n                                    autoFocus\r\n                                    style={{ height: '250px' }}\r\n                                    onChange={this.handlePostContentChange}\r\n                                />\r\n                            </div>\r\n                            <div className=\"w-100 d-flex justify-content-center\">\r\n                                <div\r\n                                    className=\"post-img-container\"\r\n                                    id=\"post-img-container\">\r\n                                    <div\r\n                                        className=\"post-img-options\"\r\n                                    >\r\n                                        <i\r\n                                            className=\"far fa-times-circle\"\r\n                                            onClick={this.handleCloseImage}\r\n                                        />\r\n                                    </div>\r\n                                    <img\r\n                                        src={this.state.postFormImagePreview}\r\n                                        className=\"post-img post-form-img-preview\"\r\n                                        id=\"post-form-img-preview\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <hr />\r\n                            <div className=\"d-flex justify-content-between\" style={{ margin: '0px 70px 0 70px' }}>\r\n                                <div className=\"post-extra-options\">\r\n                                    <label htmlFor=\"post-image\" class=\"far fa-image\" />\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        accept=\"image/png, image/jpg, image/jpeg\"\r\n                                        name=\"post-image\"\r\n                                        id=\"post-image\"\r\n                                        style={{ display: 'none' }}\r\n                                        onChange={this.handlePostImageChange}\r\n                                    />\r\n                                </div>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    id=\"post-form-submit-btn\"\r\n                                    style={{ height: '40px' }}\r\n                                    disabled\r\n                                >\r\n                                    Postar\r\n                            </button>\r\n                            </div>\r\n                        </form>\r\n                        :\r\n                        <div className=\"posts-loader-container\" >\r\n                            <div className=\"loader\" />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\r\n\r\nimport Sidebar from './components/main/sidebar'\r\nimport BottomMenu from './components/main/bottomMenu'\r\nimport Home from './pages/home'\r\nimport Notifications from './pages/notifications'\r\nimport Messages from './pages/messages_page/messages'\r\nimport MyProfile from './pages/myprofile'\r\nimport Settings from './pages/settings_page/settingsMenu'\r\nimport Profile from './pages/home-components/profile'\r\nimport ProfileFriends from './pages/profile-components/friends'\r\nimport InterestProfiles from './pages/profile-components/interestprofiles'\r\nimport EditInterests from './pages/profile-components/edit-interests/editinterests'\r\nimport Post from './pages/home-components/post'\r\n\r\nimport PostFormPage from './components/postFormPage'\r\n\r\nimport { SERVER_URL } from './settings'\r\n\r\nexport default function App() {\r\n    const [invitesReceivedNumber, setInvitesReceived] = useState(0)\r\n    const [unvisualizedLikesNumber, setUnvisulaizedLikes] = useState(0)\r\n    const [unvisualizedCommentsNumber, setUnvisulaizedComments] = useState(0)\r\n    let notificationsNumber = invitesReceivedNumber + unvisualizedLikesNumber + unvisualizedCommentsNumber\r\n    const [unreadMessagesNumber, setUnreadMessagesNumber] = useState(0)\r\n\r\n    useEffect(() => {\r\n        updateNotificationsNumber()\r\n        updateUnreadMessagesNumber()\r\n        window.setInterval(() => {\r\n            updateNotificationsNumber()\r\n            updateUnreadMessagesNumber()\r\n        }, 6000)\r\n    }, [])\r\n\r\n    const updateNotificationsNumber = () => {\r\n        fetch(`${SERVER_URL}/profile-api/myinvites`)\r\n            .then(response => response.json())\r\n            .then(data => setInvitesReceived(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-likes`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedLikes(data.length))\r\n        fetch(`${SERVER_URL}/post-api/unvisualized-post-comments`)\r\n            .then(response => response.json())\r\n            .then(data => setUnvisulaizedComments(data.length))\r\n    }\r\n\r\n    const updateUnreadMessagesNumber = () => {\r\n        fetch(`${SERVER_URL}/chat-api/all-unread-messages-number`)\r\n            .then(response => response.json())\r\n            .then(data => setUnreadMessagesNumber(data['unread_messages_number']))\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <Sidebar notificationsNumber={notificationsNumber} unreadMessagesNumber={unreadMessagesNumber} />\r\n            <div className=\"main-content\">\r\n                <Switch>\r\n                    <Route path=\"/home\" component={Home} />\r\n                    <Route path=\"/notificaes\" render={props => (\r\n                        <Notifications {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                    )} />\r\n                    <Route path=\"/mensagens\" exact component={Messages} />\r\n                    <Route path=\"/mensagens/:slug\" render={props => (\r\n                        <Messages {...props} updateUnreadMessagesNumber={updateUnreadMessagesNumber} />\r\n                    )} />\r\n                    <Route path=\"/perfil\" exact component={MyProfile} />\r\n                    <Route path=\"/perfil/meus-interesses\" component={EditInterests} />\r\n                    <Route path=\"/configuraes\" exact component={Settings} />\r\n                    <Route path=\"/configuraes/perfis-bloqueados\" exact render={props => (\r\n                        <Settings {...props} page={'blocked-profiles'} />\r\n                    )} />\r\n                    <Route path=\"/configuraes/alterar-senha\" exact render={props => (\r\n                        <Settings {...props} page={'change-password'} />\r\n                    )} />\r\n                    <Route path=\"/configuraes/deletar-conta\" exact render={props => (\r\n                        <Settings {...props} page={'delete-account'} />\r\n                    )} />\r\n                    <Route path=\"/user/:slug\" exact render={props => (\r\n                        <Profile {...props} updateNotificationsNumber={updateNotificationsNumber} />\r\n                    )} />\r\n                    <Route path=\"/user/:slug/amigos\" component={ProfileFriends} />\r\n                    <Route path=\"/post/:id\" exact component={Post} />\r\n                    <Route path=\"/post/:id/comentar\" render={props => (\r\n                        <Post {...props} commentModalIsOpen={true} />\r\n                    )} />\r\n                    <Route path=\"/interesses/:interest\" component={InterestProfiles} />\r\n\r\n                    <Route path=\"/postar\" component={PostFormPage} />\r\n                </Switch>\r\n                <BottomMenu notificationsNumber={notificationsNumber} unreadMessagesNumber={unreadMessagesNumber} />\r\n            </div>\r\n        </Router>\r\n    )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './assets/bottomMenu.css'\r\nimport './assets/chat.css'\r\nimport './assets/commentModal.css'\r\nimport './assets/notifications.css'\r\nimport './assets/posts.css'\r\nimport './assets/profile.css'\r\nimport './assets/profiles.css'\r\nimport './assets/settings.css'\r\nimport './assets/sidebar.css'\r\nimport './assets/style.css'\r\n\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'))\r\n"],"sourceRoot":""}
>>>>>>> ecc9b9b161e24b94f0e67929da2562b4db99cc6e
